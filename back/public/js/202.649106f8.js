(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[202],{945:function(e,t,i){"use strict";i.d(t,{Z:function(){return x}});var a=i(56843),r=i(55550),o=i(64562),s=i(99709),n=i(13687),l=function(){var e=this,t=e._self._c;return t("div",[t(a.Z,{attrs:{app:"",dark:"",color:"black"}},[t("div",{staticStyle:{width:"300px",position:"absolute",bottom:"0px",top:"5px",left:"125px",overflow:"hidden"}},[t("img",{staticStyle:{width:"100px"},attrs:{src:i(98815)}})]),t(r.Z,{attrs:{variant:"text"},on:{click:function(t){e.showDrawer=!0}}}),t("router-link",{attrs:{to:"/gundam"}},[t(o.Z,{staticStyle:{position:"relative"},attrs:{target:"_blank",text:""},on:{click:function(t){return e.unselect()}}},[t("h3",{staticStyle:{position:"absolute",left:"0px",top:"-15px","letter-spacing":"5px"}},[e._v("GUNDAM")]),t("span",{staticStyle:{position:"absolute",top:"5px",left:"0px","font-size":"10px"}},[e._v(e._s(e.version))])])],1),t(n.Z),e._l(e.links,(function(i){return t("link-button",{key:"menuBarr"+i.Text,attrs:{url:i.Url,external:i.external,text:e.$vuetify.breakpoint.width>=1050?i.Text:"",icon:i.Icon},on:{click:function(t){return e.unselect()}}})}))],2),t(s.Z,{attrs:{absolute:"",temporary:"",color:"black"},model:{value:e.showDrawer,callback:function(t){e.showDrawer=t},expression:"showDrawer"}},[t("img",{staticStyle:{width:"300px",height:"400px","object-position":"-50px 00px","object-fit":"cover",position:"absolute"},attrs:{src:i(68499)}}),t("br"),t("div",[t("router-link",{attrs:{to:"/daggerheart"}},[t(o.Z,{attrs:{target:"_blank",text:""}},[t("h3",{staticClass:"colorWhite"},[e._v("Gundam")])])],1),e._l(e.links,(function(i){return t("link-button",{key:"navigationDrawer"+i.Text,staticClass:"m5px w100p",attrs:{url:i.Url,external:i.external,text:i.Text,icon:i.Icon},on:{click:function(t){return e.unselect()}}})}))],2)]),e.$vuetify.breakpoint.width>=800?t("div",{staticClass:"bg",staticStyle:{height:"60px"}}):e._e(),e.$vuetify.breakpoint.width<800?t("div",{staticClass:"bg",staticStyle:{height:"20px"}}):e._e()],1)},d=[],c=i(69092),h=i(28310),p={name:"menuBarGundam",components:{linkButton:h.Z},props:["filteractive"],data:()=>({store:c.h,version:"",searchString:"",showDrawer:!1,links:[{Text:"EncyclopÃ©die",Icon:"mdi-book",external:!0,Url:"https://docs.google.com/presentation/d/13EMZDLqcDxfhsLHIzuKSSBsFIvNwjc2QLpWlew3B8Bk/edit?usp=drive_link"},{Text:"Cartes",Icon:"mdi-cards",Url:"/gundamTcgFight"}]}),mounted(){this.version=this.$version},methods:{}},g=p,u=i(1001),m=i(90490),f=i.n(m),b=(0,u.Z)(g,l,d,!1,null,null,null);"function"===typeof f()&&f()(b);var x=b.exports},86202:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return F}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg2 h100p"},[t("menu-bar-gundam"),t("game-gundam")],1)},r=[],o=i(945),s=i(64562),n=i(4324),l=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex"},[t("div",{staticClass:"bg",staticStyle:{width:"300px"}},[t(s.Z,{staticClass:"bg m5px",attrs:{target:"_blank",text:""},on:{click:e.start}},[t(n.Z,[e._v("mdi-arrow-right-thin")]),e._v(" Start ")],1),t(s.Z,{staticClass:"bg m5px",attrs:{target:"_blank",text:""},on:{click:e.nextTurn}},[t(n.Z,[e._v("mdi-arrow-right-thin")]),e._v(" End Turn ")],1),t("div",{staticClass:"relative"},[e.showCardId.id?t("gameCard",{attrs:{card:e.showCardId,folder:"Gundam/cards/"}}):e._e()],1)],1),e.gameWorld?t("div",{key:e.refreshG,staticClass:"relative bgWhite",style:{width:e.gameWorld?.size.gameWidth+"px",height:e.gameWorld?.size.gameHeight+"px","font-size":"12px","text-align":"center"}},[t("div",{staticClass:"absolute bg2 textVerticalCenter",style:{top:e.gameWorld?.player1.position.deck.y+"px",left:e.gameWorld?.player1.position.deck.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.boxHeight+"px"}},[e._v(" "+e._s(e.gameWorld?.player1.deck.length)+" ")]),t("div",{staticClass:"absolute bg2",style:{top:e.gameWorld?.player1.position.hand.y+"px",left:e.gameWorld?.player1.position.hand.x+"px",width:e.gameWorld?.size.handWidth+"px",height:e.gameWorld?.size.handHeight+"px"}}),t("div",{staticClass:"absolute bg2 textVerticalCenter",style:{top:e.gameWorld?.player1.position.grave.y+"px",left:e.gameWorld?.player1.position.grave.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.boxHeight+"px"}},[e._v(" "+e._s(e.gameWorld?.player1.grave.length)+" ")]),t("div",{staticClass:"absolute bg2 textVerticalCenter",style:{top:e.gameWorld?.player1.position.res.y+"px",left:e.gameWorld?.player1.position.res.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:2*e.gameWorld?.size.boxHeight+5+"px"}},[e._v(" "+e._s(e.gameWorld?.player1.resAString)+" ")]),t("div",{staticClass:"absolute bg2",style:{top:e.gameWorld?.player1.position.base.y+"px",left:e.gameWorld?.player1.position.base.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.cardHeight+"px"}}),t("div",{staticClass:"absolute bg2 textVerticalCenter",style:{top:e.gameWorld?.player1.position.shield.y+"px",left:e.gameWorld?.player1.position.shield.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.miniboxHeight+"px"}},[e._v(" "+e._s(e.gameWorld?.player1.shield.length)+" ")]),t("div",{staticClass:"absolute bg2",style:{top:e.gameWorld?.player1.position.field.y+"px",left:e.gameWorld?.player1.position.field.x+"px",width:e.gameWorld?.size.fieldWidth+"px",height:e.gameWorld?.size.fieldHeight+"px"}}),t("div",{staticClass:"absolute bg textVerticalCenter",style:{top:e.gameWorld?.player2.position.deck.y+"px",left:e.gameWorld?.player2.position.deck.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.boxHeight+"px"}},[e._v(" "+e._s(e.gameWorld?.player2.deck.length)+" ")]),t("div",{staticClass:"absolute bg",style:{top:e.gameWorld?.player2.position.hand.y+"px",left:e.gameWorld?.player2.position.hand.x+"px",width:e.gameWorld?.size.handWidth+"px",height:e.gameWorld?.size.handHeight+"px"}}),t("div",{staticClass:"absolute bg textVerticalCenter",style:{top:e.gameWorld?.player2.position.grave.y+"px",left:e.gameWorld?.player2.position.grave.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.boxHeight+"px"}},[e._v(" "+e._s(e.gameWorld?.player2.grave.length)+" ")]),t("div",{staticClass:"absolute bg textVerticalCenter",style:{top:e.gameWorld?.player2.position.res.y+"px",left:e.gameWorld?.player2.position.res.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:2*e.gameWorld?.size.boxHeight+5+"px"}},[e._v(" "+e._s(e.gameWorld?.player2.resAString)+" ")]),t("div",{staticClass:"absolute bg",style:{top:e.gameWorld?.player2.position.base.y+"px",left:e.gameWorld?.player2.position.base.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.cardHeight+"px"}}),t("div",{staticClass:"absolute bg textVerticalCenter",style:{top:e.gameWorld?.player2.position.shield.y+"px",left:e.gameWorld?.player2.position.shield.x+"px",width:e.gameWorld?.size.boxWidth+"px",height:e.gameWorld?.size.miniboxHeight+"px"}},[e._v(" "+e._s(e.gameWorld?.player2.shield.length)+" ")]),t("div",{staticClass:"absolute bg",style:{top:e.gameWorld?.player2.position.field.y+"px",left:e.gameWorld?.player2.position.field.x+"px",width:e.gameWorld?.size.fieldWidth+"px",height:e.gameWorld?.size.fieldHeight+"px"}}),t("div",{staticClass:"absolute bgWhite",style:{display:"none",top:e.gameWorld.size.centerY+"px",left:e.gameWorld.size.centerX+"px",width:e.gameWorld?.size.cardWidth+"px",height:e.gameWorld?.size.handHeight+"px"}},[e._v(" Center card "+e._s(e.cards.length)+" ")]),e._l(e.cards,(function(i){return t("div",{key:"B"+i.index},[t("gameCard",{attrs:{id:"C"+i.index,card:i,folder:"Gundam/cards/",shine:i.selectable},on:{mouseover:e.showCard,click:e.selectCard}})],1)}))],2):e._e()]),e.gameWorld?.popup?t("div",{staticClass:"flex-center",staticStyle:{"z-index":"3",width:"100%",height:"450px",position:"fixed",top:"150px"}},[t("div",{staticStyle:{"background-color":"#000000E0",width:"90%",height:"100%"}},[t("h2",{staticClass:"text-center"},[e._v(e._s(e.gameWorld.popup.text))]),t("div",{staticClass:"flex-center"},e._l(e.gameWorld.popup.choices,(function(i,a){return t("span",{key:"Choice"+a},[i.text?t(s.Z,{staticClass:"mp5px",style:{width:e.gameWorld?.size.cardWidth+"px",height:e.gameWorld?.size.cardHeight+"px"},on:{click:function(t){return e.selectChoice(i)}}},[e._v(" "+e._s(i.text)+" ")]):e._e(),i.id?t("gameCard",{attrs:{card:i,folder:"Gundam/cards/",shine:!0},on:{mouseover:e.showCard,click:function(t){return e.selectChoiceCard(i)}}}):e._e()],1)})),0)])]):e._e(),t("br"),t("br"),e._v(" "+e._s(e.gameWorld?.player1.hand.length)+" ")])},d=[],c=i(61711),h=i.n(c),p=(i(57658),i(47327)),g=JSON.parse('{"_":[{"id":"GD01-028","level":5,"cost":3,"name":"Gundam Sandrock","type":[0],"attribute":"(Operation Meteor)","link":"[Quatre Raberba Winner]","effect":"Deploy Hand to Field (Maganac Corps)","pilot":"","burst":"","targetUnit":false,"ap":4,"hp":4},{"id":"GD01-034","level":4,"cost":2,"name":"Gundam Heavyarms","type":[0],"attribute":"(Operation Meteor)","link":"[Trowa Barton]","effect":"DuringPair this unit gains Breach 3","pilot":"","burst":"","targetUnit":false,"ap":3,"hp":4},{"id":"GD01-040","level":5,"cost":2,"name":"Wing Gundam","type":[0],"attribute":"(Operation Meteor)","link":"[Heero Yuy]","effect":"","pilot":"","burst":"","targetUnit":false,"ap":4,"hp":3},{"id":"GD01-041","level":4,"cost":3,"name":"Shenlong Gundam","type":[0],"attribute":"(Operation Meteor)","link":"[Chang Wufei]","effect":"Breach 3","pilot":"","burst":"","targetUnit":false,"ap":4,"hp":3},{"id":"GD01-091","level":4,"cost":1,"name":"Chang Wufei","type":[1],"attribute":"(Operation Meteor)","link":"","effect":"xxx","pilot":"During your turn, if this Unit has Breach, it can\'t receive battle damage from enemy Units with 3 or less AP.","burst":"Add this card to your hand","targetUnit":false,"ap":2,"hp":1},{"id":"GD01-107","level":3,"cost":3,"name":"First Contact","type":[2],"attribute":"","link":"","effect":"Main : Place 1 rested Resource.","pilot":"","burst":"Place 1 Ex Resource.","targetUnit":false,"ap":0,"hp":0},{"id":"ST02-001","level":6,"cost":4,"name":"Wing Gundam","type":[0],"attribute":"(Operation Meteor)","link":"[Heero Yuy]","effect":"Breach 5. This Unit may choose an active enemy Unit that is Lv4 or lower as its attack target.","pilot":"","burst":"","targetUnit":false,"ap":4,"hp":5},{"id":"ST02-002","level":3,"cost":3,"name":"Wing Gundam (Bird Mode)","type":[0],"attribute":"(Operation Meteor)","link":"[Heero Yuy]","effect":"Deploy : Place 1 Ex Resource","pilot":"","burst":"","targetUnit":false,"ap":2,"hp":2},{"id":"ST02-005","level":2,"cost":2,"name":"Maganac","type":[0],"attribute":"(Maganac Corps)","link":"","effect":"","pilot":"","burst":"","targetUnit":false,"ap":3,"hp":2},{"id":"ST02-010","level":4,"cost":1,"name":"Heero Yuy","type":[1],"attribute":"(Operation Meteor)","link":"","effect":"","pilot":"This Unit get AP+1 and HP+1 while linked.","burst":"Add this card to your hand","targetUnit":false,"ap":2,"hp":1},{"id":"ST02-012","level":4,"cost":1,"name":"Trowa Barton","type":[1,2],"attribute":"(Operation Meteor)","link":"","effect":"Main : Choose 1 of your Units. It gains Breach 3 during this turn.","pilot":"","burst":"","targetUnit":true,"ap":1,"hp":1},{"id":"ST02-013","level":4,"cost":1,"name":"Quatre Raberba Winner","type":[1,2],"attribute":"(Operation Meteor)","link":"","effect":"Action : during this battle, your shield area cards can\'t receive damage from ennemy Units that are Lv.4 or lower.","pilot":"","burst":"","targetUnit":false,"ap":1,"hp":1},{"id":"ST02-015","level":2,"cost":2,"name":"Saint Gabriel Institute","type":[3],"attribute":"(Academy) (Stronghold)","link":"","effect":"Deploy : Add 1 of your Shields to your hand. Then look at the top 2 cards of your deck and return 1 to the top and 1 to the bottom.","pilot":"","burst":"Deploy this card","targetUnit":false,"ap":0,"hp":5},{"id":"EXBP-001","level":0,"cost":0,"name":"EX Base","type":[3],"attribute":"","link":"","effect":"","pilot":"","burst":"","targetUnit":false,"ap":0,"hp":3},{"id":"xxx","level":0,"cost":0,"name":"xxx","type":[0],"attribute":"xxx","link":"","effect":"xxx","pilot":"xxx","burst":"","targetUnit":false,"ap":0,"hp":0}]}');class u{static isSelectable(e,t,i){return!0}static play(e,t,i,a,r){return t.hand=t.hand.filter((e=>e.index!==i.index)),t.field.push(i),i.location=S.locationField,i.height=S.size.cardSize.height,i.selectable=!1,!0}static activate(e,t,i){}}var m=u;class f{static isCardUnit(e){return e.type.includes(0)}static isSelectable(e,t,i){if(i.location!==this.locationHand)return!1;const a=t.field.filter((e=>this.isCardUnit(e))),r=a.filter((e=>!e.pair));return i.PilotTargetAvailable=r.map((e=>e.index)),i.CommandtargetAvailable=a.map((e=>e.index)),!i.targetUnit||(i.PilotTargetAvailable.length>0||i.CommandtargetAvailable.length>0)}static play(e,t,i){return S.showPopupSelectPilotOrCommand(i),S.world}static activate(e,t,i){}}(0,p.Z)(f,"locationHand",2);var b=f;class x{static isCardUnit(e){return e.type.includes(0)}static isSelectable(e,t,i){if(i.location!==this.locationHand)return!1;const a=t.field.filter((e=>this.isCardUnit(e)));return i.CommandtargetAvailable=a.map((e=>e.index)),!i.targetUnit||i.CommandtargetAvailable.length>0}static play(e,t,i,a){if(i.CommandTargetAvailable.length>1&&!a)return S.showPopupSelectCard(i,i.CommandTargetAvailable),S.world;a=S.getCardsByIndex(i.CommandTargetAvailable)[0],i.height=S.size.cardSize.height,t.hand=t.hand.filter((e=>e.index!==i.index)),i.to=S.size.center,i.explode=!0}static activate(e,t,i){}}(0,p.Z)(x,"locationHand",2);var y=x;class w{static isSelectable(e,t,i){if(i.location!==S.locationHand)return!1;const a=t.field.filter((e=>S.isCardUnit(e))),r=a.filter((e=>!e.pair));return i.PilotTargetAvailable=r.map((e=>e.index)),i.PilotTargetAvailable.length>0}static play(e,t,i,a){if(i.PilotTargetAvailable.length>1&&!a)return S.showPopupSelectCard(i,i.PilotTargetAvailable),S.world;a=S.getCardsByIndex(i.PilotTargetAvailable)[0],i.height=S.size.cardSize.height,t.hand=t.hand.filter((e=>e.index!==i.index)),S.pairCards(a,i)}static activate(e,t,i){}}var v=w;class C{static isSelectable(e,t,i){return!0}static play(e,t,i){i.height=S.size.cardSize.height,t.hand=t.hand.filter((e=>e.index!==i.index)),i.to=t.position.base,t.base&&S.sendToGrave(t,t.base),t.base=i}static activate(e,t,i){}}var W=C;class z{static getPlayerTurn(){return this.isPlayer1Turn?this.world.player1:this.world.player2}static getPlayerTurnOpponent(){return this.isPlayer1Turn?this.world.player2:this.world.player1}static setActive(e,t){e.active=t;const i=e.active?0:90;e.to||(e.to=e.position),e.to={x:e.to.x,y:e.to.y,rotation:i}}static pairCards(e,t){const i=.25*z.size.cardSize.height;t.to=z.clone({x:e.position.x,y:e.position.y+i}),t.zindex=1,t.active=!1,t.selectable=!1,e.zindex=2,e.pair=t,e.hp+=t.hp,e.hp+=t.hp,this.isLink(e,t)&&(e.link=!0,t.link=!0,e.active=!0,e.selectable=!0)}static isLink(e,t){return e.link.includes(t.name)}static showPopupSelectPilotOrCommand(e){this.showPopup(e,"Comand or Pilot ?",[{text:"Command"},{text:"Pilot"}])}static showPopupSelectCard(e,t){const i=this.getCardsByIndex(t);this.showPopup(e,"Choice a card",i)}static showPopup(e,t,i){this.world.popup={card:e,text:t,choices:i}}static sendToGrave(e,t){t.to=e.position.grave,t.explode=!0,t.isTrash||e.grave.push(t)}static isCardUnit(e){return e.type.includes(0)}static isCardPilot(e){return e.type.includes(1)}static isCardCommand(e){return e.type.includes(2)}static isCardCommandPilot(e){return this.isCardPilot(e)&&this.isCardCommand(e)}static isCardBase(e){return e.type.includes(3)}static getCardHandler(e,t){return t?"Pilot"==t.text?v:y:this.isCardUnit(e)?m:this.isCardCommandPilot(e)?b:this.isCardCommand(e)?y:this.isCardPilot(e)?v:this.isCardBase(e)?W:void 0}static getCardsByIndex(e){return this.world.cards.filter((t=>e.includes(t.index)))}static clone(e){return Object.assign({},e)}}(0,p.Z)(z,"world",null),(0,p.Z)(z,"cards",g._),(0,p.Z)(z,"lastChoiceType",void 0),(0,p.Z)(z,"size",void 0),(0,p.Z)(z,"index",1),(0,p.Z)(z,"isPlayer1Turn",void 0),(0,p.Z)(z,"locationDeck",0),(0,p.Z)(z,"locationShield",1),(0,p.Z)(z,"locationHand",2),(0,p.Z)(z,"locationField",3),(0,p.Z)(z,"locationBase",4),(0,p.Z)(z,"locationGrave",5);var S=z;class k{static calculateGameSize(e,t){const i={},a=e-300,r=t-64,o=9*a/16,s=16*r/9;return i.gameWidth=o<r?a:s,i.gameHeight=9*i.gameWidth/16,i.fieldHeight=(i.gameHeight-28)/3,i.handHeight=i.fieldHeight/2,i.boxHeight=(i.handHeight-5)/2,i.cardHeight=.75*i.fieldHeight,i.cardWidth=107*i.cardHeight/150,i.boxWidth=i.cardWidth,i.handWidth=i.gameWidth-10-10-i.boxWidth,i.miniboxHeight=i.fieldHeight-i.cardHeight,i.boxSize={width:i.boxWidth,height:i.boxHeight},i.cardSize={width:i.cardWidth,height:i.cardHeight},i.centerX=(i.gameWidth-i.boxWidth)/2,i.centerY=(i.gameHeight-i.cardHeight)/2,i.center={x:i.centerX,y:i.centerY},i.infoLineX1=5,i.infoLineX2=5+i.boxWidth+5,i.infoLineX3=i.gameWidth-10-i.boxWidth,i.infoLineY01=7,i.infoLineY02=i.infoLineY01+5+i.boxHeight,i.infoLineY03=i.infoLineY02+5+i.boxHeight,i.infoLineY04=i.infoLineY03+5+i.boxHeight,i.infoLineY05=i.infoLineY03+5+i.fieldHeight,i.infoLineY07=i.infoLineY05+5+i.fieldHeight,i.infoLineY06=i.infoLineY07-5-i.boxHeight,i.infoLineY08=i.infoLineY07+5+i.boxHeight,i.infoLineY04bis=i.infoLineY05-5-i.cardHeight,i.infoLineY06bis=i.infoLineY05+i.cardHeight,i.fieldWidth=i.infoLineX3-i.infoLineX2-10,this.size=i,i}static getPlayerPosition(e){return{deck:{x:e?this.size.infoLineX3:this.size.infoLineX1,y:e?this.size.infoLineY06-this.size.boxHeight-5:this.size.infoLineY04,rotation:0},grave:{x:e?this.size.infoLineX3:this.size.infoLineX1,y:e?this.size.infoLineY06:this.size.infoLineY03,rotation:0},hand:{x:e?this.size.infoLineX1:this.size.infoLineX2,y:e?this.size.infoLineY07:this.size.infoLineY01,rotation:0},base:{x:e?this.size.infoLineX1:this.size.infoLineX3,y:e?this.size.infoLineY05:this.size.infoLineY04bis,rotation:0},shield:{x:e?this.size.infoLineX1:this.size.infoLineX3,y:e?this.size.infoLineY06bis:this.size.infoLineY03,rotation:0},field:{x:this.size.infoLineX2,y:e?this.size.infoLineY05:this.size.infoLineY03,rotation:0},res:{x:e?this.size.infoLineX3:this.size.infoLineX1,y:e?this.size.infoLineY07:this.size.infoLineY01,rotation:0}}}}(0,p.Z)(k,"size",void 0);var T=k;class P{static createGame(e,t){S.size=T.calculateGameSize(e,t),S.world={size:S.size,cards:[],popup:null},S.world.player1=this.createPlayer(T.getPlayerPosition(!0),!0),S.world.player2=this.createPlayer(T.getPlayerPosition(!1),!1),this.draw(S.world.player1,5),this.draw(S.world.player2,5),S.isPlayer1Turn=!1;const i=S.getPlayerTurn();return i.resourcesEx=1,S.world.player1.shield=this.addToShield(S.world.player1,6),S.world.player2.shield=this.addToShield(S.world.player2,6),this.nextTurn(),this.refreshHandPosition(S.getPlayerTurnOpponent()),S.world}static createPlayer(e,t){let i=this.createDeck(t);i=this.sortRandom(i);const a={deck:i,position:e,isPlayer1:t,hand:[],field:[],shield:[],grave:[],resAString:"0",resourcesMax:8,resourcesRemaining:0,resourcesEx:0,resBString:"0"};return a.base=this.createDefaultBase(a),a}static createDefaultBase(e){const t=S.clone(S.cards.find((e=>"EXBP-001"===e.id)));return t.index=S.index,S.index++,this.spawnCard(e,t,S.locationBase),t}static createDeck(e){let t=[];const i=S.cards.find((e=>"GD01-034"===e.id)),a=S.cards.find((e=>"ST02-012"===e.id));for(let r=0;r<21;r++)t=t.concat([S.clone(i),S.clone(a)]);return S.cards.forEach((e=>{t.push(S.clone(e)),t.push(S.clone(e)),t.push(S.clone(e)),t.push(S.clone(e))})),t=t.splice(0,50),t.forEach((t=>{t.index=S.index,t.isPlayer1=e,t.location=S.locationDeck,S.index++})),t}static nextTurn(){S.isPlayer1Turn=!S.isPlayer1Turn;const e=S.getPlayerTurn();return S.world.cards.forEach((e=>e.selectable=!1)),e.field.forEach((e=>S.setActive(e,!0))),e.resourcesMax+=1,e.resourcesAvailable=e.resourcesMax+e.resourcesEx,e.resources=e.resourcesMax,e.resAString=e.resourcesAvailable+" ("+e.resources+"+"+e.resourcesEx+") / "+e.resourcesMax,this.draw(e,1),this.refreshHandPosition(e,!1),e.field.forEach((e=>{e.active=!0,e.selectable=!0})),S.world}static refreshHandPosition(e,t=!0){e.hand.forEach(((i,a)=>{i.to=this.getHandPosition(e,a),i.selectable=!t&&this.isSelectable(e,i)}))}static refreshFieldPosition(e){e.field.forEach(((t,i)=>{t.to=t.to??this.getFieldPosition(e,t,i),t.pair&&!t.pair.to&&(t.pair.to={x:t.to.x,y:t.pair.position.y})}))}static draw(e,t){for(let i=0;i<t;i++)this.spawnCard(e,e.deck.splice(0,1)[0],S.locationHand)}static isSelectable(e,t){if(t.location===S.locationHand){const i=t.level<=e.resourcesMax&&t.cost<=e.resourcesAvailable;if(!i)return!1}return S.getCardHandler(t).isSelectable(S.world,e,t)}static selectCard(e,t,i){const a=S.getPlayerTurn();if(e.isPlayer1!=a.isPlayer1||!e.selectable)return S.world;if(S.world.popup=null,e.location===S.locationHand){const r=S.getCardHandler(e,t).play(S.world,a,e,i);r&&this.playCardCost(a,e)}else e.location===S.locationField&&S.isCardUnit(e)&&e.active&&(S.setActive(e,!1),this.attack(a,e));return this.refreshHandPosition(a,!1),this.refreshFieldPosition(a,!1),S.world}static selectChoiceType(e){return S.lastChoiceType=e,this.selectCard(S.world.popup.card,e,null),S.world}static selectChoiceCard(e){return this.selectCard(S.world.popup.card,S.lastChoiceType,e),S.world}static attack(e,t){const i=S.getPlayerTurnOpponent();if(t.selectable=!1,i.base)this.attackCard(t,i.base,i),i.base=null;else if(i.shield.length<1)this.endFight();else{const e=i.shield[0];this.spawnCard(i,e,S.locationShield)}}static attackCard(e,t,i){t.hp-=e.ap,t.hp<1&&S.sendToGrave(i,t)}static spawnCard(e,t,i){return i==S.locationHand&&(t.position=e.position.res,e.hand.push(t),t.height=2*S.size.boxSize.height+5),i==S.locationShield&&(t.position=e.position.shield,t.to=e.position.grave,e.shield=e.shield.filter((e=>e.index!==t.index)),e.grave.push(t),t.height=S.size.cardSize.height,t.explode=!0),i==S.locationBase&&(t.position=e.position.base,t.width=S.size.boxSize.width,t.show=!0,t.isTrash=!0),t.location=i,t.show=!0,t.width=S.size.cardSize.width,t.bgposition="top center",S.world.cards.push(t),t}static endFight(){const e=S.isPlayer1Turn?"Victory":"Defeat";alert(e)}static refreshGameSize(e,t){S.size=T.calculateGameSize(e,t)}static playCardCost(e,t){const i=t.cost-e.resourcesEx;i<=0?e.resourcesEx-=t.cost:(e.resourcesEx=0,e.resources-=i),e.resourcesAvailable=e.resources+e.resourcesEx,e.resAString=e.resourcesAvailable+" ("+e.resources+"+"+e.resourcesEx+")",e.resBString=e.resourcesMax-e.resources}static addToShield(e,t){const i=[];for(let a=0;a<t;a++){const t=e.deck.splice(0,1)[0];t.width=S.size.cardSize.width,t.location=S.locationShield,t.show=!1,i.push(t)}return i}static getHandPosition(e,t=-1){const i=t>-1?t:e.hand.length;return this.getCardPosition(e,i,e.position.hand,e.hand.length,!1,S.size.handWidth)}static getFieldPosition(e,t,i=-1){const a=i>-1?i:e.field.length,r=this.getCardPosition(e,a,e.position.field,e.field.length,!0,S.size.fieldWidth);return r.rotation=t.position.rotation,r}static getCardPosition(e,t,i,a,r,o){const s=r?(S.size.cardSize.height-S.size.cardSize.width)/2:0;let n=S.size.cardSize.width+5+s;const l=this.getCenteredX(t,n,a,o);return{x:i.x+l,y:i.y}}static getCenteredX(e,t,i,a){if(1==i)return(a-t)/2;const r=i+1,o=a-i*t,s=o/r,n=(e+1)*s+e*t;return n}static sortRandom(e){return e.sort((()=>Math.random()-.5))}static endAnimation(){return S.world.cards.filter((e=>e.show&&e.to)).forEach((e=>{e.position=e.to,e.to=null})),S.world.cards=S.world.cards.filter((e=>!e.explode)),S.world}}var G=P,D=function(){var e=this,t=e._self._c;return t("img",{class:{absolute:!0,shine:e.shine},style:{left:e.card.position.x+"px",top:e.card.position.y+"px",width:e.card.width+"px",height:e.card.height+"px",transform:"rotate("+e.card.position.rotation+"deg)","object-fit":"cover","object-position":e.card.bgposition,"z-index":e.card.zindex},attrs:{src:i(97226)("./"+e.folder+e.card.id+".webp")},on:{mouseover:function(t){return e.$emit("mouseover",e.card)},click:function(t){return e.$emit("click",e.card)},contextmenu:function(t){return t.preventDefault(),e.$emit("clickright",e.card)}}})},H=[],L={name:"game-card",props:["card","folder","shine"]},_=L,A=i(1001),Y=(0,A.Z)(_,D,H,!1,null,"61d1d5f4",null),E=Y.exports,U={name:"game-gundam",props:[],components:{gameCard:E},data:()=>({refreshG:0,freeze:!1,cards:[],showCardId:{id:"",position:{x:0,y:0},width:300},gameWorld:null}),mounted(){window.addEventListener("resize",(()=>{this.gameGundamManager.refreshGameSize(this.$vuetify.breakpoint.width,this.$vuetify.breakpoint.height),this.refreshG++})),this.start()},methods:{showText(e){alert(e)},showCard(e){this.showCardId.id=e.id},start(){this.gameWorld=G.createGame(this.$vuetify.breakpoint.width,this.$vuetify.breakpoint.height),this.refreshGame()},refreshGame(e=!0){this.cards=this.gameWorld.cards.filter((e=>e.show)),this.refreshG++,e&&setTimeout((()=>{this.beginAnimation()}),1)},beginAnimation(){const e=this.gameWorld.cards.filter((e=>e.show&&e.to));if(e.length<1)return;this.freeze=!0;const t=500,i=e.map((e=>({id:"C"+e.index,from:e.position,to:e.to,isIncrement:!1})));h().animateMultiple(i,t),setTimeout((()=>{this.endAnimation()}),t+10)},endAnimation(){this.gameWorld=G.endAnimation(),this.freeze=!1,this.refreshGame(!1)},nextTurn(){this.freeze||(this.gameWorld=G.nextTurn(),this.refreshGame())},selectCard(e){this.freeze||(this.gameWorld=G.selectCard(e),this.refreshGame())},selectChoice(e){this.gameWorld=G.selectChoiceType(e),this.refreshGame()},selectChoiceCard(e){this.gameWorld=G.selectChoiceCard(e),this.refreshGame()}}},B=U,Z=(0,A.Z)(B,l,d,!1,null,null,null),M=Z.exports,X={name:"pageGundamTcgFight",components:{menuBarGundam:o.Z,gameGundam:M},data:()=>({}),mounted(){},methods:{}},I=X,O=(0,A.Z)(I,a,r,!1,null,null,null),F=O.exports},90490:function(){},61711:function(e,t,i){i(57658);class a{static animateElement(e,t,i,a){const r={element:e,from:t,to:i};this.animateElements([r],a)}static animateElements(e,t){const i=performance.now();function a(r){const o=r-i,s=Math.min(o/t,1),n=s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2;e.forEach((e=>{const t=e.from.x+(e.to.x-e.from.x)*n,i=e.from.y+(e.to.y-e.from.y)*n,a=e.from.rotation+(e.to.rotation-e.from.rotation)*n;e.element.style.left=t+"px",e.element.style.top=i+"px",e.element.style.transform=`rotate(${a}deg)`})),s<1&&requestAnimationFrame(a)}requestAnimationFrame(a)}static easeInOut(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}static add(e,t){return{x:e.x+t.x,y:e.y+t.y,rotation:e.rotation+t.rotation}}static getRelativeTo0(e,t){return{x:t.x-e.x,y:t.y-e.y}}static pxStringToInt(e){return parseInt(e.replace("px",""))}static animate(e,t,i,a,r=500){return this.animateMultiple([{id:e,from:t,to:i,isIncrement:a}],r)}static animateMultiple(e,t=500){const i=[];e.forEach((e=>{const t=document.getElementById(e.id);if(!t)return void console.log("element can't be found : "+e.id);const a=e.from??{x:this.pxStringToInt(e.element.style.left),y:this.pxStringToInt(e.element.style.top),rotation:e.element.style.rotation};a.rotation=a.rotation??0;const r=e.isIncrement?this.add(a,e.to):e.to;i.push({element:t,from:a,to:r})})),this.animateElements(i,t)}}e.exports=a},97226:function(e,t,i){var a={"./Daggerheart/class/bard-banner.webp":85519,"./Daggerheart/class/druid-banner.webp":60992,"./Daggerheart/class/guardian-banner.webp":42548,"./Daggerheart/class/ranger-banner.webp":85811,"./Daggerheart/class/rogue-banner.webp":73300,"./Daggerheart/class/seraph-banner.webp":55354,"./Daggerheart/class/sorcerer-banner.webp":17294,"./Daggerheart/class/warrior-banner.webp":18201,"./Daggerheart/class/wizard-banner.webp":52234,"./Daggerheart/domain/banner-arcana.webp":63611,"./Daggerheart/domain/banner-blade.webp":62931,"./Daggerheart/domain/banner-bone.webp":33989,"./Daggerheart/domain/banner-codex.webp":79151,"./Daggerheart/domain/banner-grace.webp":64559,"./Daggerheart/domain/banner-midnight.webp":36595,"./Daggerheart/domain/banner-sage.webp":24162,"./Daggerheart/domain/banner-splendor.webp":52593,"./Daggerheart/domain/banner-valor.webp":89751,"./Daggerheart/domain/logo-arcana.webp":99903,"./Daggerheart/domain/logo-blade.webp":1753,"./Daggerheart/domain/logo-bone.webp":37935,"./Daggerheart/domain/logo-codex.webp":40820,"./Daggerheart/domain/logo-grace.webp":54010,"./Daggerheart/domain/logo-midnight.webp":7925,"./Daggerheart/domain/logo-sage.webp":99224,"./Daggerheart/domain/logo-splendor.webp":1373,"./Daggerheart/domain/logo-valor.webp":39249,"./Daggerheart/other/cost.webp":80987,"./Gundam/cards/EXBP-001.webp":69411,"./Gundam/cards/GD01-028.webp":21495,"./Gundam/cards/GD01-034.webp":63515,"./Gundam/cards/GD01-040.webp":66732,"./Gundam/cards/GD01-041.webp":70958,"./Gundam/cards/GD01-091.webp":81708,"./Gundam/cards/GD01-107.webp":66642,"./Gundam/cards/ST02-001.webp":58864,"./Gundam/cards/ST02-002.webp":23941,"./Gundam/cards/ST02-005.webp":55045,"./Gundam/cards/ST02-010.webp":99834,"./Gundam/cards/ST02-012.webp":57160,"./Gundam/cards/ST02-013.webp":55214,"./Gundam/cards/ST02-015.webp":34078,"./blue.webp":70148,"./dark.webp":87975,"./konamiCode.webp":95768};function r(e){var t=o(e);return i(t)}function o(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=97226},60992:function(e,t,i){"use strict";e.exports=i.p+"img/druid-banner.2deb403f.webp"},52234:function(e,t,i){"use strict";e.exports=i.p+"img/wizard-banner.cd5737e8.webp"},62931:function(e,t,i){"use strict";e.exports=i.p+"img/banner-blade.30fc66e0.webp"},80987:function(e,t,i){"use strict";e.exports=i.p+"img/cost.8a36aa4e.webp"},68499:function(e,t,i){"use strict";e.exports=i.p+"img/GundamLogo2.e101246d.png"},69411:function(e,t,i){"use strict";e.exports=i.p+"img/EXBP-001.bf21c22f.webp"},21495:function(e,t,i){"use strict";e.exports=i.p+"img/GD01-028.d05bd1e0.webp"},63515:function(e,t,i){"use strict";e.exports=i.p+"img/GD01-034.f747b003.webp"},66732:function(e,t,i){"use strict";e.exports=i.p+"img/GD01-040.acdadefd.webp"},70958:function(e,t,i){"use strict";e.exports=i.p+"img/GD01-041.c76a26ff.webp"},81708:function(e,t,i){"use strict";e.exports=i.p+"img/GD01-091.38c07c00.webp"},66642:function(e,t,i){"use strict";e.exports=i.p+"img/GD01-107.cbcb9846.webp"},58864:function(e,t,i){"use strict";e.exports=i.p+"img/ST02-001.4b73f4fb.webp"},23941:function(e,t,i){"use strict";e.exports=i.p+"img/ST02-002.b845951e.webp"},55045:function(e,t,i){"use strict";e.exports=i.p+"img/ST02-005.8bffb70c.webp"},99834:function(e,t,i){"use strict";e.exports=i.p+"img/ST02-010.33785975.webp"},57160:function(e,t,i){"use strict";e.exports=i.p+"img/ST02-012.bb62e8de.webp"},55214:function(e,t,i){"use strict";e.exports=i.p+"img/ST02-013.f56b594e.webp"},34078:function(e,t,i){"use strict";e.exports=i.p+"img/ST02-015.7e42f5aa.webp"},98815:function(e,t,i){"use strict";e.exports=i.p+"img/gundam2.4cf31b1d.png"},70148:function(e,t,i){"use strict";e.exports=i.p+"img/blue.de89a950.webp"},87975:function(e,t,i){"use strict";e.exports=i.p+"img/dark.fff488e7.webp"},95768:function(e,t,i){"use strict";e.exports=i.p+"img/konamiCode.ce17ba28.webp"},47327:function(e,t,i){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function o(e){var t=r(e,"string");return"symbol"===a(t)?t:String(t)}function s(e,t,i){return t=o(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=202.649106f8.js.map