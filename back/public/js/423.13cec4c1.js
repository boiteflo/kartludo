(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[423],{41113:function(t,e,o){"use strict";o.d(e,{Z:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",{style:{display:t.stop?"none":""}},[t._l(t.targets,(function(o,s){return e("div",{key:"target"+s,staticClass:"fadeIn"},[e("div",{class:{absolute:1,pointCircle:1,colorYellow:t.target!=o,colorGreen:t.target==o},style:{top:o.y-37.5+"px",left:o.x-37.5+"px"},on:{mouseover:function(e){return t.mouseoverCursor(o)},mouseout:function(e){return t.mouseoverCursor(null)}}}),e("div",{staticClass:"absolute text-center textVerticalCenter text-shadow-black colorWhite",style:{top:o.y-20+"px",left:o.x-40+"px",width:"80px",height:"40px","pointer-events":"none"}},[t._v(" "+t._s(o.text)+" ")])])})),e("div",{style:{"pointer-events":"none"}},[e("div",{staticClass:"absolute",staticStyle:{top:"0px",left:"0px",width:"0px",height:"0px"},attrs:{id:"arrow0"+t.id}},[e("arrow-div",{attrs:{color:t.color}})],1),e("div",{staticClass:"absolute",staticStyle:{top:"0px",left:"0px",width:"0px",height:"0px"},attrs:{id:"arrow1"+t.id}},[e("arrow-div",{attrs:{color:t.color}})],1)])],2)},i=[],r=o(61711),n=o.n(r),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w100p h100p relative"},[e("div",{staticClass:"arrow absolute",style:{top:"0px",left:"0px","border-top":"5px solid "+t.color,"border-left":"5px solid "+t.color}}),e("div",{staticClass:"arrow absolute",style:{top:"15%",left:"15%","border-top":"5px solid "+t.color,"border-left":"5px solid "+t.color}}),e("div",{staticClass:"arrow absolute",style:{top:"30%",left:"30%","border-top":"5px solid "+t.color,"border-left":"5px solid "+t.color}}),e("div",{staticClass:"arrow absolute",style:{top:"45%",left:"45%","border-top":"5px solid "+t.color,"border-left":"5px solid "+t.color}}),e("div",{staticClass:"arrow absolute",style:{top:"60%",left:"60%","border-top":"5px solid "+t.color,"border-left":"5px solid "+t.color}}),e("div",{staticClass:"arrow absolute",style:{top:"75%",left:"75%","border-top":"5px solid "+t.color,"border-left":"5px solid "+t.color}})])},l=[],c={name:"arrow-div",props:["color"]},d=c,u=o(1001),h=(0,u.Z)(d,a,l,!1,null,"135b1d42",null),m=h.exports,p={name:"drag-drop-arrow",props:["id","source","targets"],components:{arrowDiv:m},data:()=>({delay:1500,animations:[],mouse:{x:0,y:0},color:"red",stop:!0,target:null}),watch:{source(){this.reset()}},mounted(){window.addEventListener("mousemove",this.updateMouse),window.addEventListener("mouseup",this.mouseUp),this.reset()},beforeUnmount(){window.removeEventListener("mousemove",this.updateMouse),window.removeEventListener("mouseup",this.mouseUp)},methods:{updateMouse(t){this.mouse.x=t.clientX,this.mouse.y=t.clientY,this.updateAnimation()},mouseUp(){!this.source||!this.animations||this.animations.length<1||(this.stop=!0,this.$emit("drop",{mouse:this.mouse,source:this.source,target:this.target}))},reset(){this.source&&(this.stop=!1,this.animate(),setInterval((()=>{this.animate()}),this.delay+15))},mouseoverCursor(t){this.target=t},animate(){this.source&&!this.stop&&(this.updateAnimation(),n().animateMultiple(this.animations,this.delay-5))},updateAnimation(){if(!this.source||this.stop)return;(!this.animations||this.animations.length<1)&&(this.animations=[this.createAnimation("arrow0"+this.id,!1),this.createAnimation("arrow1"+this.id,!0)]),this.color=this.target?"green":"red";const t=this.target?this.target:this.mouse;this.animations.forEach((e=>{const o=this.getAngleDeg(this.source,t)+135,s=(this.target,75),i=s/2;e.from.x=this.source.x,e.from.y=this.source.y,e.from.rotation=o,e.to.rotation=o,e.to.x=t.x,e.to.y=t.y,e.mid.x=e.from.x+(e.to.x-e.from.x)/2-i,e.mid.y=e.from.y+(e.to.y-e.from.y)/2-i}))},createAnimation(t,e){const o=(this.target,75),s={width:5,height:5,opacity:0},i={opacity:1,width:o,height:o},r={opacity:0,width:0,height:0};return{id:t,from:s,mid:i,to:r,delay:e,isIncrement:!1}},getAngleDeg(t,e){const o=Math.atan2(e.y-t.y,e.x-t.x);return o*(180/Math.PI)}}},x=p,y=(0,u.Z)(x,s,i,!1,null,"60429be1",null),f=y.exports},48423:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h100p w100p relative bgWhite"},[e("h2",[t._v("Page Test")]),t._l(t.points,(function(o,s){return e("div",{key:"point"+s},[e("div",{staticClass:"absolute pointCircle colorYellow nodrag",style:{top:o.x-37.5+"px",left:o.x-37.5+"px"},on:{mousedown:function(e){return t.dragAndDrop(o)}}})])})),e("arrow-anim",{attrs:{id:"0",source:t.source,target:t.target,targets:t.targets},on:{drop:t.dropPoint}})],2)},i=[],r=o(41113),n={name:"pageTest",components:{arrowAnim:r.Z},data:()=>({points:[{x:240,y:240}],targets:[{x:40,y:40},{x:140,y:40},{x:240,y:40},{x:340,y:40},{x:440,y:40},{x:40,y:140},{x:440,y:140},{x:40,y:240},{x:440,y:240},{x:40,y:340},{x:440,y:340},{x:40,y:440},{x:140,y:440},{x:240,y:440},{x:340,y:440},{x:440,y:440}],source:null,target:null}),mounted(){this.targets=this.targets.map(((t,e)=>({...t,text:"Points "+e})))},methods:{dragAndDrop(t){this.source=t},mouseoverCursor(t){this.target=t},dropPoint(t){console.log(JSON.stringify(t)),this.source=null}}},a=n,l=o(1001),c=(0,l.Z)(a,s,i,!1,null,null,null),d=c.exports},61711:function(t){class e{static animateElement(t,e,o,s){const i={element:t,from:e,to:o};this.animateElements([i],s)}static animateElements(t,e){const o=performance.now();function s(i){function r(t,e,o){let s=o,i=null,r=null,n=0;return e.delay&&(s=s<.5?s+.5:s-.5),e.mid&&e.mid[t]?s<.5?(s/=.5,n=s,i=e.from,r=e.mid):(s=(s-.5)/.5,n=s,i=e.mid,r=e.to):(n=s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2,i=e.from,r=e.to),i[t]+(r[t]-i[t])*n}const n=i-o,a=Math.min(n/e,1);t.forEach((t=>{const e=r("x",t,a),o=r("y",t,a),s=r("width",t,a),i=r("height",t,a),n=r("rotation",t,a),l=r("opacity",t,a);t.element.style.left=e+"px",t.element.style.top=o+"px",t.element.style.height=i+"px",t.element.style.width=s+"px",t.element.style.opacity=l,t.element.style.transform=`rotate(${n}deg)`})),a<1&&requestAnimationFrame(s)}requestAnimationFrame(s)}static easeInOut(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}static add(t,e){const o="x,y,width,height,rotation,opacity",s={};return o.split(",").forEach((o=>{s[o]=t[o];const i=e[o];i&&(s[o]+=i)})),s}static setIfNull(t,e){const o="x,y,width,height,rotation,opacity",s={};return o.split(",").forEach((o=>{s[o]=t[o];const i=e[o];i&&(s[o]=i)})),s}static getRelativeTo0(t,e){return{x:e.x-t.x,y:e.y-t.y}}static pxStringToInt(t){return parseInt(t.replace("px",""))}static animate(t,e,o,s,i){return this.animateMultiple([{id:t,from:e,to:o,isIncrement:s}],i)}static animateMultiple(t,e=-1){t.forEach((t=>{t.to&&(t.element=document.getElementById(t.id),t.element?(t.from=t.from??{x:this.pxStringToInt(t.element.style.left),y:this.pxStringToInt(t.element.style.top),rotation:t.element.style.rotation,height:t.element.style.height,width:t.element.style.width,delay:!1},t.from.rotation=t.from.rotation??0,t.from.opacity=t.from.opacity??1,t.from.height=t.from.height??t.element.clientHeight,t.to=t.isIncrement?this.add(t.from,t.to):t.to,t.mid=t.mid?t.isIncrement?this.add(t.from,t.mid):t.mid:null):console.log("element can't be found : "+t.id))})),this.animateElements(t,e)}}t.exports=e}}]);
//# sourceMappingURL=423.13cec4c1.js.map