(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[13],{48110:function(e,t,i){"use strict";i.d(t,{Z:function(){return x}});var a=i(56843),r=i(55550),n=i(64562),o=i(99709),s=i(13687),l=function(){var e=this,t=e._self._c;return t("div",[e.hide?t("div",{staticClass:"absolute"},[t(r.Z,{staticStyle:{"z-index":"10"},attrs:{variant:"text"},on:{click:function(t){e.showDrawer=!0}}})],1):t(a.Z,{attrs:{app:"",dark:"",color:"black"}},[t("div",{staticStyle:{width:"320px",position:"absolute",bottom:"0px",top:"0px",left:"160px",overflow:"hidden"}},[t("img",{staticStyle:{width:"100px"},attrs:{src:i(70898)}})]),t("div",{staticStyle:{width:"100px",position:"absolute",bottom:"0px",top:"0px",left:"120px",overflow:"hidden"}},[t("img",{staticStyle:{width:"100px",height:"100%"},attrs:{src:i(38525)}})]),t(r.Z,{attrs:{variant:"text"},on:{click:function(t){e.showDrawer=!0}}}),t("router-link",{attrs:{to:"/gundam"}},[t(n.Z,{staticStyle:{position:"relative"},attrs:{target:"_blank",text:""},on:{click:function(t){return e.unselect()}}},[t("h3",{staticStyle:{position:"absolute",left:"0px",top:"-15px","letter-spacing":"5px"}},[e._v("GUNDAM")]),t("span",{staticStyle:{position:"absolute",top:"5px",left:"0px","font-size":"10px"}},[e._v(e._s(e.version))])])],1),t(s.Z),e._l(e.links,(function(i){return t("link-button",{key:"menuBarr"+i.Text,attrs:{url:i.Url,external:i.external,text:e.$vuetify.breakpoint.width>=1050?i.Text:"",icon:i.Icon},on:{click:function(t){return e.unselect()}}})}))],2),t(o.Z,{attrs:{absolute:"",temporary:"",color:"black"},model:{value:e.showDrawer,callback:function(t){e.showDrawer=t},expression:"showDrawer"}},[t("img",{staticStyle:{width:"300px",height:"400px","object-position":"-50px 00px","object-fit":"cover",position:"absolute"},attrs:{src:i(68499)}}),t("br"),t("div",[t("router-link",{attrs:{to:"/daggerheart"}},[t(n.Z,{attrs:{target:"_blank",text:""}},[t("h3",{staticClass:"colorWhite"},[e._v("Gundam")])])],1),e._l(e.links,(function(i){return t("link-button",{key:"navigationDrawer"+i.Text,staticClass:"m5px w100p",attrs:{url:i.Url,external:i.external,text:i.Text,icon:i.Icon},on:{click:function(t){return e.unselect()}}})}))],2)]),!e.hide&&e.$vuetify.breakpoint.width>=800?t("div",{staticClass:"bg",staticStyle:{height:"60px"}}):e._e(),!e.hide&&e.$vuetify.breakpoint.width<800?t("div",{staticClass:"bg",staticStyle:{height:"20px"}}):e._e()],1)},c=[],d=i(69092),h=i(28310),p={name:"menuBarGundam",components:{linkButton:h.Z},props:["filteractive","hide"],data:()=>({store:d.h,version:"",searchString:"",showDrawer:!1,links:[{Text:"EncyclopÃ©die",Icon:"mdi-book",external:!0,Url:"https://docs.google.com/presentation/d/13EMZDLqcDxfhsLHIzuKSSBsFIvNwjc2QLpWlew3B8Bk/edit?usp=drive_link"},{Text:"Cartes",Icon:"mdi-cards",Url:"/gundamTcgFight"}]}),mounted(){this.version=this.$version},methods:{}},f=p,u=i(1001),g=i(90490),m=i.n(g),b=(0,u.Z)(f,l,c,!1,null,null,null);"function"===typeof m()&&m()(b);var x=b.exports},90490:function(){},65083:function(e,t,i){"use strict";i.d(t,{Z:function(){return k}});i(57658);var a=i(47327),r=JSON.parse('{"_":[{"id":"GD01-028","level":5,"cost":3,"name":"Gundam Sandrock","type":[0],"attribute":"(Operation Meteor)","link":"[Quatre Raberba Winner]","effectText":"Deploy Hand to Field (Maganac Corps)","effect":[{"trigger":"onplay","effect":"deploy","target":"Maganac Corps"}],"pilot":"","burstText":"","targetUnit":false,"ap":4,"hp":4},{"id":"GD01-034","level":4,"cost":2,"name":"Gundam Heavyarms","type":[0],"attribute":"(Operation Meteor)","link":"[Trowa Barton]","effectText":"During Pair this unit gains Breach 3","effect":[{"trigger":"onpair","effect":"breach","value":3}],"pilot":"","burstText":"","targetUnit":false,"ap":3,"hp":4},{"id":"GD01-040","level":5,"cost":2,"name":"Wing Gundam","type":[0],"attribute":"(Operation Meteor)","link":"[Heero Yuy]","effectText":"","effect":[],"pilot":"","burstText":"","targetUnit":false,"ap":4,"hp":3},{"id":"GD01-041","level":4,"cost":3,"name":"Shenlong Gundam","type":[0],"attribute":"(Operation Meteor)","link":"[Chang Wufei]","effectText":"Breach 3","effect":[{"trigger":"onplay","effect":"breach","value":3}],"pilot":"","burstText":"","targetUnit":false,"ap":4,"hp":3},{"id":"GD01-091","level":4,"cost":1,"name":"Chang Wufei","type":[1],"attribute":"(Operation Meteor)","link":"","effectText":"xxx","effect":[{"trigger":"onpair","target":"pairUnit","effect":"immuneApXIfBreach","value":4},{"trigger":"burst","effect":"sendToHand"}],"pilot":"During your turn, if this Unit has Breach, it can\'t receive battle damage from enemy Units with 3 or less AP.","burstText":"Add this card to your hand","targetUnit":false,"ap":2,"hp":1},{"id":"GD01-107","level":3,"cost":3,"name":"First Contact","type":[2],"attribute":"","link":"","effectText":"Main : Place 1 rested Resource.","effect":[{"trigger":"command","effect":"placeRestedResource","value":1},{"trigger":"burst","effect":"placeExResource","value":1}],"pilot":"","burstText":"Place 1 Ex Resource.","targetUnit":false,"ap":0,"hp":0},{"id":"ST02-001","level":6,"cost":4,"name":"Wing Gundam","type":[0],"attribute":"(Operation Meteor)","link":"[Heero Yuy]","effectText":"Breach 5. This Unit may choose an active enemy Unit that is Lv4 or lower as its attack target.","effect":[{"trigger":"onplay","effect":"breach","value":5},{"trigger":"onplay","effect":"attackActiveEnnemyLvXOrLower","value":5}],"pilot":"","burstText":"","targetUnit":false,"ap":4,"hp":5},{"id":"ST02-002","level":3,"cost":3,"name":"Wing Gundam (Bird Mode)","type":[0],"attribute":"(Operation Meteor)","link":"[Heero Yuy]","effectText":"Deploy : Place 1 Ex Resource","effect":[{"trigger":"onplay","effect":"placeExResource","value":1}],"pilot":"","burstText":"","targetUnit":false,"ap":2,"hp":2},{"id":"ST02-005","level":2,"cost":2,"name":"Maganac","type":[0],"attribute":"(Maganac Corps)","effect":[],"link":"","effectText":"","pilot":"","burstText":"","targetUnit":false,"ap":3,"hp":2},{"id":"ST02-010","level":4,"cost":1,"name":"Heero Yuy","type":[1],"attribute":"(Operation Meteor)","link":"","effectText":"","effect":[{"trigger":"onlink","type":"gain","target":"pairUnit","effect":"incruise","ap":1,"hp":1},{"trigger":"burst","effect":"sendToHand"}],"pilot":"This Unit get AP+1 and HP+1 while linked.","burstText":"Add this card to your hand","targetUnit":false,"ap":2,"hp":1},{"id":"ST02-012","level":4,"cost":1,"name":"Trowa Barton","type":[1,2],"attribute":"(Operation Meteor)","link":"","effectText":"Main : Choose 1 of your Units. It gains Breach 3 during this turn.","effect":[{"trigger":"command","effect":"gainThisTurn","target":"unit","effect2":"breach","value":3}],"pilot":"","burstText":"","targetUnit":true,"ap":1,"hp":1},{"id":"ST02-013","level":4,"cost":1,"name":"Quatre Raberba Winner","type":[1,2],"attribute":"(Operation Meteor)","link":"","effectText":"Action : during this battle, your shield area cards can\'t receive damage from ennemy Units that are Lv.4 or lower.","effect":[{"trigger":"action","effect":"protectionShieldLvXOrLower","value":4}],"pilot":"","burstText":"","activateDuringBattle":true,"targetUnit":false,"ap":1,"hp":1},{"id":"ST02-015","level":2,"cost":2,"name":"Saint Gabriel Institute","type":[3],"attribute":"(Academy) (Stronghold)","link":"","effectText":"Deploy : Add 1 of your Shields to your hand. Then look at the top 2 cards of your deck and return 1 to the top and 1 to the bottom.","effect":[{"trigger":"burst","effect":"sendToField"},{"trigger":"onplay","effect":"top2DeckCard1Top1Bottom"},{"trigger":"onplay","effect":"get1ShieldToHand"}],"pilot":"","burstText":"Deploy this card","targetUnit":false,"ap":0,"hp":5},{"id":"EXBP-001","level":0,"cost":0,"name":"EX Base","type":[3],"attribute":"","link":"","effectText":"","pilot":"","burstText":"","burst":[],"targetUnit":false,"ap":0,"hp":3},{"id":"xxx","level":0,"cost":0,"name":"xxx","type":[0],"attribute":"xxx","link":"","effectText":"xxx","effect":[],"pilot":"xxx","burstText":"","burst":[],"targetUnit":false,"ap":0,"hp":0}]}');class n{static isSelectable(e,t){return!0}static play(e,t,i,a){return e.hand=e.hand.filter((e=>e.index!==t.index)),e.field.push(t),t.location=x.locationField,t.height=x.size.cardSize.height,t.selectable=!1,t.active=!0,{playCost:!0,refreshHand:!0,refreshField:!0}}}var o=n;class s{static isSelectable(e,t){if(t.location!==x.locationHand)return!1;const i=e.field.filter((e=>x.isCardUnit(e))),a=i.filter((e=>!e.pair));return t.PilotTargetAvailable=a.map((e=>e.index)),t.CommandtargetAvailable=i.map((e=>e.index)),!t.targetUnit||(t.PilotTargetAvailable.length>0||t.CommandtargetAvailable.length>0)}static play(e,t){return x.showPopupSelectPilotOrCommand(t),{playCost:!1,refreshHand:!1,refreshField:!1}}}var l=s;class c{static apply(e,t,i,a){const r=[this.onpair,this.onlink];let n=i.effect;r.includes(e)&&(n=n.concat(a.effect));let o={};return n.filter((t=>t.trigger==e)).forEach((e=>{o.stop||(o={...o,...this.applyEffect(t,i,a,e)})})),o}static applyEffect(e,t,i,a){if(a.target&&!i&&"unit"===a.target)return x.showPopupSelectCard(t,t.CommandtargetAvailable),{stop:!0};if("get1ShieldToHand"===a.effect){if(e.shield.length<1)return;const t=e.shield.splice(0,1)[0];x.spawnCard(e,t,x.locationHand),t.position=e.position.shield}else if("top2DeckCard1Top1Bottom"===a.effect){let a=[e.deck[0],e.deck[1]];if(!i)return x.showPopupSelectHiddenCard(t,"which should go at the top deck ?",a),{stop:!0};a=e.deck.splice(0,2);const r=a.find((e=>e.index!==i.index));e.deck=[i].concat(e.deck).concat([r]),x.log(`With ${t.name}, move top 2 deck cards Above or bellow`)}else{if("protectionShieldLvXOrLower"===a.effect){if(e.base||i.index)return;const r=e.shield[0],n=r.level<a.value;return n&&x.log(`attack cancel because ${t.name} has level < ${a.value}`),{cancel:n}}if("gainThisTurn"===a.effect){const r=x.clone(a);return delete r.target,r.effect=r.effect2,x.log(`${t.name} give ${a.effect2} to ${i.name}`),this.applyEffect(e,i,null,r),i.removeEndTurn=[r],{stop:!0}}if("incruise"===a.effect)t.ap+=a.ap,t.hp+=a.hp,x.log(`${t.name} have been incruised by AP ${a.ap} and HP ${a.hp}`);else{if("sendToHand"===a.effect)return e.shield=x.removeObj(e.shield,t),x.spawnCard(e,t,x.locationHand),t.position=e.position.shield,x.log(`${t.name} is send to hand`),{cancel:!0,refreshHandOpponent:!0};if("sendToField"===a.effect)return e.hand.push(t),x.spawnCard(e,t,x.locationHand),t.position=e.position.shield,x.log(`${t.name} is send to hand`),{cancel:!0,refreshHandOpponent:!0};if("placeExResource"===a.effect)e.resourcesEx+=a.value,e.resourcesAvailable+=a.value,e.resAString=x.getRes(e),x.log(`${t.name} deploy ${a.value} ex resource`);else if("placeRestedResource"===a.effect)e.resourcesMax+=a.value,e.resAString=x.getRes(e),x.log(`${t.name} deploy ${a.value} rested resource`);else if("breach"===a.effect)(!t.breach||t.breach<a.value)&&(t.breach=a.value,x.log(`${t.name} has breach ${a.value}`));else if("deploy"===a.effect){const i=e.hand.filter((e=>e.name.includes(a.target)||e.attribute.includes(a.target)));if(i.length<1)return;const r=i[0];r.selectable=!1,r.height=x.size.cardSize.height,e.hand=x.removeObj(e.hand,r),e.field.push(r),x.log(`${t.name} deploy ${r.name}`),c.apply(c.onplay,e,r,null)}else"attackActiveEnnemyLvXOrLower"===a.effect?(!t.attackActiveEnnemy||t.attackActiveEnnemy<a.value)&&(t.attackActiveEnnemy=a.value,x.log(`${t.name} can attack unit with AP < ${a.value}`)):"immuneApXIfBreach"===a.effect&&t.breach&&(!t.immuneAp||t.immuneAp<a.value)&&(t.immuneAp=a.value,x.log(`${t.name} is now immune to AP < ${a.value}`))}}}static removeOneTurnEffect(e){e.filter((e=>e.removeEndTurn)).forEach((e=>{const t=[];e.removeEndTurn.forEach((i=>{delete e[i.effect],t.push(i.effect)})),x.log(`${e.name} lost ${t.join(", ")}`)}))}}(0,a.Z)(c,"onplay","onplay"),(0,a.Z)(c,"onpair","onpair"),(0,a.Z)(c,"onlink","onlink"),(0,a.Z)(c,"battle","battle"),(0,a.Z)(c,"burst","burst"),(0,a.Z)(c,"command","command"),(0,a.Z)(c,"deploy","deploy"),(0,a.Z)(c,"get1ShieldToHand","get1ShieldToHand"),(0,a.Z)(c,"top2DeckCard1Top1Bottom","top2DeckCard1Top1Bottom"),(0,a.Z)(c,"protectionShieldLv4OrLower","protectionShieldLv4OrLower"),(0,a.Z)(c,"breach3","breach3"),(0,a.Z)(c,"breach5","breach5"),(0,a.Z)(c,"ap1hp1","ap1hp1"),(0,a.Z)(c,"place1ExResource","place1ExResource"),(0,a.Z)(c,"attackActiveEnnemyLv4OrLower","attackActiveEnnemyLv4OrLower"),(0,a.Z)(c,"place1RestedResource","place1RestedResource"),(0,a.Z)(c,"immuneAp3IfBreach","immuneAp3IfBreach"),(0,a.Z)(c,"self","self"),(0,a.Z)(c,"unit","unit"),(0,a.Z)(c,"pairUnit","pairUnit"),(0,a.Z)(c,"gainThisTurn","gainThisTurn"),(0,a.Z)(c,"gain","gain"),(0,a.Z)(c,"hand","hand");var d=c;class h{static isSelectable(e,t){if(t.location!==x.locationHand)return!1;const i=e.field.filter((e=>x.isCardUnit(e)));return t.CommandtargetAvailable=i.map((e=>e.index)),!t.targetUnit||t.CommandtargetAvailable.length>0}static play(e,t,i){if(t.CommandTargetAvailable){if(t.CommandTargetAvailable.length>1&&!i)return x.showPopupSelectCard(t,t.CommandTargetAvailable),{stop:!0,playCost:!1,refreshHand:!1,refreshField:!1};i=x.getCardsByIndex(t.CommandTargetAvailable)[0]}const a=d.apply(d.command,e,t,i);return a.stop?{stop:!0}:(t.height=x.size.cardSize.height,e.hand=e.hand.filter((e=>e.index!==t.index)),t.to=x.size.center,t.explode=!0,{playCost:!0,refreshHand:!0,refreshField:!1})}}var p=h;class f{static isSelectable(e,t){if(t.location!==x.locationHand)return!1;const i=e.field.filter((e=>x.isCardUnit(e))),a=i.filter((e=>!e.pair));return t.PilotTargetAvailable=a.map((e=>e.index)),t.PilotTargetAvailable.length>0}static play(e,t,i){return t.PilotTargetAvailable.length>1&&!i?(x.showPopupSelectCard(t,t.PilotTargetAvailable),{playCost:!1,refreshHand:!1,refreshField:!1}):(i||(i=x.getCardsByIndex(t.PilotTargetAvailable)[0]),t.height=x.size.cardSize.height,e.hand=e.hand.filter((e=>e.index!==t.index)),x.pairCards(e,i,t),{playCost:!0,refreshHand:!0,refreshField:!1})}}var u=f;class g{static isSelectable(e,t){return!0}static play(e,t){return t.height=x.size.cardSize.height,e.hand=e.hand.filter((e=>e.index!==t.index)),t.to=e.position.base,e.base&&x.sendToGrave(e,e.base),e.base=t,t.selectable=!1,{playCost:!0,refreshHand:!0,refreshField:!1}}}var m=g;class b{static getPlayerTurn(){return this.isPlayer1Turn?this.world.player1:this.world.player2}static getPlayerTurnOpponent(){return this.isPlayer1Turn?this.world.player2:this.world.player1}static setActive(e,t){e.active=t;const i=e.active?0:90;e.to||(e.to=e.position),e.to={x:e.to.x,y:e.to.y,rotation:i}}static pairCards(e,t,i){const a=.25*this.size.cardSize.height;i.to=this.clone({x:t.position.x,y:t.position.y+a}),i.zindex=1,i.active=!1,i.selectable=!1,t.zindex=2,t.pair=i,t.ap+=i.ap,t.hp+=i.hp,d.apply(d.onpair,e,t,i),this.isLink(t,i)&&(t.link=!0,i.link=!0,t.active=!0,t.selectable=!0,d.apply(d.onlink,e,t,i))}static isLink(e,t){return e.link.includes(t.name)}static showPopupSelectPilotOrCommand(e){this.showPopup(e,"Comand or Pilot ?",[{text:"Command"},{text:"Pilot"}])}static showPopupSelectCard(e,t){this.prepareResetSelectable();const i=this.getCardsByIndex(t);i.forEach((e=>e.selectable=!0)),e.selectable=!0,this.awaitingCardChoice=!0,this.showPopup(e,"Choice a card",i)}static prepareResetSelectable(){this.world.cards.forEach((e=>{e.selectableOld=e.selectable,e.selectable=!1}))}static showPopupSelectHiddenCard(e,t,i){this.prepareResetSelectable(),e.selectable=!0;const a=6848/150;i.forEach(((e,t)=>{e.position={x:t*(a+5),y:0},e.width=a})),this.awaitingCardChoice=!0,this.showPopup(e,t,i),this.world.popup.showCards=!0}static showPopupSelectAttackTarget(e,t,i){this.world.cards.forEach((e=>{e.selectableOld=e.selectable,e.selectable=!1})),t.forEach((e=>e.selectable=!0)),e.selectable=!0,this.awaitingAttackTarget=!0,this.showPopup(e,"Choice a target",[]),this.world.popup.attackShield=!i}static showPopup(e,t,i){this.world.popup={card:e,text:t,choices:i}}static draw(e,t){for(let i=0;i<t;i++)this.spawnCard(e,e.deck.splice(0,1)[0],this.locationHand)}static addToShield(e,t){const i=[];for(let a=0;a<t;a++){const t=e.deck.splice(0,1)[0];t.width=this.size.cardSize.width,t.location=this.locationShield,t.show=!1,i.push(t)}return i}static spawnCard(e,t,i){return i==this.locationHand&&(t.position=e.position.res,e.hand.push(t),t.height=2*this.size.boxSize.height+5),i==this.locationShield&&(t.position=e.position.shield,t.to=e.position.grave,e.shield=e.shield.filter((e=>e.index!==t.index)),e.grave.push(t),t.height=this.size.cardSize.height,t.explode=!0),i==this.locationBase&&(t.position=e.position.base,t.width=this.size.boxSize.width,t.height=this.size.cardSize.height,t.show=!0,t.isTrash=!0),t.location=i,t.show=!0,t.width=this.size.cardSize.width,t.bgposition="top center",this.world.cards.push(t),t}static sendToGrave(e,t){t.to=e.position.grave,t.explode=!0,t.pair&&this.sendToGrave(e,t.pair),t.isTrash||e.grave.push(t)}static resetSelectable(){this.world.cards.forEach((e=>{e.selectable=e.selectableOld,delete e.selectableOld}))}static getRes(e){return e.resourcesAvailable+" / "+e.resourcesMax}static isCardUnit(e){return e.type?.includes(0)}static isCardPilot(e){return e.type?.includes(1)}static isCardCommand(e){return e.type?.includes(2)}static isCardCommandPilot(e){return this.isCardPilot(e)&&this.isCardCommand(e)}static isCardBase(e){return e.type?.includes(3)}static getCardHandler(e,t){return t?"Pilot"==t.text?u:p:this.isCardUnit(e)?o:this.isCardCommandPilot(e)?l:this.isCardCommand(e)?p:this.isCardPilot(e)?u:this.isCardBase(e)?m:void 0}static getCardsByIndex(e){return this.world.cards.filter((t=>e.includes(t.index)))}static log(e){this.world.logs=e+"<br>"+this.world.logs}static clone(e){return Object.assign({},e)}static removeObj(e,t,i="index"){return e.filter((e=>e[i]!==t[i]))}static sortRandom(e){return e.sort((()=>Math.random()-.5))}}(0,a.Z)(b,"world",null),(0,a.Z)(b,"cards",r._),(0,a.Z)(b,"lastChoiceType",void 0),(0,a.Z)(b,"awaitingCardChoice",!1),(0,a.Z)(b,"awaitingAttackTarget",!1),(0,a.Z)(b,"size",void 0),(0,a.Z)(b,"index",1),(0,a.Z)(b,"isPlayer1Turn",void 0),(0,a.Z)(b,"phase",0),(0,a.Z)(b,"phaseStart",0),(0,a.Z)(b,"phaseDraw",1),(0,a.Z)(b,"phaseResource",2),(0,a.Z)(b,"phaseMain",3),(0,a.Z)(b,"phaseAttack",4),(0,a.Z)(b,"phaseBlock",5),(0,a.Z)(b,"phaseAction",6),(0,a.Z)(b,"phaseDamage",7),(0,a.Z)(b,"phaseEnd",8),(0,a.Z)(b,"locationDeck",0),(0,a.Z)(b,"locationShield",1),(0,a.Z)(b,"locationHand",2),(0,a.Z)(b,"locationField",3),(0,a.Z)(b,"locationBase",4),(0,a.Z)(b,"locationGrave",5);var x=b;class y{static calculateGameSize(e,t){const i={},a=e-300,r=t-64,n=9*a/16,o=16*r/9;return i.gameWidth=n<r?a:o,i.gameHeight=9*i.gameWidth/16,i.fieldHeight=(i.gameHeight-28)/3,i.handHeight=i.fieldHeight/2,i.boxHeight=(i.handHeight-5)/2,i.cardHeight=.75*i.fieldHeight,i.cardWidth=107*i.cardHeight/150,i.boxWidth=i.cardWidth,i.handWidth=i.gameWidth-10-10-i.boxWidth,i.miniboxHeight=i.fieldHeight-i.cardHeight,i.boxSize={width:i.boxWidth,height:i.boxHeight},i.cardSize={width:i.cardWidth,height:i.cardHeight},i.centerX=(i.gameWidth-i.boxWidth)/2,i.centerY=(i.gameHeight-i.cardHeight)/2,i.center={x:i.centerX,y:i.centerY},i.infoLineX1=5,i.infoLineX2=5+i.boxWidth+5,i.infoLineX3=i.gameWidth-10-i.boxWidth,i.infoLineY01=7,i.infoLineY02=i.infoLineY01+5+i.boxHeight,i.infoLineY03=i.infoLineY02+5+i.boxHeight,i.infoLineY04=i.infoLineY03+5+i.boxHeight,i.infoLineY05=i.infoLineY03+5+i.fieldHeight,i.infoLineY07=i.infoLineY05+5+i.fieldHeight,i.infoLineY06=i.infoLineY07-5-i.boxHeight,i.infoLineY08=i.infoLineY07+5+i.boxHeight,i.infoLineY04bis=i.infoLineY05-5-i.cardHeight,i.infoLineY06bis=i.infoLineY05+i.cardHeight,i.fieldWidth=i.infoLineX3-i.infoLineX2-10,this.size=i,i}static getPlayerPosition(e){return{deck:{x:e?this.size.infoLineX3:this.size.infoLineX1,y:e?this.size.infoLineY06-this.size.boxHeight-5:this.size.infoLineY04,rotation:0},grave:{x:e?this.size.infoLineX3:this.size.infoLineX1,y:e?this.size.infoLineY06:this.size.infoLineY03,rotation:0},hand:{x:e?this.size.infoLineX1:this.size.infoLineX2,y:e?this.size.infoLineY07:this.size.infoLineY01,rotation:0},base:{x:e?this.size.infoLineX1:this.size.infoLineX3,y:e?this.size.infoLineY05:this.size.infoLineY04bis,rotation:0},shield:{x:e?this.size.infoLineX1:this.size.infoLineX3,y:e?this.size.infoLineY06bis:this.size.infoLineY03,rotation:0},field:{x:this.size.infoLineX2,y:e?this.size.infoLineY05:this.size.infoLineY03,rotation:0},res:{x:e?this.size.infoLineX3:this.size.infoLineX1,y:e?this.size.infoLineY07:this.size.infoLineY01,rotation:0}}}}(0,a.Z)(y,"size",void 0);var v=y;class w{static createGame(e,t){x.size=v.calculateGameSize(e,t),x.world={size:x.size,cards:[],popup:null,logs:"Start game<br>"},x.world.player1=this.createPlayer(v.getPlayerPosition(!0),!0),x.world.player2=this.createPlayer(v.getPlayerPosition(!1),!1),x.isPlayer1Turn=1==Math.floor(2*Math.random());const i=x.getPlayerTurn();return i.resourcesEx=1,x.world.player1.shield=x.addToShield(x.world.player1,6),x.world.player2.shield=x.addToShield(x.world.player2,6),x.draw(x.world.player1,5),x.draw(x.world.player2,5),x.world}static createPlayer(e,t){let i=this.createDeck(t);i=x.sortRandom(i);const a={deck:i,position:e,isPlayer1:t,number:t?1:2,hand:[],field:[],shield:[],grave:[],resAString:"0",resourcesMax:0,resourcesRemaining:0,resourcesEx:0,resBString:"0"};return a.base=this.createDefaultBase(a),a}static createDefaultBase(e){const t=x.clone(x.cards.find((e=>"EXBP-001"===e.id)));return t.index=x.index,x.index++,x.spawnCard(e,t,x.locationBase),t}static createDeck(e){let t=[];return x.cards.forEach((e=>{t.push(x.clone(e)),t.push(x.clone(e)),t.push(x.clone(e)),t.push(x.clone(e))})),t=t.splice(0,50),t.forEach((t=>{t.index=x.index,t.isPlayer1=e,t.location=x.locationDeck,x.index++})),t}}var T=w;class C{static createGame(e,t){const i=T.createGame(e,t);this.nextTurn();const a=x.getPlayerTurnOpponent();return this.refreshHandPosition(a),i}static nextTurn(){d.removeOneTurnEffect(x.world.cards),x.isPlayer1Turn=!x.isPlayer1Turn,x.world.isPlayer1Turn=x.isPlayer1Turn;const e=x.getPlayerTurn();x.world.cards.forEach((e=>e.selectable=!1)),e.field.forEach((e=>x.setActive(e,!0))),e.resourcesMax+=1,e.resourcesAvailable=e.resourcesMax+e.resourcesEx,e.resources=e.resourcesMax,e.resAString=x.getRes(e);const t=e.base?e.base.hp+"hp ":"-";return x.log(`-- Turn player ${e.number}, ${e.resourcesAvailable}re, ${e.shield.length}sh, ${t}ba`),x.draw(e,1),this.refreshHandPosition(e,!1),e.field.forEach((e=>{e.active=!0,e.selectable=!0})),x.world}static refreshHandPosition(e,t=!0){e.hand.forEach(((i,a)=>{i.to=this.getHandPosition(e,a),i.selectable=!t&&this.isSelectable(e,i)}))}static refreshFieldPosition(e){e.field.forEach(((t,i)=>{t.to=t.to??this.getFieldPosition(e,t,i),t.pair&&!t.pair.to&&(t.pair.to={x:t.to.x,y:t.pair.position.y})}))}static isSelectable(e,t){if(t.location===x.locationHand){const i=Math.max(e.resourcesMax,e.resourcesAvailable),a=t.level<=i&&t.cost<=e.resourcesAvailable;if(!a)return!1}return x.getCardHandler(t).isSelectable(e,t)}static selectCard(e,t,i){const a=x.getPlayerTurn();if(x.awaitingCardChoice&&!i)return this.selectChoiceCard(a,e);if(x.awaitingAttackTarget&&!i)return this.selectAttackTarget(e);if(e.isPlayer1!=a.isPlayer1||!e.selectable)return x.world;x.world.popup=null;let r={refreshHand:!0,refreshField:!0};return e.location===x.locationHand?r=this.play(a,e,t,i):e.location===x.locationField&&x.isCardUnit(e)&&e.active&&(r=this.attack(a,e,i)),r.stop||(r.refreshHand&&this.refreshHandPosition(a,!1),r.refreshField&&this.refreshFieldPosition(a,!1)),x.world}static play(e,t,i,a){let r=d.apply(d.onplay,e,t,a);return r.stop?r:(r=x.getCardHandler(t,i).play(e,t,a),r.stop||(r.playCost&&this.playCardCost(e,t),x.log(`For ${t.cost}, play ${t.name}`)),r)}static selectChoiceType(e){return x.awaitingAttackTarget?this.selectAttackTarget(e):(x.lastChoiceType=e,this.selectCard(x.world.popup.card,e,null))}static selectChoiceCard(e,t){const i=x.world.popup.card;if(x.world.popup=null,i.index==t.index)return x.resetSelectable(),x.world;const a=this.selectCard(i,x.lastChoiceType,t);return x.awaitingCardChoice=!1,a}static selectAttackTarget(e){const t=x.world.popup.card;if(x.world.popup=null,t.index==e.index)return x.world.cards.forEach((e=>{e.selectable=e.selectableOld,delete e.selectableOld})),t.selectable=!0,x.world;const i=this.selectCard(t,x.lastChoiceType,e);return x.awaitingAttackTarget=!1,x.resetSelectable(),i}static attack(e,t,i,a=null){const r=x.getPlayerTurnOpponent();let n={playCost:!1,refreshHand:!1,refreshField:!1};t.selectable=!1;let o=r.field.filter((e=>!e.active));if(t.attackActiveEnnemy&&(o=r.field.filter((e=>!e.active||e.level<t.attackActiveEnnemy))),r.base?o.push(r.base):o.push({text:"Shield"}),!i){if(o.length>1)return x.showPopupSelectAttackTarget(t,o,r.base),{playCost:!1,refreshHand:!1,refreshField:!1};i=r.base?r.base:{text:"Shield"}}const s=d.apply(d.battle,e,t,i);if(s&&s.cancel)return t.active=!1,{playCost:!1,refreshHand:!1,refreshField:!1};if(x.setActive(t,!1),i&&i.id&&this.attackCard(e,r,t,i,a),r.base&&r.base.index==i.index)r.base=r.base.hp>0?r.base:null;else if(!i.index)if(r.shield.length<1)this.endFight();else{const e=r.shield[0],i=d.apply(d.burst,r,e,t);i.refreshHandOpponent&&this.refreshHandPosition(r),i&&i.cancel||x.spawnCard(r,e,x.locationShield)}return!a&&x.isCardUnit(i)&&t.breach&&i.hp<1&&(n=this.attack(e,t,r.base??{text:"shield"},t.breach)),t.active=!1,n}static attackCard(e,t,i,a,r){let n=0;r||(n=r??a.ap,n=i.immuneAp&&i.immuneAp>n?0:n,i.hp-=n),n=i.ap,n=a.immuneAp&&a.immuneAp>n?0:n,a.hp-=n,i.hp<1&&(e.field=x.removeObj(e.field,i),i.pair&&(e.field=x.removeObj(e.field,i.pair)),x.sendToGrave(e,i)),a.hp<1&&(t.field=x.removeObj(t.field,a),a.pair&&(t.field=x.removeObj(t.field,a.pair)),x.sendToGrave(t,a))}static endFight(){const e=x.isPlayer1Turn?"Victory":"Defeat";x.showPopup(null,e,[])}static refreshGameSize(e,t){return x.size=v.calculateGameSize(e,t),x.world}static playCardCost(e,t){const i=t.cost-e.resourcesEx;i<=0?e.resourcesEx-=t.cost:(e.resourcesEx=0,e.resources-=i),e.resourcesAvailable=e.resources+e.resourcesEx,e.resAString=x.getRes(e)}static getHandPosition(e,t=-1){const i=t>-1?t:e.hand.length;return this.getCardPosition(e,i,e.position.hand,e.hand.length,!1,x.size.handWidth)}static getFieldPosition(e,t,i=-1){const a=i>-1?i:e.field.length,r=this.getCardPosition(e,a,e.position.field,e.field.length,!0,x.size.fieldWidth);return r.rotation=t.position?.rotation,r}static getCardPosition(e,t,i,a,r,n){const o=r?(x.size.cardSize.height-x.size.cardSize.width)/2:0;let s=x.size.cardSize.width+5+o;const l=this.getCenteredX(t,s,a,n);return{x:i.x+l,y:i.y}}static getCenteredX(e,t,i,a){if(1==i)return(a-t)/2;const r=i+1,n=a-i*t,o=n/r,s=(e+1)*o+e*t;return s}static endAnimation(){return x.world.cards.filter((e=>e.show&&e.to)).forEach((e=>{e.position=e.to,e.to=null})),x.world.cards=x.world.cards.filter((e=>!e.explode)),x.world}}var k=C},61711:function(e,t,i){i(57658);class a{static animateElement(e,t,i,a){const r={element:e,from:t,to:i};this.animateElements([r],a)}static animateElements(e,t){const i=performance.now();function a(r){const n=r-i,o=Math.min(n/t,1),s=o<.5?2*o*o:1-Math.pow(-2*o+2,2)/2;e.forEach((e=>{const t=e.from.x+(e.to.x-e.from.x)*s,i=e.from.y+(e.to.y-e.from.y)*s,a=e.from.height+(e.to.height-e.from.height)*s,r=e.from.rotation+(e.to.rotation-e.from.rotation)*s;e.element.style.left=t+"px",e.element.style.top=i+"px",e.element.style.height=a+"px",e.element.style.transform=`rotate(${r}deg)`})),o<1&&requestAnimationFrame(a)}requestAnimationFrame(a)}static easeInOut(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}static add(e,t){return{x:e.x+t.x,y:e.y+t.y,rotation:e.rotation+t.rotation}}static getRelativeTo0(e,t){return{x:t.x-e.x,y:t.y-e.y}}static pxStringToInt(e){return parseInt(e.replace("px",""))}static animate(e,t,i,a,r=500){return this.animateMultiple([{id:e,from:t,to:i,isIncrement:a}],r)}static animateMultiple(e,t=500){const i=[];e.forEach((e=>{const t=document.getElementById(e.id);if(!t)return void console.log("element can't be found : "+e.id);const a=e.from??{x:this.pxStringToInt(t.style.left),y:this.pxStringToInt(t.style.top),rotation:t.style.rotation,height:t.style.height};a.rotation=a.rotation??0,a.height=a.height??t.clientHeight;const r=e.isIncrement?this.add(a,e.to):e.to;i.push({element:t,from:a,to:r})})),this.animateElements(i,t)}}e.exports=a},68499:function(e,t,i){"use strict";e.exports=i.p+"img/GundamLogo2.e101246d.png"},70898:function(e,t,i){"use strict";e.exports=i.p+"img/wingzero2.48fd7deb.gif"},38525:function(e,t,i){"use strict";e.exports=i.p+"img/gradientBlack.a82f0a15.png"},47327:function(e,t,i){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function n(e){var t=r(e,"string");return"symbol"===a(t)?t:String(t)}function o(e,t,i){return t=n(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=13.2022d918.js.map