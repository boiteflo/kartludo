{"version":3,"file":"js/648.bf7c410f.js","mappings":"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","sources":["webpack://front/./src/pages/pageFight.vue","webpack://front/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://front/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://front/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://front/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://front/./src/services/serviceFight.js","webpack://front/src/pages/pageFight.vue","webpack://front/./src/pages/pageFight.vue?8de7","webpack://front/./src/pages/pageFight.vue?e167"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"Les Salons\")]),_c('div',{staticClass:\"flex-wrap p5px bg\",staticStyle:{\"top\":\"0px\",\"right\":\"0px\"}},[_c('v-btn',{class:{bgWhite:_vm.salon=='help', bg2:_vm.salon!='help', m5px:true},attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.selectSalon('help')}}},[_c('v-icon',[_vm._v(\"mdi-help\")]),_vm._v(\" Aide \")],1),_c('v-btn',{class:{bgWhite:_vm.salon=='Temp', bg2:_vm.salon!='Temp', m5px:true},attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.selectSalon('Temp')}}},[_c('v-icon',[_vm._v(\"mdi-cube\")]),_vm._v(\" Salon Temporaire \")],1)],1),(_vm.salon == 'help')?_c('div',[_c('h1',[_vm._v(\"Les Commandes\")]),_vm._m(0),_c('br'),_c('h1',[_vm._v(\"Exemple Pathfinder 2\")]),_vm._m(1),_c('br')]):_c('div',[(_vm.salon =='Temp')?_c('div',{staticClass:\"bg p5px\"},[_vm._v(\"Les données de ce salon ne sont pas sauvegardées.\")]):_vm._e(),_c('div',{staticClass:\"flex-wrap p5px bg\",staticStyle:{\"top\":\"0px\",\"right\":\"0px\"}},_vm._l((_vm.fight.creatures),function(creature){return _c('v-btn',{key:'Creature' + creature.name,staticClass:\"bg2 m5px\",attrs:{\"text\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.toCreatureString(creature))+\" \")])}),1),_c('br'),_c('div',{staticClass:\"m5px\"},[_c('pre',[_vm._v(_vm._s(_vm.fight.history))])]),_c('br'),_c('div',{staticStyle:{\"color\":\"white\"}},[_c('div',{staticClass:\"flex-wrap p5px\",staticStyle:{\"top\":\"0px\",\"right\":\"0px\"}},_vm._l((_vm.commands),function(com){return _c('v-btn',{key:'Command' + com.id,staticClass:\"bg2 m5px\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.selectCommand(com.value)}}},[_vm._v(\" \"+_vm._s(com.id)+\" \")])}),1),_c('v-text-field',{staticClass:\"flex-grow m5px\",attrs:{\"hide-details\":\"\",\"label\":\"Écrire une commande et appuyer sur entrer\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.applyCommand('')}},model:{value:(_vm.command),callback:function ($$v) {_vm.command=$$v},expression:\"command\"}})],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('pre',[_vm._v(\"        Une valeur peut être un nombre (exemple: 12) ou un texte sans espace (TresGros) ou une formule (1d20+5*8/3-4)\\n\\n        \"),_c('b',[_vm._v(\"Définir un personnage en lui donnant un nom et des valeurs.\")]),_vm._v(\"\\n        \"),_c('b',[_vm._v(\"set\")]),_vm._v(\" (nom du personnage) (propriété 1) (valeur 1) (propriété 2) (valeur 2) ...\\n        set aziel pv 20 shield 32 ca 19 ref 1d20+8 vig 1d20+8 vol 1d20+12 \\n        -- aziel have been updated\\n\\n        \"),_c('b',[_vm._v(\"Attaquer un personnage\")]),_vm._v(\"\\n        \"),_c('b',[_vm._v(\"attack\")]),_vm._v(\" (nom de la victime) (formule pour toucher) (propriété de défense de la victime) (formule de dégat) (propriété de vie) (nom de l'attaque)\\n        attack aziel 1d20+5 ca 1d8+3 pv Attaque de javelot \\n        -- Attack:1d20(15)+5=20 vs ca:19 ### the attack succeeded Damages:1d8(4)+3=7 aziel pv:20-7=13 ###\\n        \\n        \"),_c('b',[_vm._v(\"Attaquer un personnage avec un sort de défense\")]),_vm._v(\"\\n        \"),_c('b',[_vm._v(\"spell\")]),_vm._v(\" (nom de la victime) (DD pour toucher) (propriété de défense de la victime) (formule de dégat) (propriété de vie) (nom de l'attaque)\\n        spell aziel 18 ref 3d4 pv Arc électrique \\n        -- Attack:18 vs ref:1d20(16)+8=24 ### The attack partially fails.  Damages:3d4(6)/2=3 aziel pv:13-3=10 ###\\n        \\n        \"),_c('b',[_vm._v(\"Augmenter la valeur de propriétés\")]),_vm._v(\"\\n        \"),_c('b',[_vm._v(\"add\")]),_vm._v(\" (nom du personnage) (propriété 1) (valeur 1) (propriété 2) (valeur 2) ...\\n        add aziel pv 10 shield -2 \\n        -- aziel pv 10+10=20 shield 32-2=30\\n        \\n        \"),_c('b',[_vm._v(\"Montrer les valeurs d'un personnage\")]),_vm._v(\"\\n        \"),_c('b',[_vm._v(\"show\")]),_vm._v(\" (nom du personnage) (propriété 1) (propriété 2) ...\\n        show aziel pv shield \\n        -- aziel pv:20 shield:30\\n        \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('pre',[_vm._v(\"        \"),_c('b',[_vm._v(\"Aziel Niveau 4\")]),_vm._v(\"\\n        Il a 39PV, une classe d'armure de 20, des jets de sauvegardes réflexes: +9, vigueur +8, volonté +12 et un bouclier ayant 32pv\\n        Il attaque avec un javelot boomerang qui inflige 2d6+1 dégats avec une première attaque a +9, une seconde a +4 et une dernière a -1.\\n        Il possède un sort d'arc électrique qui impose un jet de réflexe basique DD 19 et inflige 2d4 dégats et un sort de morsure du froid qui impose un jet de vigueur basique DD 19 qui inflige 2d6+3 dégats\\n\\n        Voici les différentes commandes :\\n        \"),_c('b',[_vm._v(\"Définir le personnage\")]),_vm._v(\"\\n        set aziel pv 39 bouclier 32 ca 20 ref 1d20+9 vig 1d20+8 vol 1d20+12\\n        \\n        \"),_c('b',[_vm._v(\"Effectuer trois attaques le même tour contre un loup. La première a +9, la seconde a +4 et la dernière a -1\")]),_vm._v(\"\\n        attack loup 1d20+9 ca 2d6+1 pv Javelot 1 \\n        attack loup 1d20+4 ca 2d6+1 pv Javelot 2\\n        attack loup 1d20-1 ca 2d6+1 pv Javelot 3\\n\\n        Remarque : Il est possible d'écrire les trois commandes en une seul ligne avec la virgule en guise de séparateur\\n        attack loup 1d20+9 ca 2d6+1 pv Javelot 1, attack loup 1d20+4 ca 2d6+1 pv Javelot 2, attack loup 1d20-1 ca 2d6+1 pv Javelot 3\\n        \\n        \"),_c('b',[_vm._v(\"Parer avec son bouclier\")]),_vm._v(\"\\n        add aziel pv 5 bouclier -5\\n\\n        \"),_c('b',[_vm._v(\"Faire une attaque de sort sur le loup\")]),_vm._v(\"\\n        spell loup 19 ref 2d4 pv Arc électrique \\n        spell loup 19 vig 2d6+3 pv Morsure du froid \\n        \")])\n}]\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","class ServiceFight {\r\n    \r\n    static creatures = [];\r\n\r\n    static handleAllCommand(message, creaturesOverride){\r\n      this.creatures = creaturesOverride ? creaturesOverride : this.creatures;  \r\n      \r\n      const msg = message.trim().toLowerCase();      \r\n        const result = [];\r\n        msg.split(',').forEach(x=> \r\n          this.handleCommand(result, x.trim()));\r\n      \r\n        return result.join('\\n');\r\n      }\r\n      \r\n      static handleCommand(result, command){\r\n        const instructions = command.split(' ');  \r\n        const name = instructions.shift();\r\n        let creature = this.getCreature(instructions);\r\n        if(!creature){\r\n          result.push( name + \" doesn't exist.\");\r\n        }\r\n        \r\n        if(command.startsWith('set'))\r\n          this.handleSet(result, creature, instructions);\r\n        \r\n        if(command.startsWith('show'))\r\n          this.handleShow(result, creature, instructions);\r\n        \r\n        if(command.startsWith('attack'))\r\n            this.handleAttack(result, creature, instructions, true);\r\n        \r\n        if(command.startsWith('spell'))\r\n            this.handleAttack(result, creature, instructions, false);\r\n        \r\n        if(command.startsWith('add'))\r\n            this.handleAdd(result, creature, instructions);\r\n      \r\n        if(result.length < 1)\r\n          result.push(\"No valid command.\");\r\n      }\r\n      \r\n      static getCreature(instructions){\r\n        const name = instructions.shift();\r\n        let creature = this.creatures.find(x=> x.name== name);\r\n        if(creature) return creature;\r\n      \r\n        creature = {name};\r\n        this.creatures.push(creature);\r\n        return creature;\r\n      }\r\n      \r\n      // set aziel pv 20 shield 32 ref 8 vig 8 vol 12\r\n      static handleSet(result, creature, instructions){\r\n        let i = 0;\r\n        while(instructions[i]){\r\n          const val = instructions[i+1];\r\n          const number = parseInt(val);\r\n          creature[instructions[i]] = isNaN(val) ? val : number;\r\n          i+=2;\r\n        }\r\n      \r\n        result.push(creature.name + ' have been updated');\r\n      }\r\n      \r\n      // show aziel pv shield\r\n      static handleShow(result, creature, instructions){\r\n        let i = 0;\r\n        let messages = [];\r\n        while(instructions[i]){\r\n          const val = creature[instructions[i]];\r\n          if(val)\r\n            messages.push(instructions[i] + \":\" + val);\r\n          i++;\r\n        }\r\n        result.push(creature.name + \" \" + messages.join(' '));\r\n      }\r\n      \r\n      // add snukbi pv 10 shield -2\r\n      static handleAdd(result, creature, instructions){\r\n        let i = 0;\r\n        let messages = [];\r\n        while(instructions[i]){\r\n          const attributeProperty = instructions[i];\r\n          let attributeValue = creature[attributeProperty];\r\n          if(isNaN(attributeValue))\r\n            messages.push(attributeProperty + \" x\");\r\n          else{\r\n            let rollInstruction = attributeValue + \"+\" + instructions[i+1];\r\n            rollInstruction = rollInstruction.replaceAll(\"+-\", \"-\");\r\n            const updateValue = this.handleRoll(rollInstruction);\r\n            messages.push(attributeProperty + \" \" + updateValue.expression);\r\n            creature[attributeProperty] = updateValue.value;\r\n          }\r\n          i+=2;\r\n        }\r\n        result.push(creature.name + \" \" + messages.join(' '));\r\n      }\r\n      \r\n      // attack snukbi 1d20+5 ca 1d8+3 pv Attaque de javelot\r\n      // spell aziel 18 ref 3d4 pv Arc électrique\r\n      static handleAttack(result, creature, instructions, isNormalAttack){\r\n        const rollAtk = instructions.shift();\r\n        const targetProperty = instructions.shift();\r\n        const rollDam = instructions.shift();\r\n        const pvProperty = instructions.shift();\r\n        const label = instructions.join(' ');\r\n      \r\n        const targetValue = this.handleRoll(creature[targetProperty]);\r\n        const atk = this.handleRoll(rollAtk);\r\n      \r\n        if(!targetValue || isNaN(targetValue.value)){\r\n          result.push(\"-- \" + label + \" versus \"+ creature.name + \" -- Attack:\" + atk.expression + \" vs \" + targetProperty + \": ???\");\r\n          return;\r\n        }\r\n      \r\n        let message = \"-- \" + label + \" versus \"+ creature.name + \" -- Attack:\" + atk.expression + \" vs \" + targetProperty + \":\" + targetValue.expression;\r\n        \r\n        if(isNormalAttack) \r\n          message += this.ApplyDamageNormal(creature, atk, targetValue, rollDam, pvProperty);\r\n        else \r\n          message += this.ApplyDamageBasic(creature, atk, targetValue, rollDam, pvProperty);\r\n      \r\n        result.push(message);\r\n      }\r\n      \r\n      static ApplyDamageNormal(creature, atk, targetValue, rollDam, pvProperty){\r\n        if(atk.dice==1 || atk.value +10 <= targetValue.value)\r\n          return \" ### The attack critically fails ###\";  \r\n          \r\n        if(atk.value < targetValue.value)\r\n          return \" ### The attack fails ###\";  \r\n      \r\n        if(atk.dice >= 20 || atk.value - 10 >= targetValue.value){\r\n          rollDam+=\"*2\";\r\n          return \" ### the attack critically succeeded\" + this.ApplyDamage(creature, rollDam, pvProperty) + \" ###\";\r\n        }\r\n        \r\n        return \" ### the attack succeeded\" + this.ApplyDamage(creature, rollDam, pvProperty) + \" ###\";\r\n      }\r\n      \r\n      static ApplyDamageBasic(creature, atk, targetValue, rollDam, pvProperty){\r\n        if(targetValue.dice == 20 || targetValue.value - 10 >= atk.value)\r\n          return \" ### The attack critically fails ###\";\r\n      \r\n        if(targetValue.value >= atk.value){\r\n          rollDam+=\"/2\";\r\n          return \" ### The attack partially fails. \" + this.ApplyDamage(creature, rollDam, pvProperty) + \" ###\";\r\n        }\r\n      \r\n        if(targetValue.dice > 1 && targetValue.value + 10 > atk.value)\r\n          return \" ### the attack succeeded\" + this.ApplyDamage(creature, rollDam, pvProperty) + \" ###\";\r\n      \r\n        else {\r\n          rollDam+=\"*2\";\r\n          return \" ### the attack critically succeeded \" + this.ApplyDamage(creature, rollDam, pvProperty) + \" ###\";\r\n        }  \r\n      }\r\n      \r\n      static ApplyDamage(creature, rollDam, pvProperty){\r\n        const dam = this.handleRoll(rollDam);\r\n        let pvValue = this.handleRoll(creature[pvProperty]);\r\n        \r\n        let message = \" Damages:\" + dam.expression + \" \" + creature.name + \" \" + pvProperty + \":\" + pvValue.value + \"-\" + dam.value + \"=\";\r\n        pvValue.value-= dam.value;\r\n        creature[pvProperty]=pvValue.value;\r\n        message+= creature[pvProperty];\r\n        return message;\r\n      }\r\n      \r\n      static handleRoll(command){\r\n        if(!command) return;\r\n        const cmd = command.toString()\r\n          .replaceAll(\"+\",\" + \")\r\n          .replaceAll(\"-\",\" - \")\r\n          .replaceAll(\"*\",\" * \")\r\n          .replaceAll(\"/\",\" / \");\r\n        const isRoll = this.isIncludingOperator(cmd);\r\n        if(!isRoll)\r\n          return this.rollDice(cmd);\r\n        \r\n        let values = cmd.split(' ');\r\n        let result =this.rollDice(values.shift());\r\n          \r\n        while(values[0] && values[1]){\r\n          const operator = values.shift();\r\n          \r\n          let val2 = values.shift();\r\n          val2 = val2.includes(\"d\") ? this.rollDice(val2) : {expression:val2, value:parseInt(val2)};\r\n      \r\n          result.expression += operator + val2.expression;\r\n          if(operator == \"+\") result.value += val2.value;\r\n          if(operator == \"-\") result.value -= val2.value;\r\n          if(operator == \"*\") result.value *= val2.value;\r\n          if(operator == \"/\") result.value /= val2.value;\r\n        }\r\n        \r\n        result.expression += \"=\" + result.value;\r\n        return result;\r\n      }\r\n      \r\n      static isIncludingOperator(command){\r\n        return command.includes(\"+\") || command.includes(\"-\") || command.includes(\"*\") || command.includes(\"/\");\r\n      }\r\n      \r\n      static rollDice(command) {\r\n        if(!command.includes(\"d\"))\r\n          return {dice:10, expression:command, value:parseInt(command)};\r\n          \r\n        let values = command.split(\"d\");\r\n        const number=values.shift();\r\n        const faces=values.shift();\r\n        let results = [];\r\n        for(let i=0; i < number; i++)\r\n          results.push(Math.floor(Math.random() * faces) + 1);\r\n      \r\n        const result = results.reduce((a,x)=> a+x,0);\r\n        const text = results.length < 2 ? result : results.join(\"+\") + \"=\" + result;\r\n        return {dice:result, expression: command + \"(\" + text + \")\", value:result};\r\n      }\r\n}\r\n\r\n\r\nexport default ServiceFight;","<template>\r\n    <div>\r\n        <h1>Les Salons</h1>\r\n\r\n        <!-- Salons -->\r\n        <div class=\"flex-wrap p5px bg\" style=\"top:0px; right:0px\">\r\n          <v-btn text @click=\"selectSalon('help')\" :class=\"{bgWhite:salon=='help', bg2:salon!='help', m5px:true}\">\r\n            <v-icon>mdi-help</v-icon> Aide\r\n          </v-btn>\r\n          <v-btn text @click=\"selectSalon('Temp')\" :class=\"{bgWhite:salon=='Temp', bg2:salon!='Temp', m5px:true}\">\r\n            <v-icon>mdi-cube</v-icon> Salon Temporaire\r\n          </v-btn>\r\n          <!--\r\n          <v-btn v-for=\"fight in fights\" :key=\"'Salon' + fight.id\" text @click=\"selectSalon(fight.id)\" \r\n            :class=\"{bgWhite:salon==fight.id, bg2:salon!=fight.id, m5px:true}\">\r\n            <v-icon>mdi-cube</v-icon> Salon {{ fight.id+1 }}\r\n          </v-btn>\r\n          -->\r\n        </div>\r\n       \r\n        <div v-if=\"salon == 'help'\">\r\n          <h1>Les Commandes</h1>\r\n          <pre>\r\n            Une valeur peut être un nombre (exemple: 12) ou un texte sans espace (TresGros) ou une formule (1d20+5*8/3-4)\r\n\r\n            <b>Définir un personnage en lui donnant un nom et des valeurs.</b>\r\n            <b>set</b> (nom du personnage) (propriété 1) (valeur 1) (propriété 2) (valeur 2) ...\r\n            set aziel pv 20 shield 32 ca 19 ref 1d20+8 vig 1d20+8 vol 1d20+12 \r\n            -- aziel have been updated\r\n\r\n            <b>Attaquer un personnage</b>\r\n            <b>attack</b> (nom de la victime) (formule pour toucher) (propriété de défense de la victime) (formule de dégat) (propriété de vie) (nom de l'attaque)\r\n            attack aziel 1d20+5 ca 1d8+3 pv Attaque de javelot \r\n            -- Attack:1d20(15)+5=20 vs ca:19 ### the attack succeeded Damages:1d8(4)+3=7 aziel pv:20-7=13 ###\r\n            \r\n            <b>Attaquer un personnage avec un sort de défense</b>\r\n            <b>spell</b> (nom de la victime) (DD pour toucher) (propriété de défense de la victime) (formule de dégat) (propriété de vie) (nom de l'attaque)\r\n            spell aziel 18 ref 3d4 pv Arc électrique \r\n            -- Attack:18 vs ref:1d20(16)+8=24 ### The attack partially fails.  Damages:3d4(6)/2=3 aziel pv:13-3=10 ###\r\n            \r\n            <b>Augmenter la valeur de propriétés</b>\r\n            <b>add</b> (nom du personnage) (propriété 1) (valeur 1) (propriété 2) (valeur 2) ...\r\n            add aziel pv 10 shield -2 \r\n            -- aziel pv 10+10=20 shield 32-2=30\r\n            \r\n            <b>Montrer les valeurs d'un personnage</b>\r\n            <b>show</b> (nom du personnage) (propriété 1) (propriété 2) ...\r\n            show aziel pv shield \r\n            -- aziel pv:20 shield:30\r\n            </pre>\r\n          <br>\r\n          \r\n          <h1>Exemple Pathfinder 2</h1>\r\n          <pre>\r\n            <b>Aziel Niveau 4</b>\r\n            Il a 39PV, une classe d'armure de 20, des jets de sauvegardes réflexes: +9, vigueur +8, volonté +12 et un bouclier ayant 32pv\r\n            Il attaque avec un javelot boomerang qui inflige 2d6+1 dégats avec une première attaque a +9, une seconde a +4 et une dernière a -1.\r\n            Il possède un sort d'arc électrique qui impose un jet de réflexe basique DD 19 et inflige 2d4 dégats et un sort de morsure du froid qui impose un jet de vigueur basique DD 19 qui inflige 2d6+3 dégats\r\n\r\n            Voici les différentes commandes :\r\n            <b>Définir le personnage</b>\r\n            set aziel pv 39 bouclier 32 ca 20 ref 1d20+9 vig 1d20+8 vol 1d20+12\r\n            \r\n            <b>Effectuer trois attaques le même tour contre un loup. La première a +9, la seconde a +4 et la dernière a -1</b>\r\n            attack loup 1d20+9 ca 2d6+1 pv Javelot 1 \r\n            attack loup 1d20+4 ca 2d6+1 pv Javelot 2\r\n            attack loup 1d20-1 ca 2d6+1 pv Javelot 3\r\n\r\n            Remarque : Il est possible d'écrire les trois commandes en une seul ligne avec la virgule en guise de séparateur\r\n            attack loup 1d20+9 ca 2d6+1 pv Javelot 1, attack loup 1d20+4 ca 2d6+1 pv Javelot 2, attack loup 1d20-1 ca 2d6+1 pv Javelot 3\r\n            \r\n            <b>Parer avec son bouclier</b>\r\n            add aziel pv 5 bouclier -5\r\n\r\n            <b>Faire une attaque de sort sur le loup</b>\r\n            spell loup 19 ref 2d4 pv Arc électrique \r\n            spell loup 19 vig 2d6+3 pv Morsure du froid \r\n            </pre>\r\n          <br>\r\n        </div>\r\n        <div v-else>\r\n          <div class=\"bg p5px\" v-if=\"salon =='Temp'\">Les données de ce salon ne sont pas sauvegardées.</div>\r\n\r\n          <!-- Creatures -->\r\n          <div class=\"flex-wrap p5px bg\" style=\"top:0px; right:0px\">\r\n            <v-btn v-for=\"creature in fight.creatures\" :key=\"'Creature' + creature.name\" text class=\"bg2 m5px\">\r\n              {{ toCreatureString(creature) }} \r\n            </v-btn> \r\n          </div>\r\n          <br>   \r\n          \r\n          <!-- Historique -->\r\n          <div class=\"m5px\">\r\n              <pre>{{ fight.history }}</pre>\r\n          </div>\r\n          <br>\r\n          \r\n          <!-- Commande -->\r\n          <div style=\"color:white\">\r\n            <div class=\"flex-wrap p5px\" style=\"top:0px; right:0px\">\r\n              <v-btn v-for=\"com in commands\" :key=\"'Command' + com.id\" text @click=\"selectCommand(com.value)\" class=\"bg2 m5px\">\r\n                {{ com.id }}\r\n              </v-btn>\r\n            </div>\r\n              <v-text-field class=\"flex-grow m5px\"\r\n                          hide-details\r\n                          v-model=\"command\"\r\n                          label=\"Écrire une commande et appuyer sur entrer\"\r\n                          @keydown.enter=\"applyCommand('')\">\r\n              </v-text-field>\r\n          </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ServiceFight from '../services/serviceFight'\r\nimport ServiceBack from '../services/serviceBack'\r\n//import { io } from \"socket.io-client\";\r\n\r\n\r\nexport default {\r\n  name: 'pageClub',\r\n  components: {},\r\n  data: () => ({\r\n    command : \"\",\r\n    history : \"\",\r\n    fights:null,\r\n    salon:'help',\r\n    fight:null,\r\n    fightTemp: {creatures:[], history:\"Start of the channel Temp\"},\r\n    commands: [\r\n      {id:'set', value:'set aziel pv 20 shield 32 ca 19 ref 1d20+8 vig 1d20+8 vol 1d20+12'},\r\n      {id:'show', value:'show aziel pv shield'},\r\n      {id:'add', value:'add aziel pv 5 shield -5'},\r\n      {id:'attack', value:'attack aziel 1d20+5 ca 1d8+3 pv Attaque de javelot'},\r\n      {id:'spell', value:'spell aziel 18 ref 3d4 pv Arc électrique'},\r\n    ]\r\n  }),\r\n  mounted(){\r\n    ServiceBack.getAll('fight').then(result => {\r\n      this.fights = result;\r\n    });\r\n    /*\r\n    var socket = io(\"http://localhost:5000\");\r\n    socket.on('connect', function() {\r\n      console.log('connected to server');\r\n    });\r\n    socket.on('disconnect', function() {\r\n      console.log('disconnected from server');\r\n    });\r\n    */\r\n  },\r\n  methods: {\r\n    selectSalon(salonSelected){\r\n      this.salon = salonSelected;\r\n      if(this.salon == 'help')\r\n        return;\r\n\r\n      this.fight = this.salon == \"Temp\" ? this.fightTemp : this.fights[salonSelected];\r\n\r\n    },\r\n    applyCommand(commandText){\r\n      const command = commandText ? commandText : this.command;\r\n\r\n        if(this.salon == \"Temp\"){\r\n          const result = ServiceFight.handleAllCommand(command, this.fightTemp.creatures);\r\n          this.fight.history += '\\n' + result;\r\n        }\r\n        else{\r\n          ServiceBack.insert('fight', {id:this.fight.id, commands:command}).then(result=> {\r\n            this.fight = result.data;\r\n          });\r\n        }\r\n\r\n        this.command= \"\";\r\n    },\r\n    selectCommand(value){\r\n      this.command += value;\r\n    },\r\n    toCreatureString(creature){\r\n      return creature.name + \" \" + Object.keys(creature).filter(x=>x!='name').map(x => x + \":\" + creature[x]).join(\" \");\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./pageFight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./pageFight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pageFight.vue?vue&type=template&id=d51b86f6&\"\nimport script from \"./pageFight.vue?vue&type=script&lang=js&\"\nexport * from \"./pageFight.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["staticClass","staticStyle","class","bgWhite","_vm","m5px","attrs","_c","_v","fight","key","commands","on","$event","model","command","callback","expression","staticRenderFns","this","_self","render","_typeof","obj","Symbol","iterator","constructor","prototype","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_toPropertyKey","arg","_defineProperty","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ServiceFight","static","message","creaturesOverride","creatures","msg","trim","toLowerCase","result","split","forEach","x","handleCommand","join","instructions","name","shift","creature","getCreature","push","startsWith","handleSet","handleShow","handleAttack","handleAdd","length","find","i","val","number","parseInt","isNaN","messages","attributeProperty","attributeValue","rollInstruction","replaceAll","updateValue","handleRoll","isNormalAttack","rollAtk","targetProperty","rollDam","pvProperty","label","targetValue","atk","ApplyDamageNormal","ApplyDamageBasic","dice","ApplyDamage","dam","pvValue","cmd","toString","isRoll","isIncludingOperator","rollDice","values","operator","val2","includes","faces","results","Math","floor","random","reduce","a","text","components","data","history","fights","salon","fightTemp","id","mounted","ServiceBack","getAll","then","methods","selectSalon","salonSelected","applyCommand","commandText","handleAllCommand","insert","selectCommand","toCreatureString","keys","filter","map","component"],"sourceRoot":""}