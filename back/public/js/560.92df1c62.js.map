{"version":3,"file":"js/560.92df1c62.js","mappings":"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","sources":["webpack://front/./src/games/dragDropArrow.vue","webpack://front/./src/games/arrowDiv.vue","webpack://front/src/games/arrowDiv.vue","webpack://front/./src/games/arrowDiv.vue?cb92","webpack://front/./src/games/arrowDiv.vue?dbad","webpack://front/src/games/dragDropArrow.vue","webpack://front/./src/games/dragDropArrow.vue?0b04","webpack://front/./src/games/dragDropArrow.vue?32c4","webpack://front/./src/games/game.vue","webpack://front/./src/games/gundam/effectsLuncher.js","webpack://front/./src/games/gundam/effectsTarget.js","webpack://front/./src/games/gundam/mainEffects.js","webpack://front/./src/games/gundam/positioner.js","webpack://front/./src/games/gundam/selectable.js","webpack://front/./src/games/gundam/cardAction.js","webpack://front/./src/games/gundam/conditions.js","webpack://front/./src/games/gundam/cardMove.js","webpack://front/./src/games/gundam/cardPlay.js","webpack://front/./src/games/gundam/refresh.js","webpack://front/./src/games/gundam/effects.js","webpack://front/./src/games/gundam/attack.js","webpack://front/./src/games/gundam/setup.js","webpack://front/./src/games/gundam/popup.js","webpack://front/./src/games/gundam/tasks.js","webpack://front/./src/games/gundam/utils.js","webpack://front/./src/games/gundam/show.js","webpack://front/./src/games/gundam/turn.js","webpack://front/./src/games/gundam/tuto.js","webpack://front/./src/games/gundam/pair.js","webpack://front/./src/games/gundam/ai.js","webpack://front/./src/games/gundam/aiCombos.js","webpack://front/./src/games/gundam/aiPlay.js","webpack://front/./src/games/gundam/aiStrategy.js","webpack://front/./src/games/gundam/game.js","webpack://front/./src/games/card.vue","webpack://front/src/games/card.vue","webpack://front/./src/games/card.vue?5ce6","webpack://front/./src/games/card.vue?5060","webpack://front/./src/games/bananaBars.vue","webpack://front/src/games/bananaBars.vue","webpack://front/./src/games/bananaBars.vue?3eed","webpack://front/./src/games/bananaBars.vue?f664","webpack://front/./src/games/deckIcon.vue","webpack://front/src/games/deckIcon.vue","webpack://front/./src/games/deckIcon.vue?7bc4","webpack://front/./src/games/deckIcon.vue?4c83","webpack://front/src/games/game.vue","webpack://front/./src/games/game.vue?bd72","webpack://front/./src/games/game.vue?3190","webpack://front/./node_modules/core-js/internals/array-with.js","webpack://front/./node_modules/core-js/modules/es.array.with.js","webpack://front/./src/helpers/helperAnimation.js","webpack://front/./src/assets/Gundam/ sync ^\\.\\/.*$","webpack://front/./src/assets/ sync ^\\.\\/.*empty\\.webp$","webpack://front/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://front/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://front/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://front/./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"nodrag\"},[_vm._l((_vm.sources),function(point,index){return _c('div',{key:'source' + index,class:{ absolute: 1, pointCircle: 1, colorYellow: point.show },style:({ top: point.y + 'px', left: point.x + 'px', width: point.width + 'px', height: point.height + 'px', 'z-index': 55 }),attrs:{\"id\":'source' + index},on:{\"mousedown\":function($event){return _vm.drag(point)},\"click\":function($event){return _vm.$emit('click', point)}}})}),_c('div',{style:({ display: _vm.source ? '' : 'none' })},[_vm._l((_vm.targets.filter(x => x)),function(point,index){return _c('div',{key:'target' + index},[_c('div',{class:{ absolute: 1, pointCircle: 1, colorYellow: _vm.target != point, colorGreen: _vm.target == point },style:({ top: point.y + 'px', left: point.x + 'px', width: point.width + 'px', height: point.height + 'px', 'z-index': 60 })}),_c('div',{staticClass:\"absolute text-center textVerticalCenter text-shadow-black colorWhite\",style:({ top: point.y + 'px', left: point.x + 'px', width: point.width + 'px', height: point.height + 'px', 'z-index': 60 })},[_c('div',[_vm._v(_vm._s(point.text))])])])}),_c('div',{style:({ 'pointer-events': 'none' })},[_c('div',{staticClass:\"absolute\",staticStyle:{\"top\":\"0px\",\"left\":\"0px\",\"width\":\"0px\",\"height\":\"0px\"},attrs:{\"id\":'arrow0' + _vm.id}},[_c('arrow-div',{attrs:{\"color\":_vm.color}})],1),_c('div',{staticClass:\"absolute\",staticStyle:{\"top\":\"0px\",\"left\":\"0px\",\"width\":\"0px\",\"height\":\"0px\"},attrs:{\"id\":'arrow1' + _vm.id}},[_c('arrow-div',{attrs:{\"color\":_vm.color}})],1)])],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w100p h100p relative\"},[_c('div',{staticClass:\"arrow absolute\",style:({ top: '0px', left: '0px', 'border-top': '5px solid ' + _vm.color, 'border-left': '5px solid ' + _vm.color })}),_c('div',{staticClass:\"arrow absolute\",style:({ top: '15%', left: '15%', 'border-top': '5px solid ' + _vm.color, 'border-left': '5px solid ' + _vm.color })}),_c('div',{staticClass:\"arrow absolute\",style:({ top: '30%', left: '30%', 'border-top': '5px solid ' + _vm.color, 'border-left': '5px solid ' + _vm.color })}),_c('div',{staticClass:\"arrow absolute\",style:({ top: '45%', left: '45%', 'border-top': '5px solid ' + _vm.color, 'border-left': '5px solid ' + _vm.color })}),_c('div',{staticClass:\"arrow absolute\",style:({ top: '60%', left: '60%', 'border-top': '5px solid ' + _vm.color, 'border-left': '5px solid ' + _vm.color })}),_c('div',{staticClass:\"arrow absolute\",style:({ top: '75%', left: '75%', 'border-top': '5px solid ' + _vm.color, 'border-left': '5px solid ' + _vm.color })})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"w100p h100p relative\">\r\n        <div class=\"arrow absolute\"\r\n            :style=\"{ top: '0px', left: '0px', 'border-top': '5px solid ' + color, 'border-left': '5px solid ' + color }\">\r\n        </div>\r\n        <div class=\"arrow absolute\"\r\n            :style=\"{ top: '15%', left: '15%', 'border-top': '5px solid ' + color, 'border-left': '5px solid ' + color }\">\r\n        </div>\r\n        <div class=\"arrow absolute\"\r\n            :style=\"{ top: '30%', left: '30%', 'border-top': '5px solid ' + color, 'border-left': '5px solid ' + color }\">\r\n        </div>\r\n        <div class=\"arrow absolute\"\r\n            :style=\"{ top: '45%', left: '45%', 'border-top': '5px solid ' + color, 'border-left': '5px solid ' + color }\">\r\n        </div>\r\n        <div class=\"arrow absolute\"\r\n            :style=\"{ top: '60%', left: '60%', 'border-top': '5px solid ' + color, 'border-left': '5px solid ' + color }\">\r\n        </div>\r\n        <div class=\"arrow absolute\"\r\n            :style=\"{ top: '75%', left: '75%', 'border-top': '5px solid ' + color, 'border-left': '5px solid ' + color }\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.arrow {\r\n    width: 25px;\r\n    height: 25px;\r\n    transform-origin: center center;\r\n    pointer-events: none\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n    name: 'arrow-div',\r\n    props: ['color']\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./arrowDiv.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./arrowDiv.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./arrowDiv.vue?vue&type=template&id=135b1d42&scoped=true&\"\nimport script from \"./arrowDiv.vue?vue&type=script&lang=js&\"\nexport * from \"./arrowDiv.vue?vue&type=script&lang=js&\"\nimport style0 from \"./arrowDiv.vue?vue&type=style&index=0&id=135b1d42&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"135b1d42\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"nodrag\">\r\n        <div v-for=\"(point, index) in sources\" :key=\"'source' + index\" :id=\"'source' + index\"\r\n            :class=\"{ absolute: 1, pointCircle: 1, colorYellow: point.show }\"\r\n            :style=\"{ top: point.y + 'px', left: point.x + 'px', width: point.width + 'px', height: point.height + 'px', 'z-index': 55 }\"\r\n            @mousedown=\"drag(point)\" @click=\"$emit('click', point)\">\r\n        </div>\r\n\r\n        <div :style=\"{ display: source ? '' : 'none' }\">\r\n            <div class=\"\" v-for=\"(point, index) in targets.filter(x => x)\" :key=\"'target' + index\">\r\n                <div :class=\"{ absolute: 1, pointCircle: 1, colorYellow: target != point, colorGreen: target == point }\"\r\n                    :style=\"{ top: point.y + 'px', left: point.x + 'px', width: point.width + 'px', height: point.height + 'px', 'z-index': 60 }\">\r\n                </div>\r\n                <div class=\"absolute text-center textVerticalCenter text-shadow-black colorWhite\"\r\n                    :style=\"{ top: point.y + 'px', left: point.x + 'px', width: point.width + 'px', height: point.height + 'px', 'z-index': 60 }\">\r\n                    <div>{{ point.text }}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div :style=\"{ 'pointer-events': 'none' }\">\r\n                <div :id=\"'arrow0' + id\" class=\"absolute\" style=\"top:0px; left:0px; width:0px; height:0px;\">\r\n                    <arrow-div :color=\"color\"></arrow-div>\r\n                </div>\r\n                <div :id=\"'arrow1' + id\" class=\"absolute\" style=\"top:0px; left:0px; width:0px; height:0px;\">\r\n                    <arrow-div :color=\"color\"></arrow-div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\nhtml {\r\n    overflow: hidden;\r\n    overscroll-behavior: none;\r\n}\r\n\r\nbody {\r\n    position: relative;\r\n}\r\n\r\n.arrow {\r\n    width: 25px;\r\n    height: 25px;\r\n    transform-origin: center center;\r\n    pointer-events: none\r\n}\r\n</style>\r\n\r\n<script>\r\nimport helperAnimation from '../helpers/helperAnimation';\r\nimport arrowDiv from './arrowDiv.vue';\r\n\r\nexport default {\r\n    name: 'drag-drop-arrow',\r\n    props: ['id', 'sources', 'freeze'],\r\n    components: { arrowDiv },\r\n    data: () => ({\r\n        delay: 1500,\r\n        animations: [],\r\n        mouse: { x: 0, y: 0 },\r\n        color: \"red\",\r\n        targets: [],\r\n        source: null,\r\n        target: null\r\n    }),\r\n    watch: {\r\n        sources() { this.resetSources(); }\r\n    },\r\n    mounted() {\r\n        window.addEventListener('mousemove', this.updateMouse);\r\n        window.addEventListener('mouseup', this.mouseUp);\r\n        window.addEventListener('touchmove', this.updateMouse);\r\n        window.addEventListener('touchend', this.mouseUp);\r\n        this.resetSources();\r\n    },\r\n    beforeUnmount() {\r\n        window.removeEventListener('mousemove', this.updateMouse);\r\n        window.removeEventListener('mouseup', this.mouseUp);\r\n        window.removeEventListener('touchmove', this.updateMouse);\r\n        window.removeEventListener('touchend', this.mouseUp);\r\n    },\r\n    methods: {\r\n        updateMouse(e) {\r\n            const touch = e && e.touches && e.touches.length > 0 ? e.touches[0] : {};\r\n            this.mouse.x = e.clientX ? e.clientX : touch.clientX;\r\n            this.mouse.y = e.clientY ? e.clientY : touch.clientY;\r\n            this.updateAnimation();\r\n        },\r\n        resetSources() {\r\n            this.sources.forEach((point, index) => {\r\n                const element = document.getElementById(\"source\" + index);\r\n                element?.addEventListener('touchstart', () => this.drag(point));\r\n            });\r\n            this.animate();\r\n        },\r\n        drag(point) {\r\n            if (this.freeze)\r\n                return;\r\n            this.source = point;\r\n            this.targets = this.source.targets;\r\n            this.animate();\r\n        },\r\n        mouseUp() {\r\n            if (!this.source || !this.animations || this.animations.length < 1 || this.freeze)\r\n                return;\r\n            this.$emit('drop', { mouse: this.mouse, source: this.source, target: this.target });\r\n            this.source = null;\r\n        },\r\n        animate() {\r\n            if (!this.source)\r\n                return;\r\n\r\n            this.updateAnimation();\r\n\r\n            helperAnimation.animateMultiple(this.animations, this.delay - 5);\r\n            setTimeout(() => {\r\n                this.animate();\r\n            }, this.delay + 15);\r\n        },\r\n        isInside(x, y, box) {\r\n            const minX = box.x;\r\n            const minY = box.y;\r\n            const maxX = minX + box.width;\r\n            const maxY = minY + box.height;\r\n            return (x >= minX && x <= maxX) && (y >= minY && y <= maxY);\r\n        },\r\n        updateAnimation() {\r\n            if (!this.source)\r\n                return;\r\n\r\n            if (!this.animations || this.animations.length < 1) {\r\n                this.animations = [\r\n                    this.createAnimation('arrow0' + this.id, false),\r\n                    this.createAnimation('arrow1' + this.id, true)\r\n                ];\r\n            }\r\n\r\n            this.target = this.targets.find(box => this.isInside(this.mouse.x, this.mouse.y, box));\r\n\r\n            this.color = this.target ? 'green' : 'red';\r\n            const from = { x: this.source.x + (this.source.width / 2), y: this.source.y + (this.source.height / 2) };\r\n            const destination = !this.target ? this.mouse\r\n                : { x: this.target.x + (this.target.width / 2), y: this.target.y + (this.target.height / 2) };\r\n\r\n            this.animations.forEach(animation => {\r\n                const rotation = this.getAngleDeg(from, destination) + 135;\r\n                const width = this.target ? 75 : 75;\r\n                const widthHalf = width / 2\r\n                animation.from.x = from.x;\r\n                animation.from.y = from.y;\r\n                animation.from.rotation = rotation;\r\n                animation.to.rotation = rotation;\r\n                animation.to.x = destination.x;\r\n                animation.to.y = destination.y;\r\n                animation.mid.x = (animation.from.x + (animation.to.x - animation.from.x) / 2) - widthHalf;\r\n                animation.mid.y = (animation.from.y + (animation.to.y - animation.from.y) / 2) - widthHalf;\r\n            });\r\n        },\r\n        createAnimation(id, delay) {\r\n            const width = this.target ? 75 : 75;\r\n            const from = {\r\n                opacity: 1,\r\n                width: 5,\r\n                height: 5\r\n            };\r\n            const mid = {\r\n                opacity: 1,\r\n                width,\r\n                height: width\r\n            };\r\n\r\n            const to = {\r\n                opacity: 0,\r\n                width: 0,\r\n                height: 0\r\n            };\r\n            return { id, from, mid, to, delay, isIncrement: false };\r\n        },\r\n        getAngleDeg(source, target) {\r\n            const angleRad = Math.atan2(target.y - source.y, target.x - source.x);\r\n            return angleRad * (180 / Math.PI);\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dragDropArrow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dragDropArrow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dragDropArrow.vue?vue&type=template&id=4465cfd3&\"\nimport script from \"./dragDropArrow.vue?vue&type=script&lang=js&\"\nexport * from \"./dragDropArrow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dragDropArrow.vue?vue&type=style&index=0&id=4465cfd3&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{key:_vm.refreshG,staticClass:\"relative w100p mask bg2\",staticStyle:{\"height\":\"100dvh\"}},[(_vm.game)?_c('span',[_c('div',{staticClass:\"absolute bg\",style:(_vm.getFieldStyleObj(_vm.game.grid.halfPlayer2))}),_c('div',{staticClass:\"absolute bg\",style:(_vm.getFieldStyleObj(_vm.game.grid.centerZoneP2))}),_c('div',{staticClass:\"absolute bg2\",style:(_vm.getFieldStyleObj(_vm.game.grid.halfPlayer1))}),_c('div',{staticClass:\"absolute diagonal-split\",style:(_vm.getFieldStyleObj(_vm.game.grid.resources))}),_c('div',{staticClass:\"absolute text-center textVerticalCenter fontSize075em\",style:({ ..._vm.getFieldStyleObj(_vm.game.grid.resources), transform: 'rotate(-45deg)' })},[_vm._v(\" \"+_vm._s(_vm.texts.resources)+\" \")]),_c('banana-bars',{style:(_vm.getFieldStyleObj(_vm.game.grid.resources)),attrs:{\"p1yellow\":_vm.game.player1.resourcesAvailable - _vm.game.player1.resourcesEx,\"p1blue\":_vm.game.player1.resourcesEx,\"p1max\":_vm.game.player1.resourcesMax,\"p2yellow\":_vm.game.player2.resourcesAvailable - _vm.game.player2.resourcesEx,\"p2blue\":_vm.game.player2.resourcesEx,\"p2max\":_vm.game.player2.resourcesMax,\"max\":_vm.game.resourcesMax,\"width\":_vm.game.grid.resources.width}}),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player1Deck)),attrs:{\"text\":_vm.texts.deck,\"length\":_vm.game.player1.deck.length,\"icon\":_vm.game.player1.deckIcon}}),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player1Trash)),attrs:{\"text\":_vm.texts.trash,\"length\":_vm.game.player1.trash.length,\"icon\":_vm.game.player1.trashIcon},on:{\"click\":function($event){return _vm.showLocationCards('trash', true)}}}),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player1Base)),attrs:{\"text\":_vm.texts.base,\"icon\":_vm.game.player1.baseIcon}}),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player1Shield)),attrs:{\"text\":_vm.texts.shield,\"length\":_vm.game.player1.shield.length,\"icon\":_vm.game.player1.shieldIcon}}),(_vm.game)?_c('div',{staticClass:\"absolute bgYellow hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.player1Hand))}):_vm._e(),(_vm.game)?_c('div',{staticClass:\"absolute bgRed hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.player1Field))}):_vm._e(),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player2Deck)),attrs:{\"text\":_vm.texts.deck,\"length\":_vm.game.player2.deck.length,\"icon\":_vm.game.player2.deckIcon}}),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player2Trash)),attrs:{\"text\":_vm.texts.trash,\"length\":_vm.game.player2.trash.length,\"icon\":_vm.game.player2.trashIcon},on:{\"click\":function($event){return _vm.showLocationCards('trash', false)}}}),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player2Base)),attrs:{\"text\":_vm.texts.base,\"icon\":_vm.game.player2.baseIcon}}),_c('deck-icon',{staticClass:\"absolute\",style:(_vm.getFieldStyleObj(_vm.game.grid.player2Shield)),attrs:{\"text\":_vm.texts.shield,\"length\":_vm.game.player2.shield.length,\"icon\":_vm.game.player2.shieldIcon}}),_c('div',{staticClass:\"absolute bgRed hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.player2Hand))}),_c('div',{staticClass:\"absolute bgYellow hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.player2Field))}),_c('div',{staticClass:\"absolute bgYellow circle10px fontSize075em\",style:(_vm.getFieldStyleObj(_vm.game.grid.buttonEffect))},[_c('v-btn',{class:{ bg: true, shine: !_vm.freeze && _vm.game.player1.hasEffects, w100p: true, h100p: true },staticStyle:{\"min-width\":\"0px\"},attrs:{\"target\":\"_blank\"},on:{\"click\":_vm.useEffect}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.texts.useEffect)}})])],1),_c('div',{staticClass:\"absolute bgYellow circle10px fontSize075em\",style:(_vm.getFieldStyleObj(_vm.game.grid.buttonEndTurn))},[_c('v-btn',{class:{ bg: true, shine: !_vm.freeze, w100p: true, h100p: true },staticStyle:{\"min-width\":\"0px\"},attrs:{\"target\":\"_blank\"},on:{\"click\":_vm.nextTurn}},[(_vm.game.grid.buttonEndTurn.width > 50)?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.texts.endTurn)}}):_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.texts.end)}})])],1),_c('div',{staticClass:\"absolute vertical-scroll\",style:(_vm.getFieldStyleObj(_vm.game.grid.logZone)),domProps:{\"innerHTML\":_vm._s(_vm.game.logs)}}),_vm._l((_vm.game.tutoMasks),function(tutoMask,index){return _c('div',{key:'TutoMask' + index,class:{ absolute: 1, bg2: tutoMask.isPlayer1, bg: !tutoMask.isPlayer1 },style:(_vm.getFieldStyleObj(tutoMask))})}),_c('div',{staticClass:\"absolute bgRed hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.textZone))}),_c('div',{staticClass:\"absolute bgYellow hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.highlightCardCenter))}),_c('div',{staticClass:\"absolute bgYellow hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.highlightCardLeft))}),_c('div',{staticClass:\"absolute bgRed hide\",style:(_vm.getFieldStyleObj(_vm.game.grid.highlightCardRight))}),_vm._l((_vm.game.cards.filter(x => !x.hide)),function(card){return _c('div',{key:'B' + card.index},[_c('gameCard',{attrs:{\"id\":'C' + card.index,\"card\":card,\"folder\":\"Gundam/cards/\",\"shine\":card.selectable && !_vm.freeze,\"hidestat\":card.hidestat},on:{\"click\":function($event){return _vm.showCard(card)}}})],1)}),(_vm.game.showTextTuto)?_c('div',{staticClass:\"absolute fadeIn\",style:({ ..._vm.getFieldStyleObj(_vm.game.showTextTuto), 'z-index': _vm.game.showTextTuto.zindex ? _vm.game.showTextTuto.zindex : 56 })},[(_vm.game.showTextTuto.arrow)?_c('div',{staticClass:\"bgWhite absolute\",style:({ ..._vm.getFieldStyleObj(_vm.game.showTextTuto.arrow), transform: 'rotate(45deg)', 'z-index': -1, border: 'solid blue 5px' })}):_vm._e(),_c('div',{staticClass:\"w100p h100p bgWhite colorBlack flex\",staticStyle:{\"flex-direction\":\"column\",\"justify-content\":\"center\",\"border\":\"solid blue 5px\"}},[_c('div',{staticClass:\"text-center m5px\"},[_vm._v(_vm._s(_vm.game.showTextTuto.text))]),(!_vm.game.showTextTuto.hideNext)?_c('div',{staticClass:\"m5px bgYellow circle10px\",staticStyle:{\"align-self\":\"flex-end\"}},[_c('v-btn',{staticClass:\"bg2 shine\",on:{\"click\":_vm.tutoNext}},[_vm._v(_vm._s(_vm.texts.next))])],1):_vm._e()])]):_vm._e()],2):_vm._e(),_c('drag-drop-arrow',{attrs:{\"id\":\"0\",\"sources\":_vm.sources,\"targets\":_vm.targets,\"freeze\":_vm.freeze || _vm.game?.popup},on:{\"drop\":_vm.dropPoint,\"click\":_vm.clickDrop}}),(_vm.game && _vm.game.popup)?_c('div',{staticClass:\"absolute w100p h100p m5px\",staticStyle:{\"top\":\"0px\",\"display\":\"flex\",\"overflow\":\"hidden\",\"flex-direction\":\"column\",\"z-index\":\"80\"}},[_c('div',{staticClass:\"flex-grow\",staticStyle:{\"min-height\":\"10%\"}}),_c('div',{staticClass:\"w100p\"},[_c('div',{staticClass:\"flex flex-wrap w100p\",staticStyle:{\"justify-content\":\"center\"}},[_c('v-btn',{staticClass:\"m10px\",staticStyle:{\"background-color\":\"#FFFF00F0\"},on:{\"click\":function($event){return _vm.showOrHidePopup(false)}}},[(_vm.popupShow)?_c('span',[_vm._v(_vm._s(_vm.texts.hidePopup))]):_c('span',[_vm._v(_vm._s(_vm.texts.showPopup))])]),_vm._l((_vm.game?.popup.choices),function(choice,index){return _c('div',{key:'Choice' + index},[(choice.text)?_c('v-btn',{staticClass:\"m10px\",on:{\"click\":function($event){return _vm.selectChoice(choice)}}},[_vm._v(\" \"+_vm._s(choice.text)+\" \")]):_vm._e()],1)})],2)]),(_vm.popupShow)?_c('div',{staticStyle:{\"background-color\":\"#FFFF00F0\",\"width\":\"100%\",\"overflow-y\":\"auto\"}},[_c('h3',{staticClass:\"text-center colorBlack textVerticalCenter w100p mp5px\",domProps:{\"innerHTML\":_vm._s(_vm.game?.popup.text)}}),(_vm.game?.popup.cards && _vm.game?.popup.cards.length > 0)?_c('div',{staticClass:\"flex-wrap w100p horizontal-scroll\"},_vm._l((_vm.game?.popup.cards),function(card,index){return _c('div',{key:'PopUpCard' + index,staticClass:\"mp5px cursorHand\",style:({ width: _vm.game?.grid.card100.height + 'px' })},[_c('div',{staticClass:\"text-center colorBlack\"},[_vm._v(_vm._s(card.location)+\" P\"+_vm._s(card.isPlayer1 ? '1' : '2')+\" \")]),_c('img',{style:({ width: _vm.game?.grid.card100.width + 'px', 'aspect-ratio': '107/150', transform: 'rotate(' + card.position?.rotation ?? 0 + 'deg)' }),attrs:{\"src\":require('@/assets/Gundam/cards/' + card.id + '.webp')},on:{\"click\":function($event){return _vm.selectChoiceCard(card)}}})])}),0):_vm._e()]):_vm._e()]):_vm._e(),(_vm.game)?_c('div',{staticClass:\"bgWhite absolute mask text-center textVerticalCenter fontSize150em\",style:({\n            ..._vm.getFieldStyleObj(_vm.game.grid.textZone), 'z-index': 11, height: 0\n        }),attrs:{\"id\":\"divTextEffect\"}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.text)}})]):_vm._e(),_c('div',{staticClass:\"absolute bgWhite mask\",style:({ top: '80px', width: '100%', height: '0px', 'z-index': 13 }),attrs:{\"id\":\"divTitleParent\"}},[_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"text-center absolute w100p title\",staticStyle:{\"top\":\"30px\"}},[_vm._v(_vm._s(_vm.title)+\" \")])])]),_c('gameCard',{staticStyle:{\"z-index\":\"70\"},attrs:{\"id\":\"cardCenter\",\"card\":_vm.cardCenter,\"folder\":\"Gundam/cards/\"},on:{\"click\":function($event){return _vm.showCard(null)}}}),_c('div',{staticClass:\"absolute\",staticStyle:{\"top\":\"0px\",\"left\":\"0px\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class effectsLuncher {\r\n    static trigger_onplay = 'onplay';\r\n    static trigger_onpair = 'onpair';\r\n    static trigger_onlink = 'onlink';\r\n    static trigger_refresh = 'refresh';\r\n    static trigger_battle = 'battle';\r\n    static trigger_burst = 'burst';\r\n    static trigger_command = 'command';\r\n    static trigger_action = 'action';\r\n    static trigger_ondestroyed = 'ondestroyed';\r\n    static trigger_end = 'end';\r\n    static trigger_turn = 'turn';\r\n    static trigger_end = 'end';\r\n    static trigger_main = 'main';\r\n\r\n    static lunchEffectTriggerMultiple(cards, trigger) {\r\n        let isEffectExisting = false;\r\n        cards.forEach(card1 => {\r\n            const result = this.lunchEffectTriggerForOneCard(card1, trigger);\r\n            isEffectExisting = isEffectExisting || result.isEffectExisting;\r\n        });\r\n        return isEffectExisting;\r\n    }\r\n\r\n    static lunchEffectTriggerForOneCard(card1, trigger) {\r\n        const result = { isEffectExisting: false };\r\n        const effects = this.getEffects(card1, trigger);\r\n        if (!effects || effects.length < 1)\r\n            return result;\r\n\r\n        result.isEffectExisting = true;\r\n        result.cancelMoveToTrash = this.getCancelMoveToTrash(effects);\r\n        this.addTaskFirst({ id: this.applyEffectCard.name, card1, trigger });\r\n\r\n        return result;\r\n    }\r\n\r\n    static lunchEffectTriggerForTwoCard(card1, card2, trigger) {\r\n        const isExistingCard1Effect = this.getEffects(card1, trigger);\r\n        const isExistingCard2Effect = this.getEffects(card2, trigger);\r\n        if (!isExistingCard1Effect && !isExistingCard2Effect)\r\n            return false;\r\n\r\n        const tasks = [];\r\n\r\n        if (isExistingCard1Effect)\r\n            tasks.push({ id: this.applyEffectCard.name, card1, cardUnit: card1, cardPilot: card2, trigger });\r\n\r\n        if (isExistingCard2Effect)\r\n            tasks.push({ id: this.applyEffectCard.name, card1: card2, cardUnit: card1, cardPilot: card2, trigger });\r\n\r\n        this.addTasksFirst(tasks);\r\n        return tasks.length > 0;\r\n    }\r\n\r\n    static getEffects(card, trigger, ignorePair) {\r\n        let result = [];\r\n        if (!card || !card.effects)\r\n            return result;\r\n\r\n        result = card.effects.filter(y => y.trigger === trigger).map(fx => { return { ...fx, card } });\r\n\r\n        if (!ignorePair && card.pair && card.pair.effects)\r\n            result = result.concat(card.pair.effects.filter(y => y.trigger === trigger).map(fx => { return { ...fx, card: card.pair } }));\r\n\r\n        return result;\r\n    }\r\n\r\n    static getCancelMoveToTrash(effects) {\r\n        const effectsThatCancelMoveToTrash = [this.sendToHand.name, this.deploy.name];\r\n        return effects.find(effect => effectsThatCancelMoveToTrash.includes(effect.id)) ? true : false;\r\n    }\r\n\r\n    static applyEffectCard(game, task) {\r\n        if (!task.card1)\r\n            return;\r\n\r\n        const effects = this.getEffects(task.card1, task.trigger, true);\r\n        if (effects.length > 0) {\r\n            const text = effects.map(fx => this.getEffectText(fx)).join('<br>');\r\n            let tasks = [];\r\n            let tasksDelay = [];\r\n            const show = effects.filter(fx => !fx.hide).length > 0;\r\n\r\n            if (show)\r\n                tasks.push({ ...task, id: this.showCardsEffect.name, text, delay:this.delay*2 });\r\n\r\n            tasks = tasks.concat(effects.map(effect => { return { ...task, id: this.applyEffect.name, effect }; }));\r\n            tasksDelay = tasks.filter(x => x.effect && x.effect.delay);\r\n            tasks = tasks.filter(x => !x.effect || !x.effect.delay);\r\n\r\n            if (tasks.length > 0) this.addTasksFirst(tasks);\r\n            if (tasksDelay.length > 0) this.addTasks(tasksDelay);\r\n        }\r\n\r\n        if (task.card1.pair)\r\n            this.applyEffectCard(game, { ...task, card1: task.card1.pair });\r\n    }\r\n\r\n    static getEffectText(effect) {\r\n        let result = [effect.id?.toString(), effect.value?.toString(), effect.target?.toString(), effect.effect2?.toString()];\r\n        if (effect.ap)\r\n            result.push('ap ' + effect.ap);\r\n\r\n        if (effect.hp)\r\n            result.push('hp ' + effect.ap);\r\n\r\n        if (effect.effects)\r\n            result = result.concat(effect.effects.map(x => this.getEffectText(x)).join(', '));\r\n\r\n        return result.map(x=> x?.replace(\"gainEffects\", \"\")).filter(x => x && x.length > 0).join(' ');\r\n    }\r\n\r\n    static removeOneTurnEffect(game) {\r\n        game.incruises = game.incruises.filter(x => !x.removeEndTurn);\r\n        const players = [game.player1, game.player2];\r\n        players.forEach(player => {\r\n            player.incruises = player.incruises.filter(x => !x.removeEndTurn);\r\n            player.field.forEach(card => {\r\n                card.incruises = card.incruises.filter(x => !x.removeEndTurn);\r\n                this.recalculateApHp(game, player, card);\r\n            });\r\n        });\r\n\r\n        game.cards.filter(x => x.removeEndTurn).forEach(card => {\r\n            const lost = [];\r\n            card.removeEndTurn.forEach(fx => {\r\n                delete card[fx.id];\r\n                lost.push(fx.id);\r\n            })\r\n            card.removeEndTurn = [];\r\n            this.log(`${card.name} lost ${lost.join(', ')}`);\r\n        });\r\n    }\r\n\r\n    static applyEffect(game, task, player, opponent) {\r\n        const targetResult = this.handleEffectTarget(game, task, player, opponent);\r\n        if (targetResult.stop || targetResult.end)\r\n            return targetResult;\r\n\r\n        if (!this.isEffectMatchConditions(game, task, player, opponent))\r\n            return {};\r\n\r\n        if (task.effect.cost) {\r\n            if (player.resourcesAvailable < task.effect.cost) {\r\n                this.log(`Can't play ${task.effect.card.name} because cost can't be played : ${task.effect.cost}`);\r\n                return {};\r\n            }\r\n\r\n            this.playCardCost(player, task.effect.cost);\r\n        }\r\n\r\n        if (task.effect.oneTurn)\r\n            task.card2.removeEndTurn = !task.card2.removeEndTurn ? [task.effect]\r\n                : task.card2.removeEndTurn.concat([task.effect]);\r\n\r\n        task.isConditionsAfterRespected = this.isConditionsAfterRespected(game, task, player, opponent);\r\n        if (task.card2)\r\n            task.card2.fx = task.isConditionsAfterRespected;\r\n\r\n        if (task.effect.rest)\r\n            this.setActive(game, task.effect.card, false);\r\n\r\n        return this[task.effect.id](game, task, player, opponent);\r\n    }\r\n}\r\n\r\n\r\nexport default effectsLuncher;\r\n","class effectsTarget {\r\n\r\n    static handleEffectTarget(game, task, player, opponent) {\r\n        if (task.effect.target) {\r\n            if (task.choice)\r\n                return { end: true };\r\n            else if (!task.cardChoice)\r\n                return this.popupTargetCards(game, task, player, opponent);\r\n            else\r\n                task.card2 = task.cardChoice;\r\n        }\r\n\r\n        if (!task.card2 && task.effect.card.pairedWith)\r\n            task.cardUnit = game.cards.find(x => x.index === task.effect.card.pairedWith);\r\n\r\n        if (!task.card2 && task.cardUnit)\r\n            task.card2 = task.cardUnit;\r\n\r\n        if (!task.card2)\r\n            task.card2 = task.effect.card;\r\n\r\n        return {};\r\n    }\r\n\r\n    static popupTargetCards(game, task, player, opponent) {\r\n        let cards = [];\r\n        if (task.effect.target === 'opponentUnitHpUnderValue')\r\n            cards = opponent.field.filter(x => this.isCardUnit(x) && x.hp < task.effect.value);\r\n\r\n        else if (task.effect.target === 'opponentActiveUnitHpUnderValue')\r\n            cards = opponent.field.filter(x => this.isCardUnit(x) && x.hp < task.effect.value && x.active);\r\n\r\n        else if (task.effect.target === 'opponentUnitRested')\r\n            cards = opponent.field.filter(x => this.isCardUnit(x) && !x.active);\r\n\r\n        else if (task.effect.target === 'opponentUnit')\r\n            cards = opponent.field.filter(x => this.isCardUnit(x));\r\n\r\n        else if (task.effect.target === 'playerUnit')\r\n            cards = player.field.filter(x => this.isCardUnit(x));\r\n\r\n        else if (task.effect.target === 'playerUnitBlocker')\r\n            cards = player.field.filter(x => this.isCardUnit(x) && this.hadBlocker(x));\r\n\r\n        else if (task.effect.target === 'playerCardById')\r\n            cards = player.hand.filter(x => x.id === task.effect.targetId);\r\n\r\n        else if (task.effect.target === 'playerUnitWithAttribute')\r\n            cards = player.field.filter(x => this.isCardUnit(x) && x.attribute.includes(task.effect.targetAttribute));\r\n\r\n        else if (task.effect.target === 'playerUnitWithEffect')\r\n            cards = player.field.filter(x => this.isCardUnit(x) && this.hasEffect(x, task.effect.effect));\r\n\r\n        else if (task.effect.target === 'unit')\r\n            throw new Error(\"Can't handle this tast target : 'unit'\");\r\n\r\n        if (cards.length < 1) {\r\n            this.log(`Can't play ${task.effect.card.name} (${task.effect.id}) because there is no target available`);\r\n            return { end: true };\r\n        }\r\n\r\n        const choices = [];\r\n        if (task.effect.optional)\r\n            choices.push({ text: 'None' });\r\n\r\n        this.game.tasks = [{\r\n            id: this.popup.name,\r\n            isPlayer1: player.isPlayer1,\r\n            task,\r\n            text: 'Select available target',\r\n            choices,\r\n            cards\r\n        }].concat(this.game.tasks);\r\n        return { stop: true }\r\n    }\r\n}\r\n\r\n\r\nexport default effectsTarget;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nclass mainEffects {\r\n    static handleMainEffectsCard(game, card, active) {\r\n        if (!card || !card.effects || !card.effects.find(x => x.trigger == this.trigger_main))\r\n            return;\r\n\r\n        if (active)\r\n            game.effects = game.effects.concat(card.effects.filter(fx => fx.trigger === this.trigger_main).map(fx => { return { ...fx, card, index: card.index }; }))\r\n        else\r\n            game.effects = game.effects.filter(x => x.index !== card.index);\r\n\r\n        this.refreshPlayersMainEffect(game);\r\n    }\r\n\r\n    static refreshPlayersMainEffect(game) {\r\n        game.player1.hasEffects = game.effects.filter(fx => fx.card.isPlayer1 === true).length > 0;\r\n        game.player2.hasEffects = game.effects.filter(fx => fx.card.isPlayer1 === false).length > 0;\r\n    }\r\n\r\n    static lunchMainEffectCard(game, task) {\r\n        if (!task) {\r\n            this.addTaskFirst({ id: this.lunchMainEffectCard.name });\r\n            return game;\r\n        }\r\n\r\n        if (task.choice)\r\n            return {};\r\n\r\n        if (!task.cardChoice) {\r\n            this.addTaskFirst({\r\n                id: this.popup.name,\r\n                text: `Select a main effect.`,\r\n                cards: game.effects.filter(x => x.card.isPlayer1).map(x => x.card),\r\n                task, isPlayer1: true,\r\n                choices: [{ text: 'cancel' }]\r\n            });\r\n            return { stop: true };\r\n        }\r\n\r\n\r\n        return this.lunchEffectTriggerForOneCard(task.cardChoice, this.trigger_main);\r\n    }\r\n}\r\n\r\n\r\nexport default mainEffects;\r\n","class positioner {\r\n\r\n    static locationEmpty = 'empty';\r\n    static locationTrash = 'trash';\r\n    static locationDeck = 'deck';\r\n    static locationShield = 'shield';\r\n    static locationHand = 'hand';\r\n    static locationField = 'field';\r\n    static locationBase = 'base';\r\n    static locationResource = 'resource';\r\n    static locationPair = 'pair';\r\n\r\n    static createGrid(game, screenWidth, screenHeight) {\r\n        const grid = {};\r\n\r\n        grid.border = 5;\r\n        grid.border2 = grid.border * 2;\r\n        grid.width = screenWidth;\r\n        grid.height = screenHeight;\r\n        grid.widthMargin = grid.width - (grid.border * 2);\r\n        grid.heightMargin = grid.height - (5 * grid.border);\r\n        grid.boxHeight = (grid.height - (grid.border * 6)) / 5.5;\r\n        grid.boxWidth = grid.boxHeight * 107 / 150;\r\n\r\n        grid.isVertical = grid.height > grid.width;\r\n\r\n        if (grid.boxWidth > grid.widthMargin / 7)\r\n            grid.boxWidth = grid.widthMargin / 7;\r\n        grid.card100 = { width: grid.boxWidth, height: grid.boxHeight };\r\n\r\n        // Player2 - Hand\r\n        let x = grid.border, y = grid.border;\r\n        let width = grid.widthMargin / 2 - grid.border2, height = grid.boxHeight / 2;\r\n        grid.player2Hand = { x, y, width, height, isPlayer1: false, location: this.locationHand };\r\n        y += grid.border + height;\r\n\r\n        // Player2 - Field\r\n        width = grid.widthMargin - grid.border - grid.boxWidth;\r\n        height = grid.boxHeight * 1.5;\r\n        x += grid.border + grid.boxWidth;\r\n        grid.player2Field = { x, y, width, height, isPlayer1: false, location: this.locationField };\r\n        y += grid.border + height;\r\n\r\n        // Center Zone\r\n        x = grid.border;\r\n        grid.centerZone = { x, y, width: grid.widthMargin, height: grid.boxHeight };\r\n        y += grid.border + grid.boxHeight;\r\n        grid.centerZoneP2 = { ...grid.centerZone, x: 0, width: (grid.centerZone.width - 100) / 2 + grid.border };\r\n\r\n        // Player1 - Field\r\n        grid.player1Field = { x, y, width, height, isPlayer1: true, location: this.locationField };\r\n        y += grid.border + height;\r\n\r\n        // Player1 - Hand\r\n        height = grid.boxHeight;\r\n        grid.player1Hand = { x, y, width, height, isPlayer1: true, location: this.locationHand };\r\n\r\n        if (grid.isVertical)\r\n            this.createVerticalGrid(grid);\r\n        else\r\n            this.createHorizontalGrid(grid);\r\n\r\n        grid.player1Field.cardSizeReduce = true;\r\n        grid.player2Field.cardSizeReduce = true;\r\n\r\n        // Buttons\r\n        x = grid.player1Deck.x;\r\n        y = grid.player1Trash.y + grid.player1Trash.height + grid.border;\r\n        height = (grid.height - grid.border2 - y) / 2;\r\n        width = grid.isVertical ? grid.boxWidthVertical : grid.boxWidth;\r\n        grid.buttonEffect = { x, y, width, height };\r\n        y += height + grid.border;\r\n        grid.buttonEndTurn = { x, y, width, height };\r\n\r\n        width = grid.boxHeight;\r\n        height = grid.boxHeight;\r\n        grid.resources = { x: (grid.width / 2) - (width / 2), y: grid.centerZone.y, width, height };\r\n\r\n        grid.halfPlayer1 = { x: 0, y: grid.player1Field.y, width: grid.width, height: grid.height / 2 };\r\n        grid.halfPlayer2 = { x: 0, y: 0, width: grid.width, height: grid.centerZone.y };\r\n\r\n        grid.centerZone.heightQuarter = grid.centerZone.height / 5;\r\n\r\n        // Highlight center cards\r\n        grid.textZone = { ...grid.player2Hand, width: grid.width - grid.border2 };\r\n        grid.logZone = { ...grid.player2Hand, x: grid.width / 2 + grid.border };\r\n        grid.highlightCardCenter = { y: grid.player2Field.y, height: grid.height - grid.player2Field.y };\r\n        grid.highlightCardLeft = { ...this.getCardSize(grid.width, grid.highlightCardCenter.height, 2, 1), y: grid.highlightCardCenter.y };\r\n        grid.highlightCardRight = { ...grid.highlightCardLeft, x: grid.highlightCardLeft.x + grid.highlightCardLeft.width };\r\n        grid.highlightCardCenter = { ...this.getCardSize(grid.width, grid.highlightCardCenter.height, 1, 1), y: grid.highlightCardCenter.y };\r\n\r\n        // Drop Points\r\n        width = grid.boxWidth;\r\n        height = grid.boxHeight;\r\n        grid.player1Field.drop = {\r\n            x: grid.player1Field.x + (grid.player1Field.width / 2) - (width / 2),\r\n            y: grid.player1Field.y + (grid.player1Field.height / 2) - (height / 2),\r\n            width, height, text: game.texts.play\r\n        }\r\n        grid.player2Field.drop = {\r\n            x: grid.player2Field.x + (grid.player2Field.width / 2) - (width / 2),\r\n            y: grid.player2Field.y + (grid.player2Field.height / 2) - (height / 2),\r\n            width, height, text: game.texts.attack\r\n        }\r\n\r\n        return grid;\r\n    }\r\n\r\n    static createVerticalGrid(grid) {\r\n        grid.boxWidthVertical = (grid.widthMargin - (8 * grid.border)) / 6;\r\n        grid.boxHeightVertical = grid.boxWidthVertical * 150 / 107;\r\n\r\n        let x = grid.player1Field.x + grid.player1Field.width + grid.border;\r\n        let y = grid.centerZone.y;\r\n        let width = grid.boxWidthVertical;\r\n        let height = grid.boxHeightVertical;\r\n\r\n        // Player1 - Shield\r\n        grid.player1Shield = { x, y, width, height, isPlayer1: true, location: this.locationShield };\r\n\r\n        // Player1 - Base\r\n        x = x - width - grid.border;\r\n        grid.player1Base = { x, y, width, height, isPlayer1: true, location: this.locationBase };\r\n\r\n        // Player1 - Deck\r\n        x = grid.player1Shield.x;\r\n        y += height + grid.border;\r\n        grid.player1Deck = { x, y, width, height, isPlayer1: true, location: this.locationDeck };\r\n\r\n        // Player1 - Trash\r\n        y += height + grid.border;\r\n        grid.player1Trash = { x, y, width, height, isPlayer1: true, location: this.locationTrash };\r\n        y += height + grid.border;\r\n\r\n        // Player2 - Shield\r\n        y = grid.centerZone.y;\r\n        x = grid.border;\r\n        grid.player2Shield = { x, y, width, height, isPlayer1: true, location: this.locationShield };\r\n\r\n        // Player2 - Base\r\n        x = x + width + grid.border;\r\n        grid.player2Base = { x, y, width, height, isPlayer1: true, location: this.locationBase };\r\n\r\n        // Player2 - Deck\r\n        x = grid.border;\r\n        y = y - height - grid.border;\r\n        grid.player2Deck = { x, y, width, height, isPlayer1: false, location: this.locationDeck };\r\n\r\n        // Player2 - Trash\r\n        y = y - height - grid.border;\r\n        grid.player2Trash = { x, y, width, height, isPlayer1: true, location: this.locationTrash };\r\n    }\r\n\r\n    static createHorizontalGrid(grid) {\r\n        // Player1 - Deck\r\n        let x = grid.player1Field.x + grid.player1Field.width + grid.border;\r\n        let y = grid.centerZone.y;\r\n        let width = grid.boxWidth;\r\n        let height = grid.boxHeight;\r\n        grid.player1Deck = { x, y, width, height, isPlayer1: true, location: this.locationDeck };\r\n        y += height + grid.border;\r\n\r\n        // Player1 - Trash\r\n        grid.player1Trash = { x, y, width, height, isPlayer1: true, location: this.locationTrash };\r\n        y += height + grid.border;\r\n\r\n        // Player1 - Shield\r\n        y = grid.centerZone.y;\r\n        x = x - width - grid.border;\r\n        width = grid.boxWidth;\r\n        height = grid.boxHeight;\r\n        grid.player1Shield = { x, y, width, height, isPlayer1: true, location: this.locationShield };\r\n\r\n        // Player1 - Base\r\n        x = x - width - grid.border;\r\n        grid.player1Base = { x, y, width, height, isPlayer1: true, location: this.locationBase };\r\n\r\n        // Player2 - Deck\r\n        x = grid.border;\r\n        y = grid.centerZone.y;\r\n        grid.player2Deck = { x, y, width, height, isPlayer1: false, location: this.locationDeck };\r\n        y -= height - grid.border;\r\n\r\n        // Player2 - Trash\r\n        grid.player2Trash = { x, y, width, height, isPlayer1: true, location: this.locationTrash };\r\n        y -= height - grid.border;\r\n\r\n        // Player2 - Shield\r\n        y = grid.centerZone.y;\r\n        x = x + width + grid.border;\r\n        grid.player2Shield = { x, y, width, height, isPlayer1: true, location: this.locationShield };\r\n\r\n        // Player2 - Base\r\n        x = x + width + grid.border;\r\n        grid.player2Base = { x, y, width, height, isPlayer1: true, location: this.locationBase };\r\n    }\r\n\r\n    static getPairPosition(position) {\r\n        const result = this.clone(position);\r\n        result.y += result.height * 0.25;\r\n        result.rotation = 0;\r\n        return result;\r\n    }\r\n\r\n    static getCardSize(width, height, count, cardHeightPercent) {\r\n        let desiredWidth = width / (count + 0.15);\r\n        let desiredHeight = desiredWidth * 150 / 107;\r\n        if (cardHeightPercent)\r\n            desiredHeight *= cardHeightPercent;\r\n\r\n        if (desiredHeight > height) {\r\n            desiredHeight = height;\r\n            desiredWidth = desiredHeight * 107 / 150;\r\n            if (cardHeightPercent)\r\n                desiredWidth = desiredWidth * (1 + (1 - cardHeightPercent));\r\n        }\r\n\r\n        let x = (width - desiredWidth) / 2;\r\n        let y = (height - desiredHeight) / 2;\r\n\r\n        if (count > 1) {\r\n            x = (width - (count * desiredWidth)) / 2;\r\n        }\r\n\r\n        return { x, y, width: desiredWidth, height: desiredHeight };\r\n    }\r\n\r\n    static getWrapPosition(position, cardSize, total, index, degree, wrapCut, centerEmptyZone) {\r\n        let zoneHeight = position.height;\r\n        if (position.cardSizeReduce)\r\n            zoneHeight *= 0.75;\r\n\r\n        const totalCards = centerEmptyZone ? total + 1 : total;\r\n        const cardSizeModified = centerEmptyZone ? this.getCardSize(position.width, zoneHeight, totalCards, position.cardHeightPercent) : cardSize;\r\n        let mid = Math.floor(totalCards / 2);\r\n        const indexModified = centerEmptyZone && index >= mid ? index + 1 : index;\r\n        if (totalCards < wrapCut || position.height < cardSizeModified.height * 2)\r\n            return this.getCardPositionXY(position, cardSizeModified, totalCards, indexModified, degree);\r\n\r\n        mid = Math.floor(total / 2);\r\n        const indexLine = index < mid ? index : index - mid;\r\n        const totalLine = total - mid;\r\n        const cardSizeLine = this.getCardSize(position.width, zoneHeight / 2, totalLine, position.cardHeightPercent);\r\n        const positionLine = index < mid ? position : { ...position, y: position.y + cardSizeLine.height };\r\n        return this.getCardPositionXY(positionLine, cardSizeLine, totalLine, indexLine, degree);\r\n    }\r\n\r\n    static getCardPositionXY(position, cardSize, total, index, degree) {\r\n        return {\r\n            x: position.x + this.getXCenter(position.width, cardSize.width, total, index),\r\n            y: position.y,\r\n            width: cardSize.width,\r\n            height: cardSize.height,\r\n            rotation: degree\r\n        };\r\n    }\r\n\r\n    static getXCenter(totalWidth, elementWidth, total, index) {\r\n        const sizeWidth = totalWidth / total;\r\n        return sizeWidth / 2 + sizeWidth * index - elementWidth / 2;\r\n    }\r\n\r\n    static getWrapMaxPositions(width, height, cards, ratio) {\r\n        const margin = 10;\r\n        let maxSize = { width: 0, height: 0 };\r\n        for (let i = 2; i < 10; i++) {\r\n            const size = this.getCardSizeWrap(width, height, cards, margin, ratio, i);\r\n            if (maxSize.width < size.width)\r\n                maxSize = size;\r\n        }\r\n\r\n        const marginHorizontal = (width - (3 * margin) - (maxSize.width * maxSize.wrapCut)) / (maxSize.wrapCut - 1);\r\n\r\n        let x = margin;\r\n        let y = margin;\r\n        let lineIndex = 0;\r\n        cards.forEach(card => {\r\n            card.position = { x, y, width: maxSize.width, height: maxSize.height };\r\n            lineIndex++;\r\n            if (lineIndex < maxSize.wrapCut)\r\n                x += marginHorizontal + maxSize.width;\r\n            else {\r\n                lineIndex = 0;\r\n                y += margin + maxSize.height;\r\n                x = margin;\r\n            }\r\n        })\r\n    }\r\n\r\n    static getCardSizeWrap(width, height, cards, margin, ratio, wrapCut) {\r\n        const lineRequired = Math.ceil(cards.length / wrapCut);\r\n        const widthMargin = width - ((wrapCut + 1) * margin);\r\n        const heightMargin = height - ((lineRequired + 1) * margin);\r\n        const ratioInverted = 1 + (1 - ratio);\r\n\r\n        let heightDesired = heightMargin / lineRequired;\r\n        let widthDesired = heightDesired * ratio;\r\n\r\n        if (widthDesired > widthMargin / wrapCut) {\r\n            widthDesired = widthMargin / wrapCut;\r\n            heightDesired = widthDesired * ratioInverted;\r\n        }\r\n\r\n        return { width: widthDesired, height: heightDesired, wrapCut };\r\n    }\r\n\r\n    static alignPositionNextTo(game, source, width = -1, height = -1) {\r\n        let sens = -1; // 0:Right, Up, Left, Down\r\n        const widthEdit = width != -1 ? width : 300;\r\n        const heightEdit = height != -1 ? height : game.grid.boxHeight;\r\n        let result = { isValid: false };\r\n        while (sens < 4 && !result.isValid) {\r\n            sens++;\r\n            result = this.alignPositionNextToUsingSens(game, source, widthEdit, heightEdit, sens)\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static alignPositionNextToUsingSens(game, source, width, height, sens) {\r\n        let x = sens === 0 ? source.x + source.width + game.grid.border\r\n            : sens === 2 ? source.x - width - game.grid.border\r\n                : source.x + (source.width / 2) - (width / 2);\r\n\r\n        let y = sens === 3 ? source.y + source.height + game.grid.border\r\n            : sens === 1 ? source.y - height - game.grid.border\r\n                : source.y + (source.height / 2) - (height / 2);\r\n\r\n        let isValid = true;\r\n        const isHorizontal = (sens === 0 || sens === 2);\r\n        const isVertical = (sens === 1 || sens === 3);\r\n\r\n        // Right offset\r\n        let xOffset = x + width - game.grid.width;\r\n        if (isVertical && xOffset > 0)\r\n            x = x - xOffset - game.grid.border2;\r\n\r\n        xOffset = x + width + game.grid.border - game.grid.width;\r\n        if (xOffset > 0)\r\n            isValid = false;\r\n\r\n        // Left offset\r\n        if (isVertical && x < game.grid.border)\r\n            x = game.grid.border;\r\n\r\n        if (x < game.grid.border)\r\n            isValid = false;\r\n\r\n        // Bottom offser\r\n        let yOffset = y + height - game.grid.height;\r\n        if (isHorizontal && yOffset > 0)\r\n            y = y - yOffset - game.grid.border2;\r\n\r\n        yOffset = y + height - game.grid.border - game.grid.height;\r\n        if (yOffset > 0)\r\n            isValid = false;\r\n\r\n        // Top offset\r\n        if (isHorizontal && y < game.grid.border)\r\n            y = game.grid.border;\r\n\r\n        if (y < game.grid.border)\r\n            isValid = false;\r\n\r\n        const result = { x, y, width, height, isValid, sens };\r\n        result.arrow = this.addArrow(result, source, sens);\r\n\r\n        return result;\r\n    }\r\n\r\n    static addArrow(from, to, sens) {\r\n        const size = 25;\r\n        // const toCenterX = to.x + to.width / 2;\r\n        // const toCenterY = to.y + to.height / 2;\r\n\r\n        let x = (to.x + (to.width / 2) - from.x) - size / 2;\r\n        let y = (to.y + (to.height / 2) - from.y) - size / 2;\r\n        switch (sens) {\r\n            case 0: // from est  droite de to\r\n                x = -1*size / 2;\r\n                break;\r\n            case 1: // from est au-dessus de to\r\n                y = from.height - size / 2;\r\n                break;\r\n            case 2: // from est  gauche de to\r\n                x = from.width - size / 2;\r\n                break;\r\n            case 3: // from est en dessous de to \r\n                y = -1*size / 2;\r\n                break;\r\n        }\r\n\r\n        return { x, y, width: size, height: size, rotation: 45 }\r\n    }\r\n}\r\n\r\n\r\nexport default positioner;\r\n","class selectable {\r\n    static setSelectable(game, player) {\r\n        player.hand.forEach(card => {\r\n            const resourcesMax = Math.max(player.resourcesMax, player.resourcesAvailable);\r\n            const isCostAvailable = card.level <= resourcesMax && card.cost <= player.resourcesAvailable;\r\n            const isTurnPlayer = game.isPlayer1 === card.isPlayer1;\r\n\r\n            card.selectable = isCostAvailable && isTurnPlayer;\r\n            if (this.isCardUnit(card) && player.field.length > 5)\r\n                card.selectable = false;\r\n        });\r\n\r\n        player.field.forEach(card => {\r\n            card.selectable = card.canAttack;\r\n        });\r\n    }\r\n\r\n\r\n    static setSelectableFalse() {\r\n        this.game.cards.forEach(card => card.selectable = false);\r\n    }\r\n}\r\n\r\n\r\nexport default selectable;\r\n","class cardAction {    \r\n    static noActionCard = 'no action card';\r\n\r\n    static askForActionCards(game, task, player, opponent) {\r\n        let result = this.askForActionCardsForThisPlayer(game, task, 'actionCardOpponent', opponent);\r\n        if(result.stop)\r\n            return result;\r\n\r\n        return this.askForActionCardsForThisPlayer(game, task, 'actionCardPlayer', player);\r\n    }\r\n\r\n    static askForActionCardsForThisPlayer(game, task, property, player) {        \r\n        if (task[property]) \r\n            return {};\r\n\r\n        if (task.choice && task.choice.text === this.noActionCard){\r\n            task[property] = task.choice;\r\n            task.choice = null;\r\n            task.cardChoice = null;\r\n            return {};\r\n        }\r\n\r\n        if (task.cardChoice) {\r\n            this.playCardCost(player, task.cardChoice.cost);\r\n            this.addTasksFirst([\r\n                { id: this.applyEffectCard.name, card1: task.cardChoice, trigger: this.trigger_action, taskAttack:task},\r\n                { id: this.move.name, card1: task.cardChoice, to: this.locationTrash }\r\n            ]);\r\n            task[property] = task.cardChoice;\r\n            task.choice = null;\r\n            task.cardChoice = null;\r\n            return { stop: true };\r\n        }\r\n        \r\n        const actionCard = player.hand.filter(x => x.effects && x.effects.find(fx => fx.trigger === this.trigger_action) && x.cost <= player.resourcesAvailable);\r\n        if (actionCard.length > 0) {\r\n            const playerIndex = player.isPlayer1 ? '1' : '2';\r\n            game.tasks = [{\r\n                id: this.popup.name,\r\n                text: `Select an action card for player ${playerIndex} ?`,\r\n                cards: actionCard,\r\n                task,  isPlayer1:player.isPlayer1,\r\n                choices: [{ text: this.noActionCard }]\r\n            }].concat(game.tasks);\r\n            return { stop: true };\r\n        }\r\n        \r\n        task[property] = { text: this.noActionCard };\r\n        return {};\r\n    }\r\n}\r\n\r\n\r\nexport default cardAction;\r\n","class conditions {\r\n    static isEffectMatchConditions(game, task, player, opponent) {\r\n        return this.isConditionsRespected(game, task, player, opponent, task.effect.conditions);\r\n    }\r\n\r\n    static isConditionsAfterRespected(game, task, player, opponent) {\r\n        return this.isConditionsRespected(game, task, player, opponent, task.effect.conditionsAfter);\r\n    }\r\n\r\n    static isConditionsRespected(game, task, player, opponent, conditions) {\r\n        if (!conditions || conditions.length < 1)\r\n            return true;\r\n\r\n        let result = true;\r\n        conditions.forEach(condition => {\r\n            if (!result)\r\n                return result;\r\n\r\n            if (condition.id === 'unitHas')\r\n                result = result && this.hasEffect(task.card2, condition.value);\r\n\r\n            else if (condition.id === 'isInHand')\r\n                result = result && task.card2.location === this.locationHand;\r\n\r\n            else if (condition.id === 'isInField')\r\n                result = result && task.card2.location === this.locationField;\r\n\r\n            else if (condition.id === 'isPlayerTurn')\r\n                result = result && game.isPlayer1 === player.isPlayer1;\r\n\r\n            else if (condition.id === 'pilotLevelMin')\r\n                result = result && task.cardPilot && task.cardPilot.level >= condition.value;\r\n\r\n            else if (condition.id === 'minimumXUnitsWithAttribute')\r\n                result = result && player.field.filter(card => this.isCardUnit(card) && this.hasAttribute(card, condition.attribute)).length >= condition.value;\r\n\r\n            else if (condition.id === 'minimumXCommandInTrash')\r\n                result = result && player.trash.filter(card => this.isCardCommand(card)).length >= condition.value;\r\n\r\n            else if (condition.id === 'minimumXCardsOpponentHand')\r\n                result = result && opponent.hand.length >= condition.value;\r\n\r\n            else if (condition.id === 'pilotHasAttribute')\r\n                result = result && task.cardPilot && this.hasAttribute(task.cardPilot, condition.value);\r\n\r\n            else if (condition.id === 'maximumXUnitsOnField')\r\n                result = result && player.field.length <= condition.value;\r\n\r\n        });\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\nexport default conditions;\r\n","class cardMove {\r\n\r\n    static spawnOrMove(game, task, player) {\r\n        const cardSpawn = this.moveCard(game, player, task.card1, task.from, task.to);\r\n        this.spawnIfNot(cardSpawn);\r\n        return cardSpawn;\r\n    }\r\n\r\n    static move(game, task, player) {\r\n        return this.moveCard(game, player, task.card1, task.from, task.to);\r\n    }\r\n\r\n    static spawnIfNot(card) {\r\n        if (!card)\r\n            return;\r\n\r\n        if (!this.game.cards.find(x => x.index === card.index))\r\n            this.game.cards = this.addIn(this.game.cards, card);\r\n\r\n        const player = card.isPlayer1 ? this.game.player1 : this.game.player2;\r\n        if (!card.position)\r\n            card.position = this.clone(player.positions.deck);\r\n        card.zindex = 11;\r\n        return card;\r\n    }\r\n\r\n    static moveCard(game, player, card, locationFrom, locationTo) {\r\n        if (!locationFrom && card && card.location)\r\n            locationFrom = card.location;\r\n\r\n        let from = locationFrom ? locationFrom : card?.location;\r\n        from = from == \"pair\" ? null : from;\r\n        const to = locationTo;\r\n\r\n        if (!card)\r\n            card = player[from].splice(0, 1)[0];\r\n        else if (from)\r\n            player[from] = this.removeByIndex(player[from], card);\r\n\r\n        if (!card && locationFrom === this.locationDeck)\r\n            this.end(player.isPlayer1);\r\n\r\n        if (!card)\r\n            return;\r\n\r\n        const onField = [this.locationField, this.locationBase];\r\n        if (!card.isTemporaryCard)\r\n            player[to] = this.addIn(player[to], card);\r\n        else {\r\n            if (onField.includes(locationTo))\r\n                player[to] = this.addIn(player[to], card);\r\n            else\r\n                card.fadeOut = true;\r\n        }\r\n\r\n        if (from)\r\n            card.position = card.position ? card.position : this.clone(player.positions[from]);\r\n\r\n        card.isPlayer1 = player.isPlayer1;\r\n        card.active = true;\r\n        card.location = locationTo;\r\n        card.hidestat = !onField.includes(card.location);\r\n        card.verso = card.location === this.locationHand && !card.isPlayer1 && !card.pairedWith && !card.pair;\r\n\r\n        this.handleMainEffectsCard(game, card, onField.includes(card.location));\r\n\r\n        if (card.pair) {\r\n            card.pair.pairedWith = null;\r\n            card.pair.link = false;\r\n            this.moveCard(game, player, card.pair, locationFrom, this.locationTrash);\r\n            delete (card.pair);\r\n            card.link = false;\r\n        }\r\n\r\n        const needToRefreshAllField = [this.locationHand, this.locationField].includes(locationTo);\r\n        if (!needToRefreshAllField) {\r\n            card.to = this.clone(player.positions[to]);\r\n            if (locationTo === this.locationTrash) {\r\n                card.to.height = 0;\r\n                card.hidestat = true;\r\n            }\r\n        }\r\n\r\n        return card;\r\n    }\r\n}\r\n\r\n\r\nexport default cardMove;\r\n","class cardPlay {\r\n    static play(game, task, player) {\r\n        let result = {};\r\n\r\n        if (!task.card2 && !task.zone)\r\n            result.sendBack = true;\r\n\r\n        else if (task.card1.location === this.locationHand)\r\n            result = this.playFromHand(player, task);\r\n\r\n        else if (task.card1.location === this.locationField)\r\n            result = this.prepareAttack(task, player);\r\n\r\n        else\r\n            result = this.playThisCard(player, task, false);\r\n\r\n        if (result && result.sendBack)\r\n            this.sendCardBackToSquareOne(task.card1);\r\n\r\n        return result;\r\n    }\r\n\r\n    static prepareAttack(task, player) {\r\n        const isSamePlayer = task.zone.isPlayer1 == player.isPlayer1;\r\n        if (isSamePlayer || !task.card1.canAttack) {\r\n            return { sendBack: true };\r\n        }\r\n\r\n        this.addTaskPos2({ id: this.attack.name, attacker: task.card1, target: task.card2, isPlayer1: task.card1.isPlayer1, breach: null });\r\n    }\r\n\r\n    static playFromHand(player, task) {\r\n        const isSamePlayer = task.zone.isPlayer1 == player.isPlayer1;\r\n        const wrongCost = task.regularPlay && player.resourcesAvailable < task.card1.cost;\r\n\r\n        if (!isSamePlayer || task.zone.location == this.locationHand || wrongCost)\r\n            return { sendBack: true };\r\n\r\n        return this.playThisCard(player, task, task.regularPlay);\r\n    }\r\n\r\n    static sendCardBackToSquareOne(card) {\r\n        const rotation = card.active ? 0 : 90;\r\n        card.to = { ...this.clone(card.position), rotation };\r\n        card.position = { ...card.position, ...card.positionDrag };\r\n        this.game.refresh = true;\r\n        return {};\r\n    }\r\n\r\n    static playThisCard(player, task, playCost) {\r\n        let isPilot = this.isCardPilot(task.card1);\r\n        let isCommand = this.isCardCommand(task.card1);\r\n\r\n        const pilotOrCommand = this.askPilotOrCommand(player, task);\r\n        isPilot = pilotOrCommand ? pilotOrCommand.isPilot : isPilot;\r\n        isCommand = pilotOrCommand ? pilotOrCommand.isCommand : isCommand;\r\n        if (pilotOrCommand && pilotOrCommand.stop)\r\n            return pilotOrCommand;\r\n\r\n        this.spawnIfNot(task.card1);\r\n\r\n        let isExisting = task.effectsAlreadyDone ? false\r\n            : this.lunchEffectTriggerForOneCard(task.card1, this.trigger_onplay).isEffectExisting;\r\n        if (isExisting) {\r\n            task.effectsAlreadyDone = true;\r\n            return { stop: true };\r\n        }\r\n\r\n        if (this.isCardUnit(task.card1) && player.field.length < 6) {\r\n            task.card1.canAttack = false;\r\n            if (playCost)\r\n                this.playCardCost(player, task.card1.cost);\r\n            this.addTaskPos2({ id: this.move.name, card1: task.card1, to: this.locationField });\r\n            return;\r\n        }\r\n\r\n        if (this.isCardBase(task.card1)) {\r\n            if (playCost)\r\n                this.playCardCost(player, task.card1.cost);\r\n\r\n            if (player.base.length > 0)\r\n                this.addTaskPos2({ id: this.move.name, card1: player.base[0], to: this.locationTrash });\r\n\r\n            this.addTaskPos2({ id: this.move.name, card1: task.card1, to: this.locationBase });\r\n            task.card1.selectable = false;\r\n            return;\r\n        }\r\n\r\n        if (isPilot && task.card2 && this.isCardUnit(task.card2)) {\r\n            if (task.card1.pair || task.card2.pair || task.card1.pairedWith || task.card2.pairedWith) {\r\n                this.sendCardBackToSquareOne(task.card1);\r\n                return;\r\n            }\r\n\r\n            if (playCost)\r\n                this.playCardCost(player, task.card1.cost);\r\n            this.addTaskPos2({ id: this.pair.name, card1: task.card1, card2: task.card2 });\r\n            return;\r\n        }\r\n\r\n        if (isCommand) {\r\n            if (playCost)\r\n                this.playCardCost(player, task.card1.cost);\r\n\r\n            this.addTasksPos2([\r\n                { id: this.applyEffectCard.name, card1: task.card1, card2: task.card2, trigger: this.trigger_command },\r\n                { id: this.move.name, card1: task.card1, to: this.locationTrash }\r\n            ]);\r\n            return;\r\n        }\r\n\r\n        this.sendCardBackToSquareOne(task.card1);\r\n    }\r\n\r\n    static playCardCost(player, cost) {\r\n        if (player.resourcesEx > 0)\r\n            player.resourcesEx = Math.max(0, player.resourcesEx - cost);\r\n        player.resourcesAvailable -= cost;\r\n    }\r\n\r\n    static askPilotOrCommand(player, task) {\r\n        if (!task.card2 || !this.isCardPilot(task.card1) || !this.isCardCommand(task.card1))\r\n            return;\r\n\r\n        if (task.card2.pair)\r\n            task.pilotOrCommand = 'Command';\r\n\r\n        if (task.choice)\r\n            task.pilotOrCommand = task.choice.text;\r\n\r\n        if (task.pilotOrCommand) {\r\n            const isPilot = task.pilotOrCommand === 'Pilot';\r\n            const isCommand = task.pilotOrCommand === 'Command';\r\n            return { isPilot, isCommand };\r\n        }\r\n\r\n        this.addTaskFirst({\r\n            id: this.popup.name,\r\n            isPlayer1: player.isPlayer1,\r\n            text: 'Do you want to play as pilot or command ?',\r\n            choices: [{ text: 'Pilot' }, { text: 'Command' }],\r\n            task\r\n        });\r\n        return { stop: true }\r\n    }\r\n}\r\n\r\n\r\nexport default cardPlay;\r\n","class refresh {\r\n\r\n    static refreshFieldAndHand(game, task, player) {\r\n        this.refreshPlayerArea(player.hand, player.positions.hand, false, 7, false);\r\n        this.refreshPlayerArea(player.field, player.positions.field, false, 3, true);\r\n        this.refreshPlayerArea(player.base, player.positions.base, true);\r\n\r\n        const cardsToRemoveIndex = player.trash.filter(x => !x.to).map(x => x.index);\r\n        game.cards = game.cards.filter(x => !cardsToRemoveIndex.includes(x.index));\r\n\r\n        this.setSelectable(game, player);\r\n\r\n        player.resource = player.resourcesAvailable + '/' + player.resourcesMax;\r\n        player.baseIcon = 'deck6.png';\r\n        player.shieldIcon = this.getIcon(player.shield.length);\r\n        player.deckIcon = this.getIcon(player.deck.length);\r\n        player.trashIcon = this.getIcon(player.trash.length);\r\n\r\n        game.textEffect = task.textEffect;\r\n    }\r\n\r\n    static refreshPlayerArea(cards, position, useZoneSize, wrapCut, centerEmptyZone) {\r\n        let zoneHeight = position.height;\r\n        if (position.cardSizeReduce)\r\n            zoneHeight *= 0.75;\r\n        const cardSize = useZoneSize ? position : this.getCardSize(position.width, zoneHeight, cards.length, position.cardHeightPercent);\r\n        cards.forEach((card, index) => {\r\n            const degree = card.active ? 0 : 90;\r\n            card.bgposition = '0 0';\r\n            card.fx = false;\r\n            card.to = this.getWrapPosition(position, cardSize, cards.length, index, degree, wrapCut, centerEmptyZone);\r\n            card.to = this.adjustRotationSize(card.to, card.active);\r\n            card.location = position.location;\r\n            if (position.location == this.locationField && card.pair)\r\n                card.pair.to = this.getPairPosition(card.to);\r\n        });\r\n    }\r\n\r\n    static adjustRotationSize(to, active, percent = 0.7) {\r\n        if (active)\r\n            return to.previous ? to.previous : to;\r\n\r\n        if (to.previous)\r\n            return to;\r\n\r\n        const reverPercentHalf = (1 - percent) / 2;\r\n        const loseX = to.width * reverPercentHalf;\r\n        const loseY = to.height * reverPercentHalf;\r\n        return { ...to, previous: to, x: to.x + loseX, y: to.y + loseY, width: to.width * percent, height: to.height * percent };\r\n    }\r\n\r\n    static getIcon(length) {\r\n        return length < 1 ? 'deck6.png'\r\n            : length < 2 ? 'deck5.png'\r\n                : length < 7 ? 'deck4.png'\r\n                    : length < 15 ? 'deck3.png'\r\n                        : length < 35 ? 'deck2.png'\r\n                            : 'deck1.png';\r\n    }\r\n\r\n    static endAnimation(game) {\r\n        game.cards.forEach(card => {\r\n            if (card.to) card.position = card.to;\r\n            delete (card.to);\r\n        });\r\n        delete (game.wait);\r\n        delete (game.showTitle);\r\n        game.refresh = true;\r\n        if (game.tuto) {            \r\n            this.continueTuto(game);\r\n        }\r\n    }\r\n\r\n    static resetZIndex(game) {\r\n        game.cards.forEach(card => {\r\n            card.zindex = card.pairedWith ? 1 : 2;\r\n        });\r\n    }\r\n\r\n    static taskEndRefresh(game) {\r\n        if (!game.triggerRefreshAlreadyDone) {\r\n            this.lunchEffectTriggerMultiple(game.cards, this.trigger_refresh);\r\n            game.triggerRefreshAlreadyDone = true;\r\n        }\r\n\r\n        this.needTaskEndRefresh = false;\r\n        game.refreshOnlyTextEffect = false;\r\n        delete (game.textEffect);\r\n        this.cardHighlight = [];\r\n\r\n        const players = [game.player1, game.player2];\r\n        players.forEach(player => {\r\n            player.field.forEach(card => this.recalculateApHp(game, player, card));\r\n            this.refreshFieldAndHand(game, {}, player);\r\n        });\r\n\r\n        this.refreshDragAndDrop(game);\r\n\r\n        game.refresh = true;\r\n        game.taskAttack = null;\r\n    }\r\n\r\n    static refreshDragAndDrop(game) {\r\n        const drags = [];\r\n\r\n        // Hand\r\n        const unitWithoutPilots = game.player1.field.filter(x => !x.pair);\r\n        game.player1.hand.forEach(card => {\r\n            let drops = card.active ? [this.game.grid.player1Field.drop] : [];\r\n\r\n            if (card.active) {\r\n                let targets = [];\r\n\r\n                if (this.isCardCommand(card))\r\n                    targets = game.player1.field;\r\n                else if (this.isCardPilot(card))\r\n                    targets = unitWithoutPilots;\r\n\r\n                drops = drops.concat(targets.map(unit => { return { ...this.getPos(unit), card: unit, text: game.texts.pair }; }));\r\n            }\r\n\r\n            if (drops.length > 0)\r\n                drags.push({ ...this.getPos(card), card, show: false, targets: drops });\r\n        });\r\n\r\n        // Field\r\n        game.player1.field.forEach(attacker => {\r\n            let drops = attacker.active ? [this.game.grid.player2Field.drop] : [];\r\n\r\n            const ennemyTarget = game.player2.field.filter(x => this.isValidTarget(game.player2, attacker, x));\r\n            if (attacker.active && ennemyTarget.length > 0) {\r\n                drops = drops.concat(ennemyTarget.map(unit => { return { ...this.getPos(unit), card: unit, text: game.texts.attack }; }));\r\n            }\r\n\r\n            if (drops.length > 0)\r\n                drags.push({ ...this.getPos(attacker), card: attacker, show: false, targets: drops });\r\n        });\r\n\r\n\r\n        game.player1.drags = drags;\r\n    }\r\n\r\n    static getPos(card) { return card.to ? card.to : card.position; }\r\n}\r\n\r\n\r\nexport default refresh;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nclass effects {\r\n    static draw(game, task, player, opponent) {\r\n        const value = task.effect.value ? task.effect.value : 1;\r\n        const tasks = [];\r\n        for (let i = 0; i < value; i++)\r\n            tasks.push({\r\n                id: this.spawnOrMove.name,\r\n                isPlayer1: player.isPlayer1,\r\n                from: this.locationDeck,\r\n                to: this.locationHand,\r\n                delay: true\r\n            });\r\n\r\n        this.addTasksFirst(tasks);\r\n    }\r\n\r\n    static setCost(game, task, player, opponent) {\r\n        task.card2.costOrigin = task.card2.costOrigin ? task.card2.costOrigin : task.card2.cost;\r\n        const reduceValue = task.isConditionsAfterRespected ? task.effect.value : 0;\r\n        task.card2.cost = task.card2.costOrigin + reduceValue;\r\n    }\r\n\r\n    static playToken(game, task, player, opponent) {\r\n        if (!task.effect.value)\r\n            throw new Error('Missing effect.value :' + JSON.stringify(task));\r\n        const isPlayer1 = player.isPlayer1;\r\n        this.addTaskFirst({ id: this.spawnOrMove.name, card1: this.createCard(task.effect.value, isPlayer1), to: this.locationField, isPlayer1 });\r\n    }\r\n\r\n    static playTokenByUnitsNumber(game, task, player, opponent) {\r\n        for (let i = 0; i < task.effect.values.length; i++) {\r\n            const value = task.effect.values[i];\r\n            if (value.min !== undefined && player.field.length >= value.min) {\r\n                return this.playToken(game, { effect: { value: value.id } }, player, opponent);\r\n            }\r\n            else if (value.max !== undefined && player.field.length <= value.max) {\r\n                return this.playToken(game, { effect: { value: value.id } }, player, opponent);\r\n            }\r\n        }\r\n    }\r\n\r\n    static dealDamage(game, task, player, opponent) {\r\n        task.card2.hp -= task.effect.value;\r\n        this.log(`${task.card2.name} HP is reduced by ${task.effect.value}`);\r\n        if (task.card2.hp < 1) {\r\n            const tasks = this.destroyUnit(task.card2, false);\r\n            this.addTasksPos2(tasks);\r\n        }\r\n    }\r\n\r\n    static discard(game, task, player, opponent) {\r\n        const card1 = task.cardChoice;\r\n        if (!card1) {\r\n            this.addTaskFirst({\r\n                id: this.popup.name,\r\n                isPlayer1: player.isPlayer1,\r\n                task,\r\n                text: 'Select a card to discard',\r\n                cards: player.hand\r\n            });\r\n            return { stop: true }\r\n        }\r\n\r\n        this.log(`${card1.name} discarded`);\r\n        this.addTaskPos2({ id: this.move.name, card1, to: this.locationTrash });\r\n    }\r\n\r\n    static pilotToHand(game, task, player, opponent) {\r\n        if (!task.card2.pair)\r\n            return;\r\n\r\n        const card1 = task.card2.pair;\r\n        delete (task.card2.pair);\r\n        card1.pairedWith = null;\r\n        this.addTaskPos2({ id: this.move.name, card1, to: this.locationHand });\r\n        this.log(`${card1.name} return to hand`);\r\n    }\r\n\r\n    static gainEffects(game, task, player, opponent) {\r\n        task.card2.effects = task.card2.effects.concat(task.effect.effects);\r\n        this.log(`${task.card2.name} gain these effects : ${task.effect.effects.map(x => x.id)}`);\r\n    }\r\n\r\n    static rest(game, task, player, opponent) {\r\n        this.setActive(game, task.card2, false);\r\n    }\r\n\r\n    static unrest(game, task, player, opponent) {\r\n        this.setActive(game, task.card2, true);\r\n    }\r\n\r\n    static unrestButCantAttack(game, task, player, opponent) {\r\n        this.setActive(game, task.card2, true);\r\n        task.card2.canAttack = false;\r\n    }\r\n\r\n    static repair(game, task, player, opponent) {\r\n        if (task.card2.hp < task.card2.hpMax) {\r\n            this.log(`${task.card2.name} HP is repaired by ${task.effect.value}`);\r\n            task.card2.hpOrigin = Math.min(task.card2.hpOrigin + task.effect.value, task.card2.hpMaxOrigin);\r\n            this.recalculateApHp(game, player, task.card2);\r\n        }\r\n    }\r\n\r\n    static get1ShieldToHand(game, task, player, opponent) {\r\n        if (player.shield.length < 1)\r\n            return;\r\n\r\n        const card1 = player.shield.splice(0, 1)[0];\r\n        card1.location = player.positions.shield.location;\r\n        this.addTaskPos2({ id: this.spawnOrMove.name, card1, to: this.locationHand });\r\n        this.log(`One card is move from shield to hand`);\r\n    }\r\n\r\n    static top2DeckCard1Top1Bottom(game, task, player, opponent) {\r\n        if (!task.cardChoice) {\r\n            task.cards = [this.getAndRemoveFirst(player.deck), this.getAndRemoveFirst(player.deck)];\r\n            this.addTaskFirst({\r\n                id: this.popup.name,\r\n                isPlayer1: player.isPlayer1,\r\n                task,\r\n                text: 'Select the card that will go to the top deck, the other one will go bottom deck',\r\n                cards: task.cards\r\n            });\r\n            return { stop: true }\r\n        }\r\n\r\n        const bottomCard = task.cards.filter(card => card.index !== task.cardChoice.index);\r\n        player.deck = [task.cardChoice].concat(player.deck).concat(bottomCard);\r\n        this.log(`Deck order have been changed (top and bottom)`);\r\n    }\r\n\r\n    static protectionShieldLvXOrLower(game, task, player, opponent) {\r\n        if (!task.taskAttack || !task.taskAttack.attacker)\r\n            throw new Error('cant handle this effect : ' + JSON.stringify(task.effect));\r\n\r\n        task.taskAttack.shieldProtection = task.taskAttack.attacker.level <= task.effect.value;\r\n        if (task.taskAttack.shieldProtection)\r\n            this.log(`Shield are protected`);\r\n        else\r\n            this.log(`Shield are not protected because attacker is level ${task.taskAttack.attacker.level}`);\r\n    }\r\n\r\n    static gainThisTurn(game, task, player, opponent) {\r\n        const effect = this.clone(task.effect);\r\n        delete effect.target;\r\n        effect.id = effect.effect2;\r\n        effect.oneTurn = true;\r\n        effect.card = task.card2;\r\n        this.log(`${task.card2.name} get ${task.effect.effect2} for this turn`);\r\n        this.applyEffect(game, { id: this.applyEffect.name, effect }, player, opponent)\r\n    }\r\n\r\n    static incruise(game, task, player, opponent) {\r\n        const ap = task.isConditionsAfterRespected ? task.effect.ap : 0;\r\n        const hp = task.isConditionsAfterRespected ? task.effect.hp : 0;\r\n\r\n        task.card2.incruises = task.card2.incruises.filter(x => x.index != task.effect.card.index);\r\n        task.card2.incruises.push({\r\n            ap,\r\n            hp,\r\n            index: task.effect.card.index,\r\n            source: task.effect.card.name,\r\n            removeEndTurn: task.effect.removeEndTurn\r\n        });\r\n        const cardPlayer = this.getPlayer(task.card2.isPlayer1);\r\n\r\n        this.recalculateApHp(game, cardPlayer, task.card2);\r\n        this.log(`${task.card2.name} have been incruised by AP ${ap} and HP ${hp}`);\r\n    }\r\n\r\n    static incruisePlayerField(game, task, player, opponent) {\r\n        player.incruises = player.incruises.filter(x => x.index != task.effect.card.index);\r\n        player.incruises.push({\r\n            ap: task.effect.ap,\r\n            hp: task.effect.hp,\r\n            index: task.effect.card.index,\r\n            source: task.effect.card.name,\r\n            removeEndTurn: task.effect.removeEndTurn\r\n        });\r\n        this.log(`Player${player.index} field have been incruised by AP ${task.effect.ap} and HP ${task.effect.hp}`);\r\n    }\r\n\r\n    static sendToHand(game, task, player, opponent) {\r\n        this.log(`${task.card2.name} is send to hand`);\r\n        this.addTaskPos2({ id: this.move.name, card1: task.card2, to: this.locationHand });\r\n    }\r\n\r\n    static unrestResource(game, task, player, opponent) {\r\n        const value = task.effect.value ? task.effect.value : 1;\r\n        if (player.resourcesAvailable < player.resourcesMax) {\r\n            player.resourcesAvailable = Math.min(player.resourcesMax, player.resourcesAvailable + value);\r\n            this.log(`Player${player.index} resources have been incruised by ${value}`);\r\n        }\r\n    }\r\n\r\n    static placeExResource(game, task, player, opponent) {\r\n        player.resourcesEx += task.effect.value;\r\n        player.resourcesAvailable += task.effect.value;\r\n        this.log(`${task.card2.name} deploy ${task.effect.value} ex resource(s)`);\r\n    }\r\n\r\n    static placeRestedResource(game, task, player, opponent) {\r\n        player.resourcesMax += task.effect.value;\r\n        this.log(`${task.card2.name} deploy ${task.effect.value} rested resource(s)`);\r\n    }\r\n\r\n    static breach(game, task, player, opponent) {\r\n        if (!task.card2.breach || task.card2.breach < task.effect.value) {\r\n            task.card2.breach = task.effect.value;\r\n            this.log(`${task.card2.name} has breach ${task.effect.value}`);\r\n        }\r\n    }\r\n\r\n    static blocker(game, task, player, opponent) {\r\n        const alreadyDone = this.alreadyDone(task.card2.blocker, task.isConditionsAfterRespected);\r\n        if (alreadyDone)\r\n            return;\r\n\r\n        task.card2.blocker = task.isConditionsAfterRespected;\r\n        const text = task.isConditionsAfterRespected ? 'has blocker' : 'don t has blocker';\r\n        this.log(`${task.card2.name} ${text}`);\r\n    }\r\n\r\n    static highManeuver(game, task, player, opponent) {\r\n        if (!task.card2.highManeuver) {\r\n            task.card2.highManeuver = true;\r\n            this.log(`${task.card2.name} has highManeuver`);\r\n        }\r\n    }\r\n\r\n    static deploy(game, task, player, opponent) {\r\n        let card1 = task.card2;\r\n        card1.selectable = false;\r\n        card1.canAttack = false;\r\n        const cardPlayer = this.getPlayer(card1.isPlayer1);\r\n        this.log(`${card1.name} is deployed`);\r\n        this.addTask({ id: this.play.name, card1, zone: cardPlayer.positions.field, regularPlay: false });\r\n    }\r\n\r\n    static attackActiveEnnemy(game, task, player, opponent) {\r\n        if (!task.card2.attackActiveEnnemy || task.card2.attackActiveEnnemy < task.effect.value) {\r\n            task.card2.attackActiveEnnemy = task.effect.value;\r\n            this.log(`${task.card2.name} can now attack unit with AP < ${task.effect.value}`);\r\n        }\r\n    }\r\n\r\n    static immuneAp(game, task, player, opponent) {\r\n        if (!task.card2.immuneAp || task.card2.immuneAp < task.effect.value) {\r\n            task.card2.immuneAp = task.effect.value;\r\n            this.log(`${task.card2.name} is now immune to AP < ${task.effect.value}`);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default effects;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nclass attack {\r\n    static stepSelectBlocker = 'stepSelectBlocker';\r\n    static stepSelectActionCards = 'stepSelectActionCards';\r\n    static stepSelectCardOpponent = 'stepSelectCardOpponent';\r\n    static stepEffectBattle = 'stepEffectBattle';\r\n    static stepShowFight = 'stepShowFight';\r\n    static stepFight = 'stepFight';\r\n    static attackStep = [\r\n        this.stepSelectBlocker,\r\n        this.stepSelectActionCards,\r\n        this.stepSelectCardOpponent,\r\n        this.stepEffectBattle,\r\n        this.stepShowFight,\r\n        this.stepFight\r\n    ];\r\n\r\n    static attack(game, task, player, opponent) {\r\n        game.taskAttack = task;\r\n        let result = {};\r\n        task.step = task.step ? task.step : this.attackStep[0];\r\n\r\n        while (!result.stop && !result.end) {\r\n            if (task.step === this.stepSelectBlocker)\r\n                result = this.selectBlocker(game, task, player, opponent);\r\n\r\n            else if (task.step === this.stepSelectActionCards)\r\n                result = this.askForActionCards(game, task, player, opponent);\r\n\r\n            else if (task.step === this.stepSelectCardOpponent)\r\n                result = this.selectCardOpponent(game, task, player, opponent);\r\n\r\n            else if (task.step === this.stepEffectBattle)\r\n                result = this.effectBattle(game, task, player, opponent);\r\n\r\n            else if (task.step === this.stepShowFight)\r\n                result = this.showFight(game, task, player, opponent);\r\n\r\n            else if (task.step === this.stepFight)\r\n                result = this.fight(game, task, player, opponent);\r\n\r\n            else\r\n                result.end = true;\r\n\r\n            if (!result || (!result.stop && !result.end))\r\n                this.nextStep(task);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    static nextStep(task) {\r\n        const array = this.attackStep;\r\n        const index = array.indexOf(task.step);\r\n        if (index < array.length - 1)\r\n            task.step = array[index + 1];\r\n        else\r\n            task.step = 'end';\r\n        return {};\r\n    }\r\n\r\n    static selectBlocker(game, task, player, opponent) {\r\n        const blockers = opponent.field.filter(x => x.blocker && x.active);\r\n        if (task.attacker.highManeuver || task.blocker || blockers.length < 1)\r\n            return {};\r\n\r\n        if (!task.cardChoice && !task.choice)\r\n            return this.addTaskFirst({\r\n                id: this.popup.name,\r\n                isPlayer1: opponent.isPlayer1,\r\n                task,\r\n                text: 'Select a blocker ?',\r\n                cards: blockers,\r\n                choices: [{ text: 'none' }]\r\n            });\r\n\r\n        task.blocker = task.cardChoice;\r\n        delete (task.cardChoice);\r\n        delete (task.choice);\r\n        return {};\r\n    }\r\n\r\n    static selectCardOpponent(game, task, player, opponent) {\r\n        if(task.attacker.location !== this.locationField){\r\n            this.log(`Attack is canceled because ${task.attacker.name} is no longer on the field.`);\r\n            return {end:true};\r\n        }\r\n\r\n        if (task.blocker) {\r\n            task.target = task.blocker;\r\n            return {};\r\n        }\r\n\r\n        if (task.target) {\r\n            const isValidTarget = this.isValidTarget(opponent, task.attacker, task.target);\r\n            return { end: !isValidTarget };\r\n        }\r\n\r\n        if (opponent.base.length > 0) {\r\n            task.target = opponent.base[0];\r\n            return {};\r\n        }\r\n\r\n        if (task.attacker.ap < 1) {\r\n            this.setActive(game, task.attacker, false);\r\n            return {};\r\n        }\r\n\r\n        if (opponent.shield.length > 0) {\r\n            this.setActive(game, task.attacker, false);\r\n            if (task.shieldProtection)\r\n                return {};\r\n\r\n            const card1 = opponent.shield[0];\r\n            card1.position = this.clone(opponent.positions.shield);\r\n            task.attacker.to = { ...task.attacker.position, x: opponent.positions.shield.x, y: opponent.positions.shield.y };\r\n\r\n            const burstEffect = this.lunchEffectTriggerForOneCard(card1, this.trigger_burst);\r\n            const tasks = [];\r\n            tasks.push({ id: this.showCards.name, card1, delay: 100 });\r\n\r\n            if (!burstEffect.cancelMoveToTrash)\r\n                tasks.push({ id: this.spawnOrMove.name, card1, to: this.locationTrash });\r\n\r\n            this.addTasks(tasks);\r\n            return {};\r\n        }\r\n\r\n        return this.end(player.isPlayer1);\r\n    }\r\n\r\n    static isValidTarget(opponent, attacker, target) {\r\n        return target.isPlayer1 === opponent.isPlayer1\r\n            && (!target.active || (attacker.attackActiveEnnemy && attacker.attackActiveEnnemy > target.level));\r\n    }\r\n\r\n    static effectBattle(game, task, player, opponent) {\r\n        let isExisting = task.battleEffectsAlreadyDone ? false\r\n            : this.lunchEffectTriggerForOneCard(task.attacker, this.trigger_battle);\r\n        if (isExisting) {\r\n            task.battleEffectsAlreadyDone = true;\r\n            return { stop: true };\r\n        }\r\n        return {};\r\n    }\r\n\r\n    static showFight(game, task, player, opponent) {\r\n        if (!task.target)\r\n            return {};\r\n\r\n        this.addTaskFirst({ id: this.showCards.name, card1: task.attacker, card2: task.target, delay: true });\r\n        this.nextStep(task);\r\n        return { stop: true };\r\n    }\r\n\r\n    static fight(game, task, player, opponent) {\r\n        if (!task.target)\r\n            return {};\r\n        \r\n        let damage = task.breach ? task.breach : task.attacker.ap;\r\n        if (task.target.immuneAp && damage < task.target.immuneAp)\r\n            damage = 0;\r\n        task.target.hp -= damage;\r\n        task.target.hpOrigin -= damage;\r\n        \r\n\r\n        damage = task.target.ap;\r\n        if (task.attacker.immuneAp && damage < task.attacker.immuneAp)\r\n            damage = 0;\r\n        task.attacker.hp -= damage;\r\n        task.attacker.hpOrigin -= damage;\r\n\r\n        const activeBreach = !task.breach && this.isCardUnit(task.target) && task.attacker.breach && task.target.hp < 1;\r\n        this.setActive(game, task.attacker, false);\r\n        let tasks = [];\r\n        const delay = activeBreach;\r\n        let tasksAttackerDead = [];\r\n\r\n        if (!task.breach && task.attacker.hp < 1)\r\n            tasksAttackerDead = this.destroyUnit(task.attacker, false);\r\n\r\n        if (task.target.hp < 1)\r\n            tasks = this.destroyUnit(task.target, delay);\r\n\r\n        this.setActive(game, task.attacker, false);\r\n\r\n        if (activeBreach) {\r\n            this.cardHighlight = this.cardHighlight.filter(x => x.index !== task.attacker.index);\r\n            tasks.push({\r\n                id: this.attack.name, step: this.stepSelectCardOpponent,\r\n                attacker: task.attacker, isPlayer1: task.attacker.isPlayer1,\r\n                breach: task.attacker.breach, delay: true\r\n            });\r\n        }\r\n\r\n        if (tasksAttackerDead.length > 0)\r\n            tasks = tasks.concat(tasksAttackerDead);\r\n\r\n        this.addTasks(tasks);\r\n        return {};\r\n    }\r\n}\r\n\r\n\r\nexport default attack;\r\n","\r\n\r\nclass setup {\r\n\r\n    static handStartLength = 5;\r\n    static resourceStart = 0;\r\n    static shieldStartLength = 6;\r\n\r\n    static setupGame(game) {\r\n        if (this.quickstart) {\r\n            this.resourceStart = 8;\r\n            this.handStartLength = 15;\r\n        }\r\n        if (game.campaign) {\r\n            this.resourceStart = 0;\r\n            this.handStartLength = 2;\r\n            this.shieldStartLength = 0;\r\n        }\r\n\r\n        game.player1 = this.createPlayer(game, true, game.decklistPlayer1);\r\n        game.player2 = this.createPlayer(game, false, game.decklistPlayer2);\r\n        game.isPlayer1 = this.quickstart ? false : Math.floor(Math.random() * 2) == 1;\r\n        game.fields = [game.grid.player1Hand, game.grid.player1Field, game.grid.player2Hand, game.grid.player2Field];\r\n\r\n        if (game.campaign) {\r\n            this.resourceStart = 0;\r\n            this.handStartLength = 2;\r\n            this.shieldStartLength = 0;\r\n            game.player1.shield = [this.createCard('ST03-016', true, this.locationShield)];\r\n            game.player2.shield = [this.createCard('ST03-016', false, this.locationShield)];\r\n        }\r\n\r\n        const playerOpponent = game.isPlayer1 ? game.player1 : game.player2;\r\n        game.player = playerOpponent;\r\n        game.resourcesMax = 2;\r\n        playerOpponent.resourcesEx += 1;\r\n\r\n        let tasks = [];\r\n        for (let i = 0; i < this.handStartLength; i++) {\r\n            tasks = tasks.concat([\r\n                { id: this.spawnOrMove.name, from: this.locationDeck, to: this.locationHand, isPlayer1: true },\r\n                { id: this.spawnOrMove.name, from: this.locationDeck, to: this.locationHand, isPlayer1: false }]);\r\n        }\r\n\r\n        this.addTasks(tasks);\r\n    }\r\n\r\n    static createPlayer(game, isPlayer1, decklist) {\r\n        const deck = this.createDeck(game, isPlayer1, decklist);\r\n\r\n        const result = {\r\n            isPlayer1, deck, shield: [], hand: [], field: [], trash: [], base: [], empty: [], incruises: [],\r\n            resourcesMax: this.resourceStart, resourcesAvailable: 0, resourcesEx: 0, index: isPlayer1 ? '1' : '2',\r\n            positions: {\r\n                deck: isPlayer1 ? game.grid.player1Deck : game.grid.player2Deck,\r\n                shield: isPlayer1 ? game.grid.player1Shield : game.grid.player2Shield,\r\n                hand: isPlayer1 ? game.grid.player1Hand : game.grid.player2Hand,\r\n                field: isPlayer1 ? game.grid.player1Field : game.grid.player2Field,\r\n                trash: isPlayer1 ? game.grid.player1Trash : game.grid.player2Trash,\r\n                base: isPlayer1 ? game.grid.player1Base : game.grid.player2Base,\r\n                empty: {}\r\n            }\r\n        };\r\n        return result;\r\n    }\r\n\r\n    static createDeck(game, isPlayer1, decklist) {\r\n        let result = [];\r\n\r\n        decklist.split(',').forEach(line => {\r\n            const info = line.split('x');\r\n            const quantity = parseInt(info[0]);\r\n            const id = info[1];\r\n\r\n            const card = game.cardList.find(x => x.id == id);\r\n            if (!card)\r\n                throw new Error(\"This card doesn't exist : \" + id);\r\n            for (let i = 0; i < quantity; i++)\r\n                result.push(this.createCard(card.id, isPlayer1));\r\n        });\r\n        \r\n        this.createUniqueRare(game, result);\r\n\r\n        if (!game.tuto) {\r\n            result = this.sortRandom(result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    static createUniqueRare(game, deck) {\r\n        const rareKeyWord = \"_p1\";\r\n        var rareCards = game.gundamCards.files.split(',').filter(x => x.includes(rareKeyWord)).map(x => x = x.replace(rareKeyWord, \"\"));\r\n        rareCards.forEach(rareCard => {\r\n            const firstCard = deck.find(x => x.id === rareCard);\r\n            if (firstCard)\r\n                firstCard.id += rareKeyWord;\r\n        });\r\n    }\r\n\r\n    static sortRandom(cards) {\r\n        return cards.sort(() => Math.random() - 0.5);\r\n    }\r\n\r\n    static mulligan(game, task) {\r\n        if (this.quickstart)\r\n            task.choice = {};\r\n\r\n        if (!task.choice) {\r\n            return this.addTaskFirst(\r\n                {\r\n                    id: this.popup.name,\r\n                    isPlayer1: true,\r\n                    task,\r\n                    text: game.texts.mulligan,\r\n                    choices: [{ id: 'yes', text: game.texts.yes }, { text: game.texts.no }]\r\n                }\r\n            );\r\n        } else {\r\n            let tasks = [];\r\n            if (task.choice.id === 'yes') {\r\n                game.player1.deck = this.sortRandom(game.player1.deck.concat(game.player1.hand));\r\n                const removeIds = game.player1.hand.map(x => x.index);\r\n                game.cards = game.cards.filter(x => !removeIds.includes(x.index));\r\n                game.player1.hand = [];\r\n\r\n                for (let i = 0; i < this.handStartLength; i++)\r\n                    tasks.push({ id: this.spawnOrMove.name, from: this.locationDeck, to: this.locationHand, isPlayer1: true });\r\n            }\r\n\r\n            // if (!this.quickstart)\r\n            tasks = tasks.concat(this.addShielsAndBase(game));\r\n\r\n            tasks.push({ id: this.refreshFieldAndHand.name, isPlayer1: true });\r\n            tasks.push({ id: this.refreshFieldAndHand.name, isPlayer1: false });\r\n\r\n            tasks.push({ id: this.nextTurn.name, isPlayer1: game.isPlayer1 });\r\n            this.addTasks(tasks);\r\n        }\r\n    }\r\n\r\n    static addShielsAndBase(game, addBase = true) {\r\n        let tasks = [];\r\n\r\n        for (let i = 0; i < this.shieldStartLength; i++) {\r\n            tasks.push({ id: this.move.name, from: this.locationDeck, to: this.locationShield, isPlayer1: true });\r\n            tasks.push({ id: this.move.name, from: this.locationDeck, to: this.locationShield, isPlayer1: false });\r\n        }\r\n\r\n        if (addBase) {\r\n            game.player1.base = [this.spawnIfNot(this.createCard('EXB-001', true, this.locationBase))];\r\n            game.player2.base = [this.spawnIfNot(this.createCard('EXB-001', false, this.locationBase))];\r\n        }\r\n\r\n        return tasks;\r\n    }\r\n}\r\n\r\nexport default setup;\r\n","class popup {\r\n\r\n    static popup(game, task) {\r\n        if(!task.task)\r\n            throw new Error('Il faut prciser la task de la popup !');\r\n        \r\n        if(!task.isPlayer1)\r\n            return this.handleAiPopup(game,task);\r\n        \r\n        if (!game.popup || !game.popup.task || (!game.popup.task.cardChoice && !game.popup.task.choice)) {\r\n            game.popup = task;\r\n            return { stop: true };\r\n        } \r\n        \r\n        this.deletePopup();\r\n    }\r\n\r\n    static deletePopup() {\r\n        delete (this.game.popup);\r\n        delete (this.game.choice);\r\n        delete (this.game.cardChoice);\r\n        delete (this.game.actionPlayer);\r\n        delete (this.game.actionOpponent);\r\n    }\r\n}\r\n\r\n\r\nexport default popup;","/* eslint-disable no-unused-vars */\r\n\r\nclass tasks {    \r\n    static indexTask=1;\r\n\r\n    static handleTasks(game) {\r\n        if (game.end) {\r\n            game.tasks = [];\r\n            return game;\r\n        }\r\n\r\n        let task = game.tasks[0];\r\n        game.refresh = task ? true : false;\r\n        let i = 0;\r\n\r\n        while (task && i < 100) {\r\n            const isPlayer1 = task.isPlayer1 ? task.isPlayer1\r\n                : task.card1 && task.card1.isPlayer1 ? task.card1.isPlayer1\r\n                    : task.isPlayer1;\r\n            const player = isPlayer1 ? game.player1 : game.player2;\r\n            const opponent = isPlayer1 ? game.player2 : game.player1;\r\n\r\n            let tasksString = game.tasks.map(x => x.id).join(', ');\r\n            if(!this[task.id])\r\n                throw new Error(`Can't handle this tasks : ${JSON.stringify(task)}`);\r\n            const result = this[task.id](game, task, player, opponent);\r\n            tasksString = game.tasks.map(x => x.id).join(', ');\r\n\r\n            if (result && result.stop)\r\n                return game;\r\n\r\n            game.tasks = game.tasks.filter(x=> x.index !== task.index);\r\n\r\n            if (task.delay) {\r\n                game.wait = task.delay === true ? this.delay : task.delay;\r\n                return game;\r\n            }\r\n\r\n            task = game.tasks[0];\r\n            i++;\r\n        }\r\n\r\n        if (this.needTaskEndRefresh)\r\n            this.taskEndRefresh(game);\r\n\r\n        return game;\r\n    }\r\n\r\n    static addTasksIndex(tasks){\r\n        tasks.forEach(x=> {\r\n            x.index = this.indexTask;\r\n            this.indexTask++;\r\n        });\r\n    }\r\n    \r\n    static addTask(task) { return this.addTasks([task]); }\r\n    static addTasks(tasks) {\r\n        this.needTaskEndRefresh = true;\r\n        this.addTasksIndex(tasks);\r\n        this.game.tasks = this.game.tasks.concat(tasks);\r\n        return {};\r\n    }\r\n\r\n    static addTaskFirst(task) { return this.addTasksFirst([task]); }\r\n    static addTasksFirst(tasks) {\r\n        this.needTaskEndRefresh = true;\r\n        this.game.tasks = tasks.concat(this.game.tasks);\r\n        this.addTasksIndex(tasks);\r\n        return { stop: true };\r\n    }\r\n\r\n    static addTaskPos2(task) { return this.addTasksPos2([task]); }\r\n    static addTasksPos2(tasks) {\r\n        this.needTaskEndRefresh = true;\r\n        const first = this.game.tasks.splice(0,1)[0];\r\n        this.game.tasks = [first].concat(tasks).concat(this.game.tasks);\r\n        this.addTasksIndex(tasks);\r\n        return { stop: true };\r\n    }\r\n\r\n    static startTasks(game){\r\n        game.triggerRefreshAlreadyDone=false;\r\n        this.resetZIndex(game);\r\n    }\r\n}\r\n\r\n\r\nexport default tasks;\r\n","class array {\r\n\r\n    static test(message) {\r\n        alert(message);\r\n    }\r\n\r\n    static wait() { }\r\n\r\n    static clone(obj) { return Object.assign({}, obj); }\r\n\r\n    static addFunction(cla, obj, useTuto) {\r\n        const ignore = ['length', 'name', 'prototype'];\r\n        cla.forEach(c => {\r\n            Object.getOwnPropertyNames(c).forEach(method => {\r\n                if (!ignore.includes(method)) {\r\n                    if (obj[method] && !useTuto) {\r\n                        throw new Error(`cette fonction existe deja : ${c.name}.${method}`);\r\n                    }\r\n                    else {\r\n                        obj[method] = c[method];\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    // Log\r\n    static log(text) { this.game.logs = text + '<br>' + this.game.logs; }\r\n\r\n    // Utils\r\n    static isPair(x) { return x % 2 == 0 }\r\n\r\n    // Array\r\n    static addListInArrayAfterIndex(array, index, list) {\r\n        if (!array)\r\n            return list;\r\n\r\n        if (!list)\r\n            return array;\r\n\r\n        if (index >= array.length)\r\n            return array.concat(list);\r\n\r\n        if (index < 0 || index >= array.length)\r\n            return list.concat(array);\r\n\r\n        return [...array.slice(0, index), ...list, ...array.slice(index)];\r\n    }\r\n\r\n    static getAndRemoveFirst(array) {\r\n        return array.splice(0, 1)[0];\r\n    }\r\n\r\n    static removeByIndex(array, card) {\r\n        return array.filter(x => x.index !== card.index);\r\n    }\r\n\r\n    static addIn(array, card) {\r\n        if (array && !array.includes(x => x.index === card.index))\r\n            return array.concat([card]);\r\n    }\r\n\r\n    static alreadyDone(valueOld, valueNew) {\r\n        if (valueOld === undefined && !valueNew)\r\n            return true;\r\n        return valueOld == valueNew;\r\n    }\r\n}\r\n\r\n\r\nexport default array;\r\n","class title {\r\n\r\n    static showTitle(game, task) {\r\n        game.showTitle = task.value;\r\n    }\r\n\r\n    static taskTextShow(game, task) {\r\n        game.textEffect = {\r\n            text: task.text,\r\n            position: this.clone(game.grid.textZone)\r\n        };\r\n        game.textEffect.to = this.clone(game.grid.textZone);\r\n        game.textEffect.position.height = 0;\r\n    }\r\n\r\n    static showCards(game, task) {\r\n        if (!task.card1 || this.cardHighlight.find(x => x.index === task.card1.index)) {\r\n            task.delay = null;\r\n            return;\r\n        }\r\n\r\n        this.spawnIfNot(task.card1);\r\n        this.cardHighlight.push(task.card1);\r\n        const destination = task.card2 ? game.grid.highlightCardLeft : game.grid.highlightCardCenter;\r\n        task.card1.to = this.clone(destination);\r\n        task.card1.to.rotation = 0;\r\n        task.card1.zindex = 11;\r\n        task.card1.verso = false;\r\n\r\n        if (task.card2) {\r\n            this.spawnIfNot(task.card2);\r\n            this.cardHighlight.push(task.card2);\r\n            task.card2.to = this.clone(game.grid.highlightCardRight);\r\n            task.card2.to.rotation = 0;\r\n            task.card2.zindex = 11;\r\n            task.card2.verso = false;\r\n        }\r\n\r\n        if (task.text)\r\n            this.taskTextShow(game, task);\r\n    }\r\n\r\n    static taskMoveAndShowCenter(game, task, player) {\r\n        task.card1 = this.spawnOrMove(game, task, player);\r\n        task.delay = true;\r\n        this.showCards(game, task);\r\n    }\r\n\r\n    static showCardsEffect(game, task) {\r\n        task.card1.fxRed = !task.hideFx;\r\n        task.card1.fxText = task.text;\r\n        task.card1.verso = false;\r\n        if (!task.hideFx) {\r\n            this.log(`Apply effect of ${task.card1.name} : ${task.text}`);\r\n            this.addTaskPos2({ id: this.showCardsEffect.name, card1: task.card1, hideFx: true, delay: true });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default title;\r\n","class turn {\r\n    static getPlayerTurn() { return this.getPlayer(this.game.isPlayer1); }\r\n    static getPlayer(isPlayer1) { return isPlayer1 ? this.game.player1 : this.game.player2; }\r\n    static getPlayerTurnOpponent() { return this.getOpponent(this.game.isPlayer1); }\r\n    static getOpponent(isPlayer1) { return isPlayer1 ? global.game.player2 : global.game.player1; }\r\n\r\n    static turnIndex = 0;\r\n\r\n    static nextTurn(game, task, player) {\r\n        let isExisting = task.effectsAlreadyDone ? false\r\n            : this.lunchEffectTriggerMultiple(player.field, this.trigger_end);\r\n        task.effectsAlreadyDone = true;\r\n\r\n        if (isExisting) {\r\n            this.addTasks([{ id: this.refreshFieldAndHand.name, isPlayer1: true }, { id: this.refreshFieldAndHand.name, isPlayer1: false, delay: true }]);\r\n            return { stop: true };\r\n        }\r\n\r\n        game.isPlayer1 = !game.isPlayer1;\r\n        game.player = this.getPlayerTurn();\r\n        const playerId = game.isPlayer1 ? '1' : '2';\r\n        this.startTasks(game);\r\n\r\n        const idTask = game.isPlayer1 ? this.taskMoveAndShowCenter.name : this.spawnOrMove.name;\r\n\r\n        const tasks = [\r\n            { id: this.showTitle.name, value: game.texts.newTurn + playerId, isPlayer1: game.isPlayer1, delay: true },\r\n            { id: idTask, isPlayer1: game.isPlayer1, from: this.locationDeck, to: this.locationHand }\r\n        ];\r\n\r\n        this.addTasks(tasks);\r\n\r\n        this.removeOneTurnEffect(game);\r\n\r\n        if (game.player.resourcesMax < 1)\r\n            game.player.resourcesMax = 1;\r\n        else if (game.player.resourcesMax < 10)\r\n            game.player.resourcesMax += 1;\r\n\r\n        game.player.resourcesAvailable = game.player.resourcesMax + game.player.resourcesEx;\r\n        game.resourcesMax = Math.max(game.player1.resourcesAvailable, game.player1.resourcesMax, game.player2.resourcesAvailable, game.player2.resourcesMax) + 1;\r\n\r\n        game.player.field.concat(game.player.base)\r\n            .forEach(x => this.setActive(game, x, true));\r\n\r\n        this.setSelectableFalse();\r\n\r\n        const baseText = game.player.base.length > 0 ? game.player.base[0].hp + 'hp ' : '-';\r\n        this.turnIndex++;\r\n        this.log(`-- Turn ${this.turnIndex} for player ${playerId}, ${game.player.resourcesAvailable} resources, ${game.player.shield.length} shield, ${baseText} base`);\r\n\r\n        this.lunchEffectTriggerMultiple(game.player.field, this.trigger_turn);\r\n    }\r\n}\r\n\r\n\r\nexport default turn;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nclass tuto {\r\n    static handStartLength = 0;\r\n    static shieldStartLength = 2;\r\n    static tutoSmall(game) { return { ...game.grid.resources, x: game.grid.width / 2 - 150, width: 300 }; }\r\n\r\n    static addTutoMask(game) {\r\n        const properties = 'player1Shield,player1Base,player1Deck,player1Trash,player2Shield,player2Base,player2Deck,player2Trash';\r\n        game.tutoMasks = properties\r\n            .split(',')\r\n            .map(prop => { return { ...game.grid[prop], isPlayer1: prop.startsWith('player1'), id: prop } });\r\n\r\n        game.tutoMasks.push({ ...game.grid.resources, isPlayer1: true, id: 'resources' });\r\n        game.tutoMasks.push({ ...game.grid.logZone, isPlayer1: false, id: 'logZone' });\r\n        game.tutoMasks.push({\r\n            isPlayer1: true, id: 'buttonEffect',\r\n            x: game.grid.buttonEffect.x - 10, width: game.grid.buttonEffect.width + 20,\r\n            y: game.grid.buttonEffect.y - 10, height: game.grid.buttonEffect.height + 20\r\n        });\r\n        game.tutoMasks.push({\r\n            isPlayer1: true, id: 'buttonEndTurn',\r\n            x: game.grid.buttonEndTurn.x - 10, width: game.grid.buttonEndTurn.width + 20,\r\n            y: game.grid.buttonEndTurn.y - 10, height: game.grid.buttonEndTurn.height + 20\r\n        });\r\n    }\r\n\r\n    static mulligan(game) {\r\n        this.addTasks(this.addShielsAndBase(game, false));\r\n    }\r\n\r\n    static continueTuto(game) {\r\n        if (game.tutoDone)\r\n            return;\r\n\r\n        this.tutoText.used = this.tutoText[game.playerInfo.lang];\r\n        game.tutoStep = game.tutoStep ? game.tutoStep : 0;\r\n\r\n        if (game.showTextTuto && game.showTextTuto.next) {\r\n            game.tutoStep++;\r\n            game.showTextTuto.next = false;\r\n        }\r\n\r\n        let step = this.tutoSteps[game.tutoStep];\r\n        if (!step)\r\n            return;\r\n\r\n        if (this.autoNextStep(game, step)) {\r\n            game.tutoStep++;\r\n        }\r\n\r\n        step = this.tutoSteps[game.tutoStep];\r\n        if (!step || step.isDone)\r\n            return;\r\n\r\n        step.isDone = true;\r\n        step.action(this, game);\r\n    }\r\n\r\n    static autoNextStep(game, step) {\r\n        if (!step.isDone || game.tutoStep + 1 >= this.tutoSteps.length)\r\n            return false;\r\n\r\n        const nextStep = this.tutoSteps[game.tutoStep + 1];\r\n        const task = game.tasks.length > 0 ? game.tasks[0] : null;\r\n        return nextStep.conditions(this, game, task);\r\n    }\r\n\r\n    static conditionNexTurn(context, game) {\r\n        return game.player1.hand.length > 0 && !game.player1.hand[0].to && context.cardHighlight.length < 1;\r\n    }\r\n\r\n    static tutoText = {\r\n        used: null,\r\n        en: {\r\n            welcome: 'Welcome to Gundam TCG.',\r\n            deck: 'This is your deck. It contains 50 cards.',\r\n            playUnit: 'The first turn has begun. Youve drawn one card from your deck. Its a unit card you can play. Press and hold the card, then drag it here.',\r\n            cantAttack: \"A unit can't attack the turn it's played unless it's linked with a pilot. Well learn about linking pilots shortly.\",\r\n            endTurn: \"Youve done all you can this turn. Press the 'End Turn' button to proceed.\",\r\n            zoom: \"Click on a card to zoom in and see its details.\",\r\n            showLevelCost: \"In the top-left corner of a card, you can see its level (3) and cost (2).\",\r\n            showLink: \"In the bottom-left corner, youll find the cards pilot link condition: (White Base Team) Trait.\",\r\n            showApHp: \"In the bottom-right corner, youll see the cards Attack Points (AP: 2) and Hit Points (HP: 3). Click again to unzoom.\",\r\n            showResources: \"This is the 2 resource bars. The bottom bar is yours; the top one belongs to your opponent. You currently have 3 resources.\",\r\n            showResources2: \"Your opponent has 2 regular resources (yellow) and 1 EX resource (blue). Player 2 always starts with one EX resource.\",\r\n            showResources3: \"To play a card, you must pay its cost using your available resources. EX resources are always used first. At the start of each turn, you gain 1 additional resource.\",\r\n            playLevel3: \"To play a level 3 card that costs 2, you need at least 3 total resources, including 2 available ones.\",\r\n            playIt: \"The requirements are met. The card is glowing yellow, meaning you can play it. Do it like the previous one.\",\r\n            resourcesUsed: \"2 resources were used. You still have 1 available (yellow) and 2 unavailable (red).\",\r\n            ennemyBase: \"This is the enemy base. Each player starts the game with one.\",\r\n            attack: \"This unit is ready to attack. Select it and release it on the opponents field to launch an attack.\",\r\n            rested: \"This unit has attacked. Its now rested (rotated 90 degrees).\",\r\n            showApHp2: \"Above the card, you see (0 - 1), indicating the cards AP (0) and HP (1).\",\r\n            showApHp3: \"The unit attacked the enemy base, dealing 2 AP damage. The base had 3 HP and is now reduced to 1 HP.\",\r\n            showEffect: \"When a cards effect activates, a red circle with text appears.\",\r\n            p2LinkUnit: \"Player 2 has played a unit with a linked pilot, so it can attack this turn.\",\r\n            p2AttackBase: \"Player 2 can now use this unit to attack our base.\",\r\n            p2AttackUnit: \"Alternatively, it can attack our rested units.\",\r\n            unitTrash: \"Our units HP reached 0. Its been sent to the trash.\",\r\n            linkUnit: \"This unit can be linked with a pilot. Play it now.\",\r\n            linkPilot: \"You can now pair this pilot with the unit you just played.\",\r\n            attackLink: \"The pilots AP and HP values have been added to those of the unit. Additionally, you can now attack with this linked unit.\",\r\n            revenge: \"Well avenge it by attacking the Gelgoog with our unit. Select your unit and release it onto the opponents unit.\",\r\n            famous: \"Now it's time to link a unit with a pilot. To do that, Im giving you a famous unit card.\",\r\n            baseDestroyed: \"The enemy base has been destroyed. To win this battle, you now need to destroy all shield cards and land a final attack.\",\r\n            command: \"This is a command card. When played, it activates its effect and is then sent to the trash.\",\r\n            attackRested: \"These opponent units are now rested. We can attack one of them.\",\r\n            burst: \"This shield card was revealed due to the Zaku II's attack. When that happens, its 'Burst' effect is triggered.\",\r\n            playBase: \"This is a base card. Play it now.\",\r\n            oneBase: \"Each player can only have one base on the field.\",\r\n            useEffect: \"Our base has an ability we can activate from here.\",\r\n            whiteBase: \"The White Base effect gives you a unit. This unit has no link condition.\",\r\n            pairPilot: \"However, we can still pair a pilot with it.\",\r\n            showPairUnit: \"These cards are paired, not linked. That means the unit cant attack this turn. However, the pilots AP and HP have been added to the units values.\",\r\n            playAlone: \"Now its your turn to play on your own. Try to win this duel by attacking where no shield or base remains.\"\r\n        },\r\n        fr: {\r\n            welcome: 'Bienvenue dans Gundam TCG.',\r\n            deck: 'Voici votre Deck. Il contient 50 cartes.',\r\n            playUnit: 'Le premier tour commence. Vous avez pioch une carte de votre Deck. Cest une carte unit (Unit) que vous pouvez jouer. Appuyez longuement sur la carte, puis faites-la glisser ici.',\r\n            cantAttack: \"Une unit ne peut pas attaquer le tour o elle est joue, sauf si elle est lie  un pilote. Nous verrons cela dans quelques instants.\",\r\n            endTurn: \"Vous ne pouvez plus rien faire ce tour-ci. Appuyez sur le bouton 'Fin du tour' pour continuer.\",\r\n            zoom: \"Cliquez sur une carte pour zoomer et voir ses dtails.\",\r\n            showLevelCost: \"En haut  gauche dune carte, vous pouvez voir son Level (3) et son Cost (2).\",\r\n            showLink: \"En bas  gauche, vous trouverez la condition de liaison de pilote (Link) : (White Base Team) Trait.\",\r\n            showApHp: \"En bas  droite, vous verrez les Points dAttaque (AP : 2) et les Points de Vie (HP : 3) de la carte. Cliquez  nouveau pour dzoomer.\",\r\n            showResources: \"Voici les 2 barres de ressources. Celle du bas est la vtre ; celle du haut est celle de votre adversaire. Vous disposez actuellement de 3 ressources.\",\r\n            showResources2: \"Votre adversaire possde 2 ressources classiques (jaunes) et 1 ressource EX (bleue). Le joueur 2 commence toujours avec une ressource EX.\",\r\n            showResources3: \"Pour jouer une carte, vous devez en payer le cot avec vos ressources disponibles. Les ressources EX sont toujours utilises en premier. Au dbut de chaque tour, vous gagnez une ressource supplmentaire.\",\r\n            playLevel3: \"Pour jouer une carte de niveau 3 avec un cot de 2, vous devez avoir au moins 3 ressources au total, dont 2 disponibles.\",\r\n            playIt: \"Les conditions sont remplies. La carte brille en jaune : vous pouvez la jouer, comme la prcdente.\",\r\n            resourcesUsed: \"2 ressources ont t utilises. Il vous en reste 1 disponible (jaune) et 2 indisponibles (rouges).\",\r\n            ennemyBase: \"Voici la base ennemie. Chaque joueur commence la partie avec une base.\",\r\n            attack: \"Cette unit est prte  attaquer. Slectionnez-la et relchez-la sur le terrain adverse pour lancer lattaque.\",\r\n            rested: \"Cette unit a attaqu. Elle est maintenant engage (Rest), pivote  90 degrs.\",\r\n            showApHp2: \"Au-dessus de la carte, vous voyez (0 - 1), indiquant les AP (0) et les HP (1).\",\r\n            showApHp3: \"Lunit a attaqu la base ennemie, infligeant 2 points de dgts (AP). La base avait 3 HP avant l'attaque, elle nen a plus quun maintenant.\",\r\n            showEffect: \"Lorsquun effet de carte est activ, un cercle rouge avec le tite de l'effet apparat.\",\r\n            p2LinkUnit: \"Le joueur 2 a jou une unit avec un pilote li. Elle peut donc attaquer ce tour-ci.\",\r\n            p2AttackBase: \"Le joueur 2 peut utiliser cette unit pour attaquer notre base.\",\r\n            p2AttackUnit: \"Ou bien il peut attaquer notre unit engage (Rest).\",\r\n            unitTrash: \"Les PV de notre unit sont tombs  0. Elle a t envoye  la dfausse (Trash).\",\r\n            linkUnit: \"Cette unit peut tre lie  un pilote. Jouez-la maintenant.\",\r\n            linkPilot: \"Vous pouvez maintenant associer ce pilote  lunit que vous venez de jouer.\",\r\n            attackLink: \"Les valeurs dAP et de HP du pilote ont t ajoutes  celles de lunit. De plus, vous pouvez dsormais attaquer avec cette unit lie.\",\r\n            revenge: \"Nous allons le venger en attaquant le Gelgoog avec notre unit. Slectionnez votre unit et relchez-la sur lunit ennemie.\",\r\n            famous: \"Il est maintenant temps de lier une unit  un pilote. Pour cela, je vais vous donner une carte unit clbre.\",\r\n            baseDestroyed: \"La base ennemie a t dtruite. Pour remporter ce combat, vous devez maintenant dtruire toutes les cartes Shield et lancer une attaque finale.\",\r\n            command: \"Ceci est une carte Command. Lorsqu'elle est joue, son effet sactive, puis elle est envoye  la dfausse.\",\r\n            attackRested: \"Les units adverses sont maintenant puises. Nous pouvons en attaquer une.\",\r\n            burst: \"Cette carte Shield a t rvle  cause de lattaque du Zaku II. Lors de cette rvlation, leffet 'Burst' sactive.\",\r\n            playBase: \"Voici une carte Base. Jouez-la.\",\r\n            oneBase: \"Un joueur ne peut avoir quune seule base sur le terrain.\",\r\n            useEffect: \"Notre base possde un effet que nous pouvons activer ici.\",\r\n            whiteBase: \"Leffet de cette carte 'White Base' vous donne une unit. Cette unit na pas de condition de lien.\",\r\n            pairPilot: \"Mais nous pouvons tout de mme associer (Pair) un pilote  cette unit.\",\r\n            showPairUnit: \"Ces cartes sont associes (Pair), mais non lies (Link). Cela signifie que lunit ne peut pas attaquer ce tour-ci. Toutefois, les valeurs dAP et de HP du pilote ont t ajoutes  celles de lunit.\",\r\n            playAlone: \"Cest  vous de jouer seul maintenant. Essayez de remporter ce duel.\"\r\n        }\r\n    }\r\n\r\n    static getTextTuto(prop) {\r\n        return this.tutoText.used[prop];\r\n    }\r\n\r\n    static tutoSteps = [\r\n        {\r\n            // Show title\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                context.addTutoMask(game);\r\n                game.showTextTuto = {\r\n                    ...context.tutoSmall(game),\r\n                    text: context.getTextTuto('welcome')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Show deck icon\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.player1.resourcesMax = 1;\r\n                game.player1.resourcesEx = 0;\r\n                game.player2.resourcesMax = 1;\r\n                game.player2.resourcesEx = 1;\r\n                game.player1.deck[1].id = 'GD01-004';\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'player1Deck' && x.id !== 'player2Deck');\r\n                game.isPlayer1 = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.grid.player1Deck),\r\n                    text: context.getTextTuto('deck')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // draw a card for the first turn\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // Play Gm unit\r\n            conditions: (context, game, task) => {\r\n                return context.conditionNexTurn(context, game);\r\n            },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...game.grid.player1Field, y: game.grid.player1Field.y - game.grid.player1Field.height * 0.75, hideNext: true, sens: 1,\r\n                    text: context.getTextTuto('playUnit')\r\n                };\r\n                game.showTextTuto.arrow = context.addArrow(game.showTextTuto, game.grid.player1Field, 1);\r\n            }\r\n        },\r\n        {\r\n            // hide text tuto\r\n            conditions: (context, game, task) => { return task && task.id === context.play.name; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // show tuto text\r\n            conditions: (context, game, task) => { return game.player1.field.length === 1 && !game.player1.field[0].to; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[0].position, 300, game.grid.boxHeight * 1.5),\r\n                    text: context.getTextTuto('cantAttack')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // press end turn\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'buttonEndTurn');\r\n                game.freeze = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.grid.buttonEndTurn), hideNext: true,\r\n                    text: context.getTextTuto('endTurn')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // unfreeze and mask end turn button\r\n            conditions: (context, game, task) => { return task && task.id === context.nextTurn.name; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.freezeButtons = true;\r\n                game.tutoMasks.push({\r\n                    isPlayer1: true, id: 'buttonEndTurn',\r\n                    x: game.grid.buttonEndTurn.x - 10, width: game.grid.buttonEndTurn.width + 20,\r\n                    y: game.grid.buttonEndTurn.y - 10, height: game.grid.buttonEndTurn.height + 20\r\n                });\r\n            }\r\n        },\r\n        {\r\n            // zoom on a card\r\n            conditions: (context, game, task) => {\r\n                return context.conditionNexTurn(context, game);\r\n            },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[0].position), hideNext: true,\r\n                    text: context.getTextTuto('zoom')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show tuto text on zoom card\r\n            conditions: (context, game, task) => { return game.cardCenter; },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'resources');\r\n                game.showTextTuto = {\r\n                    ...game.cardCenter.position, y: game.cardCenter.position.y + game.cardCenter.position.height * 0.17, height: game.cardCenter.position.height * 0.83, zindex: 120,\r\n                    text: context.getTextTuto('showLevelCost')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show tuto text on zoom card\r\n            conditions: (context, game, task) => { return false },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'resources');\r\n                game.showTextTuto = {\r\n                    ...game.cardCenter.position, y: game.cardCenter.position.y, height: game.cardCenter.position.height * 0.9, zindex: 120,\r\n                    text: context.getTextTuto('showLink')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show tuto text on zoom card\r\n            conditions: (context, game, task) => { return false },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'resources');\r\n                game.showTextTuto = {\r\n                    ...game.cardCenter.position, y: game.cardCenter.position.y, height: game.cardCenter.position.height * 0.9, zindex: 120, hideNext: true,\r\n                    text: context.getTextTuto('showApHp')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show tuto text\r\n            conditions: (context, game, task) => { return !game.cardCenter; },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextToUsingSens(game, game.grid.resources, 300, game.grid.boxHeight * 1.5, 3),\r\n                    text: context.getTextTuto('showResources')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show tuto text\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextToUsingSens(game, game.grid.resources, 300, game.grid.boxHeight * 1.5, 1),\r\n                    text: context.getTextTuto('showResources2')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show tuto text\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextToUsingSens(game, game.grid.resources, 300, game.grid.boxHeight * 2, 3),\r\n                    text: context.getTextTuto('showResources3')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show tuto text\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[0].position, 300, game.grid.boxHeight *1.5),\r\n                    text: context.getTextTuto('playLevel3')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // play opponent unit\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[0].position), hideNext: true,\r\n                    text: context.getTextTuto('playIt')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1.id === 'GD01-004'; // Guncanon\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextToUsingSens(game, game.grid.resources, 300, game.grid.boxHeight, 3),\r\n                    text: context.getTextTuto('resourcesUsed')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // animations base arriving\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'player1Base' && x.id != 'player2Base');\r\n                context.addShielsAndBase(game);\r\n                game.freeze = false;\r\n                context.addTask({ id: context.taskEndRefresh.name });\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return game.tasks.length == 0 && game.player2.base.length > 0 && !game.player2.base[0].to; },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player2.positions.base),\r\n                    text: context.getTextTuto('ennemyBase')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Gm attack\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[0].position), hideNext: true,\r\n                    text: context.getTextTuto('attack')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // hide text tuto\r\n            conditions: (context, game, task) => { return task && task.id === context.play.name; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.freezeButtons = true;\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return !task && !game.player1.field[0].to; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[0].position),\r\n                    text: context.getTextTuto('rested')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return context.tutoStep == 18 && !task; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player2.base[0].position),\r\n                    text: context.getTextTuto('showApHp2')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextToUsingSens(game, game.player2.base[0].position, 300, game.grid.boxHeight * 1.5, 1),\r\n                    text: context.getTextTuto('showApHp3')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // press end turn\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'buttonEndTurn');\r\n                game.freeze = false;\r\n                game.freezeButtons = false;\r\n                game.player1.field[1].fxTextCancelFadeout = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.grid.buttonEndTurn), hideNext: true,\r\n                    text: context.getTextTuto('endTurn')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // prepare ai turn\r\n            conditions: (context, game, task) => { return task && task.id === context.nextTurn.name; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.freezeButtons = true;\r\n                game.player2.resourcesMax = 2;\r\n                game.tutoMasks.push({\r\n                    isPlayer1: true, id: 'buttonEndTurn',\r\n                    x: game.grid.buttonEndTurn.x - 10, width: game.grid.buttonEndTurn.width + 20,\r\n                    y: game.grid.buttonEndTurn.y - 10, height: game.grid.buttonEndTurn.height + 20\r\n                });\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return task && task.id === context.showCardsEffect.name && task.hideFx },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[1].position),\r\n                    text: context.getTextTuto('showEffect')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // prepare ai turn\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.freezeButtons = true;\r\n                game.freeze = false;\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return game.player2.field.length > 0 && !task; },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.player1.field[1].fxTextCancelFadeout = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player2.field[0].position),\r\n                    text: context.getTextTuto('p2LinkUnit')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.base[0].position),\r\n                    text: context.getTextTuto('p2AttackBase')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[0].position),\r\n                    text: context.getTextTuto('p2AttackUnit')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // hide text tuto\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return context.conditionNexTurn(context, game) && !task; },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'player1Trash' && x.id != 'player2Trash');\r\n                game.freeze = false;\r\n                game.freezeButtons = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextToUsingSens(game, game.player1.positions.trash, 300, game.grid.boxHeight * 1.5, 2),\r\n                    text: context.getTextTuto('unitTrash')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Attack Guncannon vs Gelgoog\r\n            conditions: (context, game, task) => { return !task },\r\n            action: (context, game) => {\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[0].position), hideNext: true,\r\n                    text: context.getTextTuto('revenge')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Fight Guncannon vs Gelgoog\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id === 'GD01-004' && task.card2 && task.card2.id == 'GD01-031'; // Guncanon vs Gelgoog\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.freezeButtons = true;\r\n            }\r\n        },\r\n        {\r\n            // show tuto text add one card to hand\r\n            conditions: (context, game, task) => { return !task; },\r\n            action: (context, game) => {\r\n                game.freezeButtons = true;\r\n                game.showTextTuto = {\r\n                    ...context.tutoSmall(game),\r\n                    text: context.getTextTuto('famous')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Add gundam to hand\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                context.addTask({ id: context.spawnOrMove.name, isPlayer1: true, from: context.locationDeck, to: context.locationHand });\r\n                context.addTask({ id: context.spawnOrMove.name, isPlayer1: false, from: context.locationDeck, to: context.locationHand });\r\n                context.addTask({ id: context.spawnOrMove.name, isPlayer1: false, from: context.locationDeck, to: context.locationHand });\r\n            }\r\n        },\r\n        {\r\n            // Show tuto text gundam link\r\n            conditions: (context, game, task) => { return !task && !game.player1.hand[1].to; },\r\n            action: (context, game) => {\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[1].position), hideNext: true,\r\n                    text: context.getTextTuto('linkUnit')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Gundam is played\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id.startsWith('ST01-001'); // Gundam\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // Show tuto text play Amuro\r\n            conditions: (context, game, task) => { return !task && !game.player1.field[0].to },\r\n            action: (context, game) => {\r\n                game.cardFocus = game.player1.hand[0];\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.cardFocus.position), hideNext: true,\r\n                    text: context.getTextTuto('linkPilot')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Amuro is played\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id === 'ST01-010' && task.card2 && task.card2.id.startsWith('ST01-001'); // Amuro on Gundam\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // Show tuto text Attack with gundam\r\n            conditions: (context, game, task) => { return !task && !game.cardFocus.to; },\r\n            action: (context, game) => {\r\n                game.cardFocus = null;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[0].position), hideNext: true,\r\n                    text: context.getTextTuto('attackLink')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Gundam attack\r\n            conditions: (context, game, task) => { return task && task.id == context.play.name; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // show shield\r\n            conditions: (context, game, task) => { return !task; },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'player1Shield' && x.id != 'player2Shield');\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextToUsingSens(game, game.player2.positions.shield, 300, game.grid.boxHeight * 2, 1),\r\n                    text: context.getTextTuto('baseDestroyed')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // press end turn\r\n            conditions: (context, game, task) => { return false },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'buttonEndTurn');\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.grid.buttonEndTurn), hideNext: true,\r\n                    text: context.getTextTuto('endTurn')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // unfreeze and mask end turn button\r\n            conditions: (context, game, task) => { return task && task.id === context.nextTurn.name; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.freezeButtons = true;\r\n                game.tutoMasks.push({\r\n                    isPlayer1: true, id: 'buttonEndTurn',\r\n                    x: game.grid.buttonEndTurn.x - 10, width: game.grid.buttonEndTurn.width + 20,\r\n                    y: game.grid.buttonEndTurn.y - 10, height: game.grid.buttonEndTurn.height + 20\r\n                });\r\n            }\r\n        },\r\n        {\r\n            // play command\r\n            conditions: (context, game, task) => { return context.conditionNexTurn(context, game) },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[0].position), hideNext: true,\r\n                    text: context.getTextTuto('command')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Command is played\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id === 'GD01-099'; // Command\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.freezeButtons = true;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // Show tuto text Attack with gundam\r\n            conditions: (context, game, task) => { return !task; },\r\n            action: (context, game) => {\r\n                game.cardFocus = null;\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[0].position), hideNext: true,\r\n                    text: context.getTextTuto('attackRested')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Gundam attack\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id.startsWith('ST01-001') && task.card2 && task.card2.id.startsWith('ST03-008'); // Gundam attack zaku II\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // press end turn\r\n            conditions: (context, game, task) => { return !task },\r\n            action: (context, game) => {\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'buttonEndTurn');\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.grid.buttonEndTurn), hideNext: true,\r\n                    text: context.getTextTuto('endTurn')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // unfreeze and mask end turn button\r\n            conditions: (context, game, task) => { return task && task.id === context.nextTurn.name; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n                game.freezeButtons = true;\r\n                game.player1.shield[0].id = 'GD01-088';\r\n                game.tutoMasks.push({\r\n                    isPlayer1: true, id: 'buttonEndTurn',\r\n                    x: game.grid.buttonEndTurn.x - 10, width: game.grid.buttonEndTurn.width + 20,\r\n                    y: game.grid.buttonEndTurn.y - 10, height: game.grid.buttonEndTurn.height + 20\r\n                });\r\n            }\r\n        },\r\n        {\r\n            // show burst card\r\n            conditions: (context, game, task) => { return game.player1.hand.length > 0 && !game.player1.hand[0].to },\r\n            action: (context, game) => {\r\n                game.freeze = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[0].position),\r\n                    text: context.getTextTuto('burst')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // finish opponent turn\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // play base\r\n            conditions: (context, game, task) => { return game.player1.hand.length > 1 && !game.player1.hand[1].to && context.cardHighlight.length < 1; },\r\n            action: (context, game) => {\r\n                game.freeze = false;\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[1].position), hideNext: true,\r\n                    text: context.getTextTuto('playBase')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Base is played\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id === 'ST01-015'; // White base\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.freezeButtons = true;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return !task; },\r\n            action: (context, game) => {\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.base[0].position),\r\n                    text: context.getTextTuto('oneBase')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show use effect button\r\n            conditions: (context, game, task) => { return false },\r\n            action: (context, game) => {\r\n                game.freezeButtons = false;\r\n                game.tutoMasks = game.tutoMasks.filter(x => x.id != 'buttonEffect');\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.grid.buttonEffect), hideNext: true,\r\n                    text: context.getTextTuto('useEffect')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // use effect popup\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.id == context.lunchMainEffectCard.name;\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // popup select white base\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id === 'ST01-015'; // White base\r\n                if (task && task.id == context.popup.name)\r\n                    return false;\r\n                if (!task) {\r\n                    game.tutoStep -= 1;\r\n                    this.tutoSteps[game.tutoStep].isDone = false;\r\n                    this.tutoSteps[game.tutoStep + 1].isDone = false;\r\n                    return false;\r\n                }\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // show text tuto\r\n            conditions: (context, game, task) => { return !task && game.player1.field.length > 0 && !game.player1.field[1].to; },\r\n            action: (context, game) => {\r\n                game.freezeButtons = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[1].position),\r\n                    text: context.getTextTuto('whiteBase')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // show text tuto play banagher\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.hand[0].position), hideNext: true,\r\n                    text: context.getTextTuto('pairPilot')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // play banagher\r\n            conditions: (context, game, task) => {\r\n                const isGood = task && task.card1 && task.card1.id.startsWith('GD01-088') && task.card2 && task.card2.id === 'T-002'; // banagher on token guncanon\r\n                if (!isGood) {\r\n                    game.tasks = [];\r\n                }\r\n                return isGood;\r\n            },\r\n            action: (context, game) => {\r\n                game.freezeButtons = false;\r\n                game.showTextTuto = null;\r\n            }\r\n        },\r\n        {\r\n            // Show text tuto banagher guncanon\r\n            conditions: (context, game, task) => { return !task; },\r\n            action: (context, game) => {\r\n                game.freezeButtons = true;\r\n                game.showTextTuto = {\r\n                    ...context.alignPositionNextTo(game, game.player1.field[1].position, 300, game.grid.boxHeight * 1.5),\r\n                    text: context.getTextTuto('showPairUnit')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // Attack with gundam\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.tutoMasks = [];\r\n                game.showTextTuto = {\r\n                    ...context.tutoSmall(game),\r\n                    text: context.getTextTuto('playAlone')\r\n                };\r\n            }\r\n        },\r\n        {\r\n            // hide text tuto\r\n            conditions: (context, game, task) => { return false; },\r\n            action: (context, game) => {\r\n                game.freezeButtons = false;\r\n                game.freeze = false;\r\n                game.showTextTuto = null;\r\n                game.tutoDone = true;\r\n            }\r\n        }\r\n    ];\r\n}\r\n\r\n\r\nexport default tuto;\r\n","class pair {\r\n    static pair(game, task, player) {\r\n        const cardUnit = this.isCardUnit(task.card1) ? task.card1 : task.card2;\r\n        const cardPilot = this.isCardPilot(task.card1) ? task.card1 : task.card2;\r\n        const isLink = this.isLink(cardUnit, cardPilot);\r\n\r\n        const isExistingPairEffects = task.effectsAlreadyDonePair ? false\r\n            : this.lunchEffectTriggerForTwoCard(cardUnit, cardPilot, this.trigger_onpair);\r\n        task.effectsAlreadyDonePair = true;\r\n        if (isExistingPairEffects)\r\n            return { stop: true };\r\n\r\n        if (isLink) {\r\n            const isExistingLinkEffects = task.effectsAlreadyDoneLink ? false\r\n                : this.lunchEffectTriggerForTwoCard(cardUnit, cardPilot, this.trigger_onlink);\r\n            task.effectsAlreadyDoneLink = true;\r\n            if (isExistingLinkEffects)\r\n                return { stop: true };\r\n        }\r\n\r\n        const from = cardPilot.location;\r\n        player[from] = this.removeByIndex(player[from], cardPilot);\r\n        cardUnit.pair = cardPilot;\r\n        cardPilot.selectable = false;\r\n        cardPilot.pairedWith = cardUnit.index;\r\n        cardPilot.location = this.locationPair;\r\n        cardPilot.zindex = 1;\r\n        cardUnit.zindex = 2;\r\n        cardUnit.apOrigin += cardPilot.ap;\r\n        cardUnit.hpOrigin += cardPilot.hp;\r\n        cardUnit.hpMaxOrigin += cardPilot.hp;\r\n        cardUnit.verso = false;\r\n        cardPilot.verso = false;\r\n        this.handleMainEffectsCard(game, cardPilot, true);\r\n\r\n        if (isLink) {\r\n            cardUnit.link = true;\r\n            cardPilot.link = true;\r\n            cardUnit.active = true;\r\n            cardUnit.selectable = true;\r\n            cardUnit.canAttack = true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default pair;\r\n","class ai {\r\n    static newTurnForAI(game, task) {\r\n        if (!task.haveBeenRefresh) {\r\n            task.haveBeenRefresh = true;\r\n            game.cards.forEach(card => card.AiUsed = null);\r\n            this.addTaskFirst({ id: this.refreshFieldAndHand.name, isPlayer1: false, delay: true });\r\n            return { stop: true };\r\n        }\r\n\r\n        const result = this.refreshAiTurn(game, task, game.player2);\r\n        if (result && result.taskAdded)\r\n            this.startTasks(game);\r\n\r\n        return result;\r\n    }\r\n\r\n    static refreshAiTurn(game, task, player) {\r\n\r\n        const cardsAvailable = player.hand.filter(x => x.selectable);\r\n        const combos = this.getAiCombos(game, task, player, cardsAvailable);\r\n\r\n        let result = this.handleAiHand(game, task, player, cardsAvailable, combos);\r\n        if (result.stop || result.taskAdded)\r\n            return result;\r\n\r\n        result = this.handleAiField(game, task, player);\r\n        if (result.taskAdded)\r\n            return result;\r\n\r\n        this.endTurn(game);\r\n        return {};\r\n    }\r\n\r\n    static handleAiPopup(game, task) {\r\n        const selectChoiceNull = task.text.includes('action card');\r\n        if (selectChoiceNull && task.choices && task.choices.length > 0) {\r\n            task.task.choice = task.choices[0];\r\n            return {};\r\n        }\r\n\r\n        if (task.cards && task.cards.length > 0) {\r\n            task.task.cardChoice = task.cards[0];\r\n            return {};\r\n        }\r\n\r\n        if (task.choices && task.choices.length > 0) {\r\n            task.task.choice = task.choices[0];\r\n            return {};\r\n        }\r\n\r\n        this.deletePopup();\r\n        return {};\r\n    }\r\n}\r\n\r\n\r\nexport default ai;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nclass aiCombos {\r\n    static getAiCombos(game, task, player, cardsAvailable) {\r\n        const units = cardsAvailable.filter(card => this.isCardUnit(card));\r\n        const pilots = cardsAvailable.filter(card => this.isCardPilot(card));\r\n\r\n        return {\r\n            pilotLinkUnits: this.getAiCombosPilotLinkUnit(game, task, player, units, pilots),\r\n            pilotLinkUnitsOnFieldWithEffects: this.getAiCombosPilotLinkUnitFieldWithEffects(game, task, player, pilots)\r\n        };\r\n    }\r\n\r\n    static getAiCombosPilotLinkUnit(game, task, player, units, pilots) {\r\n        if (pilots.length < 1)\r\n            return [];\r\n\r\n        let result = [];\r\n        units.forEach(unit => {\r\n            const costRemaining = player.resourcesAvailable - unit.cost;\r\n            const pilot = pilots.find(pilot => this.isLink(unit, pilot) && pilot.cost <= costRemaining);\r\n            if (pilot) {\r\n                unit.AiUsed = pilot.index;\r\n                pilot.AiUsed = unit.index;\r\n                const value = unit.level + pilot.level;\r\n                result.push({ unit, pilot, value, id: `${unit.name}-${pilot.name}-${value}` });\r\n            }\r\n        });\r\n\r\n        result = result.sort((a, b) => b.value - a.value);\r\n        return result;\r\n    }\r\n\r\n    static getAiCombosPilotLinkUnitFieldWithEffects(game, task, player, pilots) {\r\n        if (pilots.length < 1)\r\n            return [];\r\n\r\n        let result = [];\r\n        player.field.filter(unit => !unit.pair).forEach(unit => {\r\n            const unitHasEffect = this.hasLinkEffect(unit);\r\n            const pilot = pilots.find(pilot => !pilot.AiUsed && this.isLink(unit, pilot) && (unitHasEffect || this.hasLinkEffect(pilot)));\r\n            if (pilot) {\r\n                pilot.AiUsed = unit.index;\r\n                const value = unit.level + pilot.level;\r\n                result.push({ unit, pilot, value, id: `${unit.name}-${pilot.name}-${value}` });\r\n            }\r\n        });\r\n\r\n        result = result.sort((a, b) => b.value - a.value);\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\nexport default aiCombos;\r\n","class aiPlay {\r\n    static handleAiHand(game, task, player, cardsAvailable, combos) {\r\n        if (player.base.length < 1) {\r\n            const bases = cardsAvailable.filter(card => this.isCardBase(card));\r\n            if (bases.length > 0)\r\n                return this.playCombo(game, player, { unit: bases[0] });\r\n        }\r\n\r\n        if (combos.pilotLinkUnits.length > 0)\r\n            return this.playCombo(game, player, combos.pilotLinkUnits[0]);\r\n\r\n        if (combos.pilotLinkUnitsOnFieldWithEffects.length > 0)\r\n            return this.playCombo(game, player, combos.pilotLinkUnitsOnFieldWithEffects[0]);\r\n\r\n        const combo = this.handleStrategy(game, player, cardsAvailable);\r\n        if (combo.stop || combo.taskAdded)\r\n            return combo;\r\n        if (combo && combo.unit)\r\n            return this.playCombo(game, player, combo);\r\n\r\n        const units = cardsAvailable.filter(card => this.isCardUnit(card))\r\n            .sort((a, b) => b.level - a.level);\r\n        if (units.length > 0)\r\n            return this.playCombo(game, player, { unit: units[0] });\r\n\r\n        return {};\r\n    }\r\n\r\n    static playCombo(game, player, combo) {\r\n        let tasks = [];\r\n        if (combo.unit && combo.unit.location === this.locationHand)\r\n            tasks = tasks.concat(this.getPlayCardTasks(game, player, combo.unit));\r\n\r\n        if (combo.pilot && combo.pilot.location === this.locationHand)\r\n            tasks = tasks.concat(this.getPlayCardTasks(game, player, combo.pilot, combo.unit));\r\n\r\n        this.addTasksFirst(tasks);\r\n        return { taskAdded: tasks.length > 0 };\r\n    }\r\n\r\n    static handleAiField(game, task, player) {\r\n        const unitsThatCanAttack = player.field\r\n            .filter(card => this.isCardUnit(card) && card.canAttack)\r\n            .sort((a, b) => b.ap - a.ap);\r\n        const attacker = unitsThatCanAttack[0];\r\n        if (!attacker)\r\n            return {};\r\n\r\n        const notEnoughShield = this.getNotEnoughShield(game, task, player, unitsThatCanAttack, attacker);\r\n        const target = this.getTarget(game, task, player, attacker, notEnoughShield);\r\n        this.declareAiAttack(game, attacker, target);\r\n        return { taskAdded: true };\r\n    }\r\n\r\n    static getNotEnoughShield(game, task, player, unitsThatCanAttack, attacker) {\r\n        let attackMinimimForWin = game.player1.shield.length + 1;\r\n        if (game.player1.base.length > 0) {\r\n            attackMinimimForWin += 1;\r\n            const base = game.player1.base[0];\r\n            if (base.hp > attacker.ap)\r\n                attackMinimimForWin += 1;\r\n        }\r\n        return attackMinimimForWin <= unitsThatCanAttack.length;\r\n    }\r\n\r\n    static getTarget(game, task, player, attacker, notEnoughShield) {\r\n        const targets = game.player1.field.filter(x => this.isValidTarget(game.player1, attacker, x) && x.hp <= attacker.ap);\r\n        const target = targets.length < 1 ? null : targets.sort((a, b) => b.level - a.level)[0];\r\n\r\n        if (target && attacker.breach)\r\n            return target;\r\n\r\n        if (notEnoughShield)\r\n            return null;\r\n\r\n        return target;\r\n    }\r\n\r\n    /*\"iPlay\" : \"I play \",\r\n        \"with\":\" with \",\r\n        \"iAttack\" : \"I attack with \",\r\n        \"against\" : \" againt \",\r\n    */\r\n\r\n    static getPlayCardTasks(game, player, card1, card2) {\r\n        const value = `${game.texts.iPlay} ${card1.name} ${card2 ? game.texts.with + card2.name : ''}`;\r\n        return [\r\n            { id: this.showTitle.name, value, isPlayer1: false, delay: true },\r\n            { id: this.play.name, card1, card2, zone: player.positions.field, regularPlay: true }\r\n        ]\r\n    }\r\n\r\n    static declareAiAttack(game, attacker, target) {\r\n        const value = `${game.texts.iAttack} ${attacker.name} ${target ? game.texts.against + target.name : ''}`;\r\n        this.addTasksFirst([\r\n            { id: this.showTitle.name, value, isPlayer1: false, delay: true },\r\n            {\r\n                id: this.attack.name,\r\n                attacker, isPlayer1: false,\r\n                target\r\n            }\r\n        ]);\r\n    }\r\n}\r\n\r\n\r\nexport default aiPlay;\r\n","class aiStrategy {\r\n    static handleStrategy(game, player, cardsAvailable) {\r\n        let result = null;\r\n\r\n        const base = player.base.length > 0 ? player.base[0] : null;\r\n        if (base && base.active) {\r\n            result = this.handleStrategyCard(game, player, cardsAvailable, base);\r\n            if (result.stop || result.taskAdded)\r\n                return result;\r\n        }\r\n\r\n        result = cardsAvailable.filter(x => x.strategy && x.strategy == \"playAsap\");\r\n        if (result.length > 0)\r\n            return { unit: result[0] };\r\n\r\n        result = cardsAvailable.filter(x => x.strategy && x.strategy == \"playIfOpponentUnits\");\r\n        if (result.length > 0 && game.player2.field.length > 0)\r\n            return { unit: result[0] };\r\n\r\n        result = cardsAvailable.filter(x => x.strategy && x.strategy == \"playIfOpponentUnitsRested\");\r\n        if (result.length > 0 && game.player2.field.filter(x => !x.active).length > 0)\r\n            return { unit: result[0] };\r\n\r\n        return {};\r\n    }\r\n\r\n    static handleStrategyCard(game, player, cardsAvailable, card) {\r\n        let lunchMainEffectCard = false;\r\n\r\n        if (card.id === 'GD01-124'){ // Side 7\r\n            const hasActiveUnitThatNeedRepair = player.field.find(x => x.hp < x.hpMax);\r\n            lunchMainEffectCard = hasActiveUnitThatNeedRepair;\r\n        }\r\n\r\n        else if (card.id === 'ST01-016') { // Asticassia School of Technology, Earth House\r\n            lunchMainEffectCard = true;\r\n        }\r\n\r\n        else if (card.id === 'ST01-015' && player.resourcesAvailable > 1){  // White base            \r\n            lunchMainEffectCard = true;\r\n        }\r\n\r\n        else if (card.id === 'ST04-015'){ // Archangel\r\n            const hasInactiveBlocker = player.field.find(x => !x.active && this.hasEffect(x, 'blocker'));\r\n            lunchMainEffectCard = player.resourcesAvailable > 1 && hasInactiveBlocker;\r\n        } \r\n\r\n        if (lunchMainEffectCard) {\r\n            this.addTaskFirst({ id: this.lunchMainEffectCard.name, cardChoice: card });\r\n            return { taskAdded: true };\r\n        }\r\n\r\n        return {};\r\n    }\r\n}\r\n\r\n\r\nexport default aiStrategy;\r\n","import effectsLuncher from './effectsLuncher';\r\nimport effectsTarget from './effectsTarget';\r\nimport mainEffects from './mainEffects';\r\nimport positioner from './positioner';\r\nimport selectable from './selectable';\r\nimport cardAction from './cardAction';\r\nimport conditions from './conditions';\r\nimport cardMove from './cardMove';\r\nimport cardLife from './cardLife';\r\nimport cardPlay from './cardPlay';\r\nimport refresh from './refresh';\r\nimport effects from './effects';\r\nimport attack from './attack';\r\nimport setup from './setup';\r\nimport popup from './popup';\r\nimport tasks from './tasks';\r\nimport utils from './utils';\r\nimport show from './show';\r\nimport turn from './turn';\r\nimport tuto from './tuto';\r\nimport pair from './pair';\r\nimport ai from './ai';\r\nimport aiCombos from './aiCombos';\r\nimport aiPlay from './aiPlay';\r\nimport aiStrategy from './aiStrategy';\r\n\r\n/* eslint-disable no-unused-vars */\r\nclass game {\r\n    static game = null;\r\n    static index = 1;\r\n    static delay = 500;\r\n    static needTaskEndRefresh;\r\n    static cardHighlight = [];\r\n    static isStart;\r\n    static quickstart;\r\n\r\n    static setup(width, height, cards, playerInfo, texts, decklistPlayer1, decklistPlayer2, quickstart, useTuto, campaign) {\r\n        this.cards = cards.cards;\r\n        this.quickstart = quickstart;\r\n        this.game = {\r\n            logs: '',\r\n            cards: [],\r\n            tasks: [{ id: 'setupGame' }],\r\n            cardList: cards.cards,\r\n            gundamCards: cards,\r\n            decklistPlayer1, decklistPlayer2,\r\n            incruises: [],\r\n            effects: [],\r\n            tuto:useTuto,\r\n            campaign,\r\n            playerInfo,\r\n            texts\r\n        };\r\n\r\n        const scripts = [\r\n            tasks, utils, popup, setup, positioner, turn, refresh, selectable, show, mainEffects,\r\n            cardLife, cardMove, cardPlay, cardAction, effectsLuncher, effectsTarget, conditions, effects, pair, attack,\r\n            ai, aiCombos, aiPlay, aiStrategy\r\n        ];\r\n        if(useTuto)\r\n            scripts.push(tuto); // = [tuto].concat(scripts);\r\n\r\n        utils.addFunction(scripts, this, useTuto);\r\n        this.game.grid = this.createGrid(this.game, width, height);\r\n        this.continue(this.game);\r\n        this.isStart = true;\r\n        return this.game;\r\n    }\r\n\r\n    static continue(game) {\r\n        if (this.isStart) {\r\n            this.addTaskFirst({ id: this.mulligan.name }, { id: this.nextTurn.name });\r\n            this.isStart = false;\r\n        }\r\n        this.endAnimation(game);\r\n        let result = this.handleTasks(game);\r\n        if (!game.refresh && !game.isPlayer1) {\r\n            this.addTask({ id: this.newTurnForAI.name });\r\n            result = this.continue(game);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    static playCard(game, card1, card2, zone) {\r\n        this.startTasks(game);\r\n        this.addTask({ id: this.play.name, card1, card2, zone, regularPlay: true });\r\n        return this.continue(game);\r\n    }\r\n\r\n    static useEffect(game) {\r\n        this.startTasks(game);\r\n        return this.lunchMainEffectCard(game);\r\n    }\r\n\r\n    static selectChoice(game, choice) {\r\n        game.popup.task.choice = choice;\r\n        return game;\r\n    }\r\n\r\n    static selectChoiceCard(game, card) {\r\n        game.popup.task.cardChoice = card;\r\n        return game;\r\n    }\r\n\r\n    static tutoNext(game, next=true){\r\n        if(!game.showTextTuto)\r\n            return game;\r\n        game.showTextTuto.next=next;\r\n        this.continueTuto(game);\r\n        return this.continue(game);\r\n    }\r\n\r\n    static resize(game, width, height){        \r\n        game.grid = this.createGrid(width, height);\r\n        this.taskEndRefresh(game);\r\n    }\r\n\r\n    static showLocationCards(game, location, isPlayer1) {\r\n        const player = this.getPlayer(isPlayer1);\r\n        this.addTaskFirst({\r\n            id: this.popup.name,\r\n            cards: player[location],\r\n            task: {},\r\n            isPlayer1: true,\r\n            text: `${location} of player ${player.index}`,\r\n            choices: [{ text: 'ok' }]\r\n        });\r\n        return game;\r\n    }\r\n\r\n    static endTurn(game, card1, card2, drop) {\r\n        this.startTasks(game);\r\n        game.tasks.push({ id: this.nextTurn.name, isPlayer1: game.isPlayer1 });\r\n        return game;\r\n    }\r\n\r\n    static end(isPlayer1) {\r\n        this.game.end = true;\r\n        this.game.isVictory = isPlayer1;\r\n        const message = isPlayer1 ? 'Victory' : 'Defeat';\r\n        return { end: true };\r\n    }\r\n}\r\n\r\n\r\nexport default game;\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:{ absolute: 1, bgYellow: 1, circle15px: 1, 'elevation-24': 1, fadeOut: _vm.card?.fadeOut },style:({\n    left: _vm.card.position.x + 'px',\n    top: _vm.card.position.y + 'px',\n    width: _vm.card.position.width + 'px',\n    height: _vm.card.position.height + 'px',\n    transform: 'rotate(' + _vm.card.position.rotation + 'deg)',\n    'z-index': _vm.card.zindex,\n    cursor: _vm.shine ? 'pointer' : '',\n    border: _vm.card.fx ? '1px solid yellow' : ''\n  }),on:{\"click\":function($event){return _vm.$emit('click', _vm.card)}}},[(_vm.card.fxRed)?_c('div',{class:{ bgRed: 1, circle: 1, absolute: 1, fadeInOut: !_vm.card.fxTextCancelFadeout },style:(_vm.getRedFxStyle(_vm.card))}):_vm._e(),(!_vm.card)?_c('div',[_vm._v(\"No card\")]):(_vm.card.verso === true)?_c('img',{class:{ w100p: true, h100p: true, absolute: true },style:({ 'object-fit': 'cover', 'object-position': _vm.card.bgposition, 'pointer-events': 'none' }),attrs:{\"draggable\":\"false\",\"src\":require('@/assets/' + _vm.folder + 'empty.webp')}}):_c('img',{class:{ w100p: true, h100p: true, shine: _vm.shine, absolute: true },style:({\n    'object-fit': 'cover',\n    'object-position': _vm.card.bgposition,\n    'pointer-events': 'none'\n  }),attrs:{\"draggable\":\"false\",\"src\":require('@/assets/' + _vm.folder + _vm.card.id + '.webp')},on:{\"mouseover\":function($event){return _vm.$emit('mouseover', _vm.card)},\"contextmenu\":function($event){$event.preventDefault();return _vm.$emit('clickright', _vm.card)}}}),(_vm.card.fxText)?_c('div',{class:{ absolute: 1, 'text-center': 1, 'text-center-vertical': 1, fontSize150em: 1, 'text-shadow-black': 1, fadeInOut: !_vm.card?.fxTextCancelFadeout },style:({ ..._vm.getRedFxStyle(_vm.card), 'mask-image': '', 'color': 'red' })},[_vm._v(\" \"+_vm._s(_vm.card.fxText)+\" \")]):_vm._e(),(!_vm.card.verso && !_vm.hidestat && (_vm.card.ap || _vm.card.hp))?_c('div',{staticClass:\"w100p h100p\",style:({ transform: !_vm.card.position.rotation || _vm.card.position.rotation == 0 ? '' : 'rotate(-90deg)' })},[_c('div',{staticClass:\"absolute circle10px textVerticalCenter centerDiv colorBlack fontSize150em\",staticStyle:{\"width\":\"70px\",\"height\":\"30px\",\"top\":\"-10px\",\"background-color\":\"#FFFFFFB0\"}},[_vm._v(\" \"+_vm._s(_vm.card.ap)+\" - \"+_vm._s(_vm.card.hp)+\" \")])]):_vm._e(),(_vm.card && _vm.card.dead)?_c('div',{staticClass:\"w100p h100p absolute shine circle15px\",staticStyle:{\"top\":\"0px\",\"background-color\":\"#FF000050\"}}):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div @click=\"$emit('click', card)\"\r\n    :class=\"{ absolute: 1, bgYellow: 1, circle15px: 1, 'elevation-24': 1, fadeOut: card?.fadeOut }\" :style=\"{\r\n      left: card.position.x + 'px',\r\n      top: card.position.y + 'px',\r\n      width: card.position.width + 'px',\r\n      height: card.position.height + 'px',\r\n      transform: 'rotate(' + card.position.rotation + 'deg)',\r\n      'z-index': card.zindex,\r\n      cursor: shine ? 'pointer' : '',\r\n      border: card.fx ? '1px solid yellow' : ''\r\n    }\">\r\n    <div v-if=\"card.fxRed\" :class=\"{ bgRed: 1, circle: 1, absolute: 1, fadeInOut: !card.fxTextCancelFadeout }\"\r\n      :style=\"getRedFxStyle(card)\">\r\n    </div>\r\n\r\n\r\n    <div v-if=\"!card\">No card</div>\r\n\r\n    <!-- Card Image-->\r\n    <img v-else-if=\"card.verso === true\" :class=\"{ w100p: true, h100p: true, absolute: true }\" draggable=\"false\"\r\n      :style=\"{ 'object-fit': 'cover', 'object-position': card.bgposition, 'pointer-events': 'none' }\"\r\n      :src=\"require('@/assets/' + folder + 'empty.webp')\" />\r\n    <img v-else :class=\"{ w100p: true, h100p: true, shine: shine, absolute: true }\" draggable=\"false\" :style=\"{\r\n      'object-fit': 'cover',\r\n      'object-position': card.bgposition,\r\n      'pointer-events': 'none'\r\n    }\" :src=\"require('@/assets/' + folder + card.id + '.webp')\" @mouseover=\"$emit('mouseover', card)\"\r\n      @contextmenu.prevent=\"$emit('clickright', card)\" />\r\n\r\n    <!-- fxText-->\r\n    <div v-if=\"card.fxText\"\r\n      :class=\"{ absolute: 1, 'text-center': 1, 'text-center-vertical': 1, fontSize150em: 1, 'text-shadow-black': 1, fadeInOut: !card?.fxTextCancelFadeout }\"\r\n      :style=\"{ ...getRedFxStyle(card), 'mask-image': '', 'color': 'red' }\">\r\n      {{ card.fxText }}\r\n    </div>\r\n\r\n    <!-- stats-->\r\n    <div v-if=\"!card.verso && !hidestat && (card.ap || card.hp)\" class=\"w100p h100p\"\r\n      :style=\"{ transform: !card.position.rotation || card.position.rotation == 0 ? '' : 'rotate(-90deg)' }\">\r\n      <div class=\"absolute circle10px textVerticalCenter centerDiv colorBlack fontSize150em\"\r\n        style=\"width:70px; height:30px; top:-10px; background-color: #FFFFFFB0;\">\r\n        {{ card.ap }} - {{ card.hp }}\r\n      </div>\r\n    </div>\r\n\r\n    <!-- red background-->\r\n    <div class=\"w100p h100p absolute shine circle15px\" v-if=\"card && card.dead\"\r\n      style=\"top:0px; background-color: #FF000050;\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped></style>\r\n\r\n<script>\r\nexport default {\r\n  name: 'game-card',\r\n  props: ['card', 'folder', 'shine', 'hidestat'],\r\n  methods: {\r\n    getRedFxStyle(card) {\r\n      if (!card)\r\n        return {};\r\n      return {\r\n        opacity: card.fxTextCancelFadeout ? 1 : 0,\r\n        left: '-100%',\r\n        top: '-71.3%',\r\n        width: (card.position.width * 3) + 'px', height: (card.position.width * 3) + 'px',\r\n        'mask-image': 'radial-gradient(rgba(0 0 0 /0) 40%, black 45%, rgba(0 0 0 /0) 70%)'\r\n      };\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./card.vue?vue&type=template&id=27538e77&scoped=true&\"\nimport script from \"./card.vue?vue&type=script&lang=js&\"\nexport * from \"./card.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27538e77\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticClass:\"banana absolute\",style:(_vm.getBananaStyle(true, '#F44336', _vm.p1max))}),_c('div',{staticClass:\"banana absolute\",style:(_vm.getBananaStyle(true, '#3F51B5', _vm.p1yellow + _vm.p1blue))}),_c('div',{staticClass:\"banana absolute\",style:(_vm.getBananaStyle(true, '#FFEB3B', _vm.p1yellow))}),_c('div',{staticClass:\"banana absolute\",style:(_vm.getBananaStyle(false, '#F44336', _vm.p2max))}),_c('div',{staticClass:\"banana absolute\",style:(_vm.getBananaStyle(false, '#3F51B5', _vm.p2yellow + _vm.p2blue))}),_c('div',{staticClass:\"banana absolute\",style:(_vm.getBananaStyle(false, '#FFEB3B', _vm.p2yellow))}),(_vm.p1yellow > 0)?_c('div',{staticClass:\"text absolute text-center\",style:(_vm.getTextStyle(true, _vm.p1yellow))},[_vm._v(_vm._s(_vm.p1yellow)+\" \")]):_vm._e(),(_vm.p2yellow > 0)?_c('div',{staticClass:\"text absolute text-center\",style:(_vm.getTextStyle(false, _vm.p2yellow))},[_vm._v(_vm._s(_vm.p2yellow)+\" \")]):_vm._e(),(_vm.p1blue > 0)?_c('div',{staticClass:\"text absolute text-center bgBlue\",style:(_vm.getTextStyle(true, _vm.p1yellow + _vm.p1blue))},[_vm._v(\" \"+_vm._s(_vm.p1yellow + _vm.p1blue)+\" \")]):_vm._e(),(_vm.p2blue > 0)?_c('div',{staticClass:\"text absolute text-center bgBlue\",style:(_vm.getTextStyle(false, _vm.p2yellow + _vm.p2blue))},[_vm._v(\" \"+_vm._s(_vm.p2yellow + _vm.p2blue)+\" \")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"relative\" style=\"width: 100%; height: 100%;\">\r\n        <div class=\"banana absolute\" :style=\"getBananaStyle(true, '#F44336', p1max)\"></div>\r\n        <div class=\"banana absolute\" :style=\"getBananaStyle(true, '#3F51B5', p1yellow + p1blue)\"></div>\r\n        <div class=\"banana absolute\" :style=\"getBananaStyle(true, '#FFEB3B', p1yellow)\"></div>\r\n\r\n        <div class=\"banana absolute\" :style=\"getBananaStyle(false, '#F44336', p2max)\"></div>\r\n        <div class=\"banana absolute\" :style=\"getBananaStyle(false, '#3F51B5', p2yellow + p2blue)\"></div>\r\n        <div class=\"banana absolute\" :style=\"getBananaStyle(false, '#FFEB3B', p2yellow)\"></div>\r\n\r\n        <div v-if=\"p1yellow > 0\" class=\"text absolute text-center\" :style=\"getTextStyle(true, p1yellow)\">{{ p1yellow }}\r\n        </div>\r\n        <div v-if=\"p2yellow > 0\" class=\"text absolute text-center\" :style=\"getTextStyle(false, p2yellow)\">{{ p2yellow }}\r\n        </div>\r\n\r\n        <div v-if=\"p1blue > 0\" class=\"text absolute text-center bgBlue\" :style=\"getTextStyle(true, p1yellow + p1blue)\">\r\n            {{ p1yellow + p1blue }}\r\n        </div>\r\n        <div v-if=\"p2blue > 0\" class=\"text absolute text-center bgBlue\" :style=\"getTextStyle(false, p2yellow + p2blue)\">\r\n            {{ p2yellow + p2blue }}\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.banana {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 50%;\r\n    mask-image: radial-gradient(rgba(0 0 0 /0) 40%, black 45%);\r\n}\r\n\r\n.text {\r\n    color: black;\r\n    background: #FFEB3B;\r\n    border-radius: 50%;\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n    name: 'banana-bars',\r\n    props: ['width', 'p1yellow', 'p1blue', 'p2yellow', 'p2blue', 'p1max', 'p2max', 'max'],\r\n    methods: {\r\n        getBananaStyle(isPlayer1, color, value) {\r\n            const percent = value * 100 / this.max;\r\n            const margin = 10;\r\n            const angle = isPlayer1 ? 225 : 45;\r\n            const anglePercent = percent * 180 / 100;\r\n            const anglePercentMinusMargin = anglePercent - margin;\r\n            return {\r\n                transform: `rotate(${angle}deg) scaleX(-1)`,\r\n                background: `conic-gradient(transparent 0deg, \r\n                                            ${color} ${margin}deg, \r\n                                            ${color} ${anglePercentMinusMargin}deg, \r\n                                            transparent ${anglePercent}deg)`\r\n            };\r\n        },\r\n        getTextStyle(isPlayer1, value) {\r\n            const percent = value / this.max;\r\n            const percentIncruise = this.width / 100;\r\n            let leftValue = isPlayer1 ? this.getParabolicY(15, 68, 76, percent) : this.getParabolicY(64, 11, 5, percent);\r\n            leftValue *= percentIncruise;\r\n\r\n            let topValue = isPlayer1 ? this.getParabolicY(70, 68, 14, percent) : this.getParabolicY(9, 12, 61, percent);\r\n            topValue *= percentIncruise;\r\n\r\n            return { width: 25 + 'px', height: 25 + 'px', left: leftValue + 'px', top: topValue + 'px' };\r\n        },\r\n        getParabolicY(y0, y50, y100, t) {\r\n            const a = 2 * y0 - 4 * y50 + 2 * y100;\r\n            const b = -3 * y0 + 4 * y50 - y100;\r\n            const c = y0;\r\n            return a * t * t + b * t + c;\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bananaBars.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bananaBars.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bananaBars.vue?vue&type=template&id=0d48b94b&scoped=true&\"\nimport script from \"./bananaBars.vue?vue&type=script&lang=js&\"\nexport * from \"./bananaBars.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bananaBars.vue?vue&type=style&index=0&id=0d48b94b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d48b94b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('img',{staticClass:\"w100p h100p\",staticStyle:{\"object-fit\":\"contain\"},attrs:{\"src\":require('@/assets/Gundam/' + _vm.icon)},on:{\"click\":function($event){return _vm.$emit('click')}}}),_c('div',{staticClass:\"absolute text-center w100p text-shadow-black\",staticStyle:{\"top\":\"35%\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.length)+\" \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <img @click=\"$emit('click')\" class=\"w100p h100p\" style=\"object-fit:contain\" :src=\"require('@/assets/Gundam/' + icon)\" />\r\n        <div class=\"absolute text-center w100p text-shadow-black\" style=\"top: 35%;\">\r\n            {{ text }}\r\n            <br>\r\n            {{ length }}\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name: 'deck-icon',\r\n    props: ['icon', 'length', 'text']\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./deckIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./deckIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deckIcon.vue?vue&type=template&id=07473bde&\"\nimport script from \"./deckIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./deckIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"relative w100p mask bg2\" style=\"height: 100dvh\" :key=\"refreshG\">\r\n        <span v-if=\"game\">\r\n            <!-- Drag and drop field-->\r\n            <div class=\"absolute bg\" :style=\"getFieldStyleObj(game.grid.halfPlayer2)\"></div>\r\n            <div class=\"absolute bg\" :style=\"getFieldStyleObj(game.grid.centerZoneP2)\"></div>\r\n            <div class=\"absolute bg2\" :style=\"getFieldStyleObj(game.grid.halfPlayer1)\"></div>\r\n            <div class=\"absolute diagonal-split\" :style=\"getFieldStyleObj(game.grid.resources)\">\r\n            </div>\r\n            <div class=\"absolute text-center textVerticalCenter fontSize075em\"\r\n                :style=\"{ ...getFieldStyleObj(game.grid.resources), transform: 'rotate(-45deg)' }\">\r\n                {{texts.resources}}\r\n            </div>\r\n            <banana-bars :p1yellow=\"game.player1.resourcesAvailable - game.player1.resourcesEx\"\r\n                :p1blue=\"game.player1.resourcesEx\" :p1max=\"game.player1.resourcesMax\"\r\n                :p2yellow=\"game.player2.resourcesAvailable - game.player2.resourcesEx\"\r\n                :p2blue=\"game.player2.resourcesEx\" :p2max=\"game.player2.resourcesMax\" :max=\"game.resourcesMax\"\r\n                :style=\"getFieldStyleObj(game.grid.resources)\" :width=\"game.grid.resources.width\">\r\n            </banana-bars>\r\n\r\n            <!-- Player 1 -->\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player1Deck)\" :text=\"texts.deck\"\r\n                :length=\"game.player1.deck.length\" :icon=\"game.player1.deckIcon\">\r\n            </deck-icon>\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player1Trash)\" :text=\"texts.trash\"\r\n                :length=\"game.player1.trash.length\" :icon=\"game.player1.trashIcon\"\r\n                @click=\"showLocationCards('trash', true)\">\r\n            </deck-icon>\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player1Base)\" :text=\"texts.base\"\r\n                :icon=\"game.player1.baseIcon\">\r\n            </deck-icon>\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player1Shield)\" :text=\"texts.shield\"\r\n                :length=\"game.player1.shield.length\" :icon=\"game.player1.shieldIcon\">\r\n            </deck-icon>\r\n            <div v-if=\"game\" class=\"absolute bgYellow hide\" :style=\"getFieldStyleObj(game.grid.player1Hand)\">\r\n            </div>\r\n            <div v-if=\"game\" class=\"absolute bgRed hide\" :style=\"getFieldStyleObj(game.grid.player1Field)\">\r\n            </div>\r\n\r\n            <!-- Player 2-->\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player2Deck)\" :text=\"texts.deck\"\r\n                :length=\"game.player2.deck.length\" :icon=\"game.player2.deckIcon\">\r\n            </deck-icon>\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player2Trash)\" :text=\"texts.trash\"\r\n                :length=\"game.player2.trash.length\" :icon=\"game.player2.trashIcon\"\r\n                @click=\"showLocationCards('trash', false)\">\r\n            </deck-icon>\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player2Base)\" :text=\"texts.base\"\r\n                :icon=\"game.player2.baseIcon\">\r\n            </deck-icon>\r\n            <deck-icon class=\"absolute\" :style=\"getFieldStyleObj(game.grid.player2Shield)\" :text=\"texts.shield\"\r\n                :length=\"game.player2.shield.length\" :icon=\"game.player2.shieldIcon\">\r\n            </deck-icon>\r\n            <div class=\"absolute bgRed hide\" :style=\"getFieldStyleObj(game.grid.player2Hand)\">\r\n            </div>\r\n            <div class=\"absolute bgYellow hide\" :style=\"getFieldStyleObj(game.grid.player2Field)\">\r\n            </div>\r\n\r\n            <!-- Buttons -->\r\n            <div class=\"absolute bgYellow circle10px fontSize075em\" :style=\"getFieldStyleObj(game.grid.buttonEffect)\">\r\n                <v-btn target=\"_blank\"\r\n                    :class=\"{ bg: true, shine: !freeze && game.player1.hasEffects, w100p: true, h100p: true }\"\r\n                    @click=\"useEffect\" style=\"min-width:0px;\">\r\n                    <span v-html=\"texts.useEffect\"></span>\r\n                </v-btn>\r\n            </div>\r\n            <div class=\"absolute bgYellow circle10px fontSize075em\" :style=\"getFieldStyleObj(game.grid.buttonEndTurn)\">\r\n                <v-btn target=\"_blank\" :class=\"{ bg: true, shine: !freeze, w100p: true, h100p: true }\"\r\n                    style=\"min-width:0px;\" @click=\"nextTurn\">\r\n                    <span v-if=\"game.grid.buttonEndTurn.width > 50\" v-html=\"texts.endTurn\"></span><span v-else v-html=\"texts.end\"></span>\r\n                </v-btn>\r\n            </div>\r\n            <div class=\"absolute vertical-scroll\" v-html=\"game.logs\" :style=\"getFieldStyleObj(game.grid.logZone)\">\r\n            </div>\r\n\r\n            <!-- TutoMasks-->\r\n            <div v-for=\"(tutoMask, index) in game.tutoMasks\" :key=\"'TutoMask' + index\"\r\n                :class=\"{ absolute: 1, bg2: tutoMask.isPlayer1, bg: !tutoMask.isPlayer1 }\"\r\n                :style=\"getFieldStyleObj(tutoMask)\">\r\n            </div>\r\n\r\n            <!-- Highlight and TextZone-->\r\n            <div class=\"absolute bgRed hide\" :style=\"getFieldStyleObj(game.grid.textZone)\">\r\n            </div>\r\n            <div class=\"absolute bgYellow hide\" :style=\"getFieldStyleObj(game.grid.highlightCardCenter)\">\r\n            </div>\r\n            <div class=\"absolute bgYellow hide\" :style=\"getFieldStyleObj(game.grid.highlightCardLeft)\">\r\n            </div>\r\n            <div class=\"absolute bgRed hide\" :style=\"getFieldStyleObj(game.grid.highlightCardRight)\">\r\n            </div>\r\n\r\n            <!-- cards -->\r\n            <div v-for=\"card in game.cards.filter(x => !x.hide)\" :key=\"'B' + card.index\">\r\n                <gameCard :id=\"'C' + card.index\" :card=\"card\" folder=\"Gundam/cards/\" :shine=\"card.selectable && !freeze\"\r\n                    :hidestat=\"card.hidestat\" @click=\"showCard(card)\">\r\n                </gameCard>\r\n            </div>\r\n\r\n            <!-- Tuto Text -->\r\n            <div v-if=\"game.showTextTuto\" class=\"absolute fadeIn\"\r\n                :style=\"{ ...getFieldStyleObj(game.showTextTuto), 'z-index': game.showTextTuto.zindex ? game.showTextTuto.zindex : 56 }\">\r\n                <!-- Arrow-->\r\n                <div class=\"bgWhite absolute\" v-if=\"game.showTextTuto.arrow\"\r\n                    :style=\"{ ...getFieldStyleObj(game.showTextTuto.arrow), transform: 'rotate(45deg)', 'z-index': -1, border: 'solid blue 5px' }\">\r\n                </div>\r\n\r\n                <div class=\"w100p h100p bgWhite colorBlack flex\"\r\n                    style=\"flex-direction: column; justify-content: center; border: solid blue 5px\">\r\n                    <div class=\"text-center m5px\">{{ game.showTextTuto.text }}</div>\r\n                    <div v-if=\"!game.showTextTuto.hideNext\" class=\"m5px bgYellow circle10px\"\r\n                        style=\"align-self: flex-end;\">\r\n                        <v-btn class=\"bg2 shine\" @click=\"tutoNext\">{{texts.next}}</v-btn>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </span>\r\n\r\n        <drag-drop-arrow id=\"0\" :sources=\"sources\" @drop=\"dropPoint\" @click=\"clickDrop\" :targets=\"targets\"\r\n            :freeze=\"freeze || game?.popup\">\r\n        </drag-drop-arrow>\r\n\r\n        <!-- Popup -->\r\n        <div v-if=\"game && game.popup\" class=\"absolute w100p h100p m5px\"\r\n            style=\"top:0px; display: flex; overflow: hidden; flex-direction: column; z-index: 80;\">\r\n            <div class=\"flex-grow\" style=\"min-height: 10%;\"> </div>\r\n            <div class=\"w100p\">\r\n                <div class=\"flex flex-wrap w100p\" style=\"justify-content:center\">\r\n                    <v-btn class=\"m10px\" style=\"background-color: #FFFF00F0;\" @click=\"showOrHidePopup(false)\">\r\n                        <span v-if=\"popupShow\">{{texts.hidePopup}}</span><span v-else>{{texts.showPopup}}</span>\r\n                    </v-btn>\r\n                    <div v-for=\"(choice, index) in game?.popup.choices\" :key=\"'Choice' + index\">\r\n                        <v-btn v-if=\"choice.text\" class=\"m10px\" @click=\"selectChoice(choice)\">\r\n                            {{ choice.text }}\r\n                        </v-btn>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"popupShow\" style=\"background-color: #FFFF00F0; width:100%; overflow-y: auto;\">\r\n                <h3 class=\"text-center colorBlack textVerticalCenter w100p mp5px\" v-html=\"game?.popup.text\"></h3>\r\n                <div class=\"flex-wrap w100p horizontal-scroll\" v-if=\"game?.popup.cards && game?.popup.cards.length > 0\">\r\n                    <div v-for=\"(card, index) in game?.popup.cards\" :key=\"'PopUpCard' + index\" class=\"mp5px cursorHand\"\r\n                        :style=\"{ width: game?.grid.card100.height + 'px' }\">\r\n                        <div class=\"text-center colorBlack\">{{ card.location }} P{{ card.isPlayer1 ? '1' : '2' }}\r\n                        </div>\r\n                        <img :style=\"{ width: game?.grid.card100.width + 'px', 'aspect-ratio': '107/150', transform: 'rotate(' + card.position?.rotation ?? 0 + 'deg)' }\"\r\n                            @click=\"selectChoiceCard(card)\"\r\n                            :src=\"require('@/assets/Gundam/cards/' + card.id + '.webp')\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- textEffect -->\r\n        <div v-if=\"game\" id=\"divTextEffect\" class=\"bgWhite absolute mask text-center textVerticalCenter fontSize150em\"\r\n            :style=\"{\r\n                ...getFieldStyleObj(game.grid.textZone), 'z-index': 11, height: 0\r\n            }\">\r\n            <div v-html=\"text\"></div>\r\n        </div>\r\n\r\n        <!-- Title -->\r\n        <div id=\"divTitleParent\" class=\"absolute bgWhite mask\"\r\n            :style=\"{ top: '80px', width: '100%', height: '0px', 'z-index': 13 }\">\r\n            <div class=\"relative\">\r\n                <div class=\"text-center absolute w100p title\" style=\"top:30px;\">{{ title }}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Card center -->\r\n        <gameCard id=\"cardCenter\" :card=\"cardCenter\" folder=\"Gundam/cards/\" @click=\"showCard(null)\"\r\n            style=\"z-index: 70;\">\r\n        </gameCard>\r\n\r\n        <div class=\"absolute\" style=\"top:0px; left:0px;\">\r\n            <!-- Debug -->\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<style>\r\nhtml {\r\n    overflow: hidden;\r\n    overscroll-behavior: none;\r\n}\r\n\r\nbody {\r\n    position: relative;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport helperAnimation from '../helpers/helperAnimation';\r\nimport cards from '../data/gundamCards.json';\r\nimport gameGundam from './gundam/game';\r\nimport gameCard from './card';\r\nimport bananaBars from './bananaBars.vue';\r\nimport deckIcon from './deckIcon.vue';\r\nimport dragDropArrow from './dragDropArrow.vue';\r\n\r\nexport default {\r\n    name: 'game-vue',\r\n    props: ['playerinfo', 'texts', 'deck1', 'deck2', 'quickstart', 'tuto', 'campaign'],\r\n    components: { gameCard, bananaBars, deckIcon, dragDropArrow },\r\n    data: () => ({\r\n        refreshG: 0,\r\n        resizeTimeout: null,\r\n        freeze: true,\r\n        cardCenter: { id: 'GD01-028', position: { width: 0 } },\r\n        game: null,\r\n        title: null,\r\n        text: null,\r\n        popupShow: true,\r\n        ignoreEvent: [],\r\n        decklistPlayer1: null,\r\n        decklistPlayer2: null,\r\n        sources: [],\r\n        targets: []\r\n    }),\r\n    mounted() {\r\n        window.addEventListener(\"resize\", () => {\r\n            clearTimeout(this.resizeTimeout);\r\n            this.resizeTimeout = setTimeout(this.resizeGame, 300);\r\n        });\r\n        \r\n        this.setDecks();\r\n    },\r\n    methods: {\r\n        resizeGame() {\r\n            gameGundam.resize(this.game, this.$vuetify.breakpoint.width,\r\n                this.$vuetify.breakpoint.height);\r\n        },\r\n        setDecks() {\r\n            this.decklistPlayer1 = this.deck1;\r\n            this.decklistPlayer2 = this.deck2;\r\n            if (this.decklistPlayer1 && this.decklistPlayer2)\r\n                this.start();\r\n        },\r\n        start() {\r\n            this.game = gameGundam.setup(this.$vuetify.breakpoint.width,\r\n                this.$vuetify.breakpoint.height,\r\n                cards,\r\n                this.playerinfo,\r\n                this.texts,\r\n                this.decklistPlayer1,\r\n                this.decklistPlayer2,\r\n                this.quickstart,\r\n                this.tuto,\r\n                this.campaign);\r\n            this.refreshGame();\r\n        },\r\n        nextTurn() {\r\n            if (this.freeze)\r\n                return;\r\n            gameGundam.endTurn(this.game);\r\n            this.refreshGame();\r\n        },\r\n        continue() {\r\n            this.freeze = false;\r\n            gameGundam.continue(this.game);\r\n            if (this.game.end) {\r\n                this.$emit('end', this.game.isVictory);\r\n                return;\r\n            }\r\n            if (this.game.popup || this.game.freeze) {\r\n                this.freeze = true;\r\n                return;\r\n            }\r\n            if (this.game.freezeButtons)\r\n                this.freeze = true;\r\n\r\n            if (this.game.refreshOnlyTextEffect)\r\n                this.animTextEffect();\r\n\r\n            if (this.game.refresh)\r\n                this.refreshGame();\r\n        },\r\n        useEffect() {\r\n            if (this.freeze)\r\n                return;\r\n            gameGundam.useEffect(this.game);\r\n            this.continue();\r\n        },\r\n        dropPoint(event) {\r\n            if (!event || !event.target || !event.target.text)\r\n                return;\r\n\r\n            if (event.target.text === this.texts.play)\r\n                this.playCard(event.source.card, null, this.game.grid.player1Field);\r\n            if (event.target.text === this.texts.pair)\r\n                this.playCard(event.source.card, event.target.card, this.game.grid.player1Field);\r\n            if (event.target.text === this.texts.attack)\r\n                this.playCard(event.source.card, event.target.card, this.game.grid.player2Field);\r\n        },\r\n        playCard(card1, card2, drop) {\r\n            if (this.freeze)\r\n                return;\r\n            this.freeze = true;\r\n            gameGundam.playCard(this.game, card1, card2, drop);\r\n            this.refreshGame();\r\n        },\r\n        selectChoice(choice) {\r\n            this.freeze = true;\r\n            gameGundam.selectChoice(this.game, choice);\r\n            this.refreshGame();\r\n        },\r\n        selectChoiceCard(card) {\r\n            this.freeze = true;\r\n            gameGundam.selectChoiceCard(this.game, card);\r\n            this.refreshGame();\r\n        },\r\n        showLocationCards(location, isPlayer1) {\r\n            gameGundam.showLocationCards(this.game, location, isPlayer1);\r\n            this.refreshGame();\r\n        },\r\n        showOrHidePopup() {\r\n            this.popupShow = !this.popupShow;\r\n        },\r\n        tutoNext(next = true) {\r\n            gameGundam.tutoNext(this.game, next);\r\n            this.refreshGame();\r\n        },\r\n        refreshGame() {\r\n            this.freeze = true;\r\n            this.sources = this.game.player1.drags;\r\n\r\n            this.showTextEffect(this.game.showTitle, 'title', 'divTitleParent', { height: 0 });\r\n            this.showTextEffect(this.game.textEffect?.text, 'text', 'divTextEffect', { height: 0 });\r\n\r\n            this.refreshG++;\r\n            setTimeout(() => { this.beginAnimation(); }, 10);\r\n        },\r\n        animTextEffect() {\r\n            let animationTime = gameGundam.delay;\r\n            helperAnimation.animateMultiple([{ id: 'textEffect', from: this.game.textEffect.position, to: this.game.textEffect.to, isIncrement: false }], animationTime);\r\n        },\r\n        beginAnimation() {\r\n            let animationTime = gameGundam.delay;\r\n            const cardsToAnimate = this.game.cards.filter(x => x.to);\r\n            animationTime = cardsToAnimate.length < 1 && !this.game.showTitle && !this.game.textEffect ? 10 : gameGundam.delay;\r\n            this.freeze = true;\r\n            setTimeout(() => { this.endAnimation(); }, animationTime + 10);\r\n\r\n            if (cardsToAnimate.length < 1)\r\n                return;\r\n\r\n            const animations = cardsToAnimate.map(card => { return { id: 'C' + card.index, from: card.position, to: card.to, isIncrement: false }; });\r\n            helperAnimation.animateMultiple(animations, animationTime);\r\n        },\r\n        endAnimation() {\r\n            const wait = this.game.wait ? this.game.wait : 1;\r\n            setTimeout(() => { this.continue() }, wait);\r\n        },\r\n        showTextEffect(text, property, divId, to) {\r\n            if (!text || this.ignoreEvent.includes(property))\r\n                return;\r\n\r\n            const animationTime = 200;\r\n            this.ignoreEvent.push(property);\r\n            this[property] = text;\r\n\r\n            setTimeout(() => { helperAnimation.animate(divId, { height: 0 }, { height: 100 }, false, animationTime); }, 10);\r\n            setTimeout(() => { helperAnimation.animate(divId, { height: 100 }, to, false, animationTime); }, 10 + animationTime * 4);\r\n            setTimeout(() => { this.ignoreEvent = this.ignoreEvent.filter(x => x !== property); }, 10 + animationTime * 6);\r\n        },\r\n\r\n        // --------- showCard\r\n        clickDrop(event) {\r\n            this.showCard(event.card);\r\n        },\r\n        showCard(card) {\r\n            if(this.freeze)\r\n                return;\r\n            const center = this.game ? this.game.grid.highlightCardCenter : { x: 0, y: 0, width: 200, height: 280 };\r\n            if (!card) {\r\n                if (this.game.freeze)\r\n                    return;\r\n\r\n                this.cardCenter = {\r\n                    id: this.cardCenter.id,\r\n                    position: this.cardCenter.position,\r\n                    to: { ...this.cardCenter.position, height: 0 }\r\n                };\r\n            }\r\n            else {\r\n                this.cardCenter = {\r\n                    id: card.id,\r\n                    position: card.position,\r\n                    to: {\r\n                        x: center.x,\r\n                        y: center.y,\r\n                        width: center.width,\r\n                        height: center.height,\r\n                        rotation: 0\r\n                    }\r\n                };\r\n            }\r\n\r\n            const animations = [{ id: 'cardCenter', from: this.cardCenter.position, to: this.cardCenter.to, isIncrement: false }];\r\n            helperAnimation.animateMultiple(animations, gameGundam.delay);\r\n            setTimeout(() => {\r\n                this.cardCenter.position = this.cardCenter.to;\r\n                delete (this.cardCenter.to);\r\n                this.game.cardCenter = this.cardCenter.position.height > 0 ? this.cardCenter : null;\r\n                this.tutoNext(false);\r\n            }, 510);\r\n\r\n        },\r\n\r\n        // Utils\r\n        clone(obj) { return Object.assign({}, obj); },\r\n        getCard(index) {\r\n            return this.game.cards.find(x => x.index == index);\r\n        },\r\n        getFieldStyleObj(size) {\r\n            return this.getFieldStyle(size.x, size.y, size.width, size.height);\r\n        },\r\n        getFieldStyle(x, y, w, h) {\r\n            return {\r\n                width: w + 'px', height: h + 'px',\r\n                left: x + 'px', top: y + 'px'\r\n            };\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./game.vue?vue&type=template&id=4ea50d6a&\"\nimport script from \"./game.vue?vue&type=script&lang=js&\"\nexport * from \"./game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./game.vue?vue&type=style&index=0&id=4ea50d6a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $RangeError = RangeError;\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.with\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.with\nmodule.exports = function (O, C, index, value) {\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualIndex = relativeIndex < 0 ? len + relativeIndex : relativeIndex;\n  if (actualIndex >= len || actualIndex < 0) throw $RangeError('Incorrect index');\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = k === actualIndex ? value : O[k];\n  return A;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar arrayWith = require('../internals/array-with');\nvar toIndexedObject = require('../internals/to-indexed-object');\n\nvar $Array = Array;\n\n// `Array.prototype.with` method\n// https://tc39.es/ecma262/#sec-array.prototype.with\n$({ target: 'Array', proto: true }, {\n  'with': function (index, value) {\n    return arrayWith(toIndexedObject(this), $Array, index, value);\n  }\n});\n","class helperAnimation {\r\n\r\n    static animateElement(element, from, to, duration) {\r\n        const anim = { element, from, to };\r\n        this.animateElements([anim], duration);\r\n    }\r\n    static animateElements(animations, duration) {\r\n        const startTime = performance.now();\r\n\r\n        function update(currentTime) {\r\n            function getAnimValue(property, anim, time) {\r\n                let t = time;\r\n                let from = null;\r\n                let to = null;\r\n                let progress = 0;\r\n\r\n                if (anim.delay) {\r\n                    t = (t < 0.5) ? (t + 0.5) : (t - 0.5);\r\n                }\r\n\r\n                if (!anim.mid || !anim.mid[property]) {\r\n                    progress = t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2;\r\n                    from = anim.from;\r\n                    to = anim.to;\r\n                }\r\n                else if (t < 0.5) {\r\n                    t = t / 0.5;\r\n                    progress=t;\r\n                    from = anim.from;\r\n                    to = anim.mid;\r\n                } else {\r\n                    t = (t - 0.5) / 0.5;\r\n                    progress=t;\r\n                    from = anim.mid;\r\n                    to = anim.to;\r\n                }\r\n\r\n                return from[property] + (to[property] - from[property]) * progress;\r\n            }\r\n\r\n            const elapsedTime = currentTime - startTime;\r\n            const t = Math.min(elapsedTime / duration, 1); // de 0  1\r\n\r\n            animations.forEach(anim => {\r\n                const currentX = getAnimValue('x', anim, t);\r\n                const currentY = getAnimValue('y', anim, t);\r\n                const currentWidth = getAnimValue('width', anim, t);\r\n                const currentHeight = getAnimValue('height', anim, t);\r\n                const currentRotation = getAnimValue('rotation', anim, t);\r\n                const currentOpacity = getAnimValue('opacity', anim, t);\r\n\r\n                anim.element.style.left = currentX + \"px\";\r\n                anim.element.style.top = currentY + \"px\";\r\n                anim.element.style.height = currentHeight + \"px\";\r\n                anim.element.style.width = currentWidth + \"px\";\r\n                anim.element.style.opacity = currentOpacity;\r\n                anim.element.style.transform = `rotate(${currentRotation}deg)`;\r\n            });\r\n\r\n            if (t < 1)\r\n                requestAnimationFrame(update);\r\n        }\r\n\r\n        requestAnimationFrame(update);\r\n    }\r\n\r\n    static easeInOut(t) {\r\n        return t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2;\r\n    }\r\n\r\n    static add(val1, val2) {\r\n        const properties = 'x,y,width,height,rotation,opacity';\r\n        const result = {};\r\n        properties.split(',').forEach(property => {\r\n            result[property] = val1[property];\r\n            const value = val2[property];\r\n            if (value)\r\n                result[property] += value;\r\n        });\r\n        return result;\r\n    }\r\n\r\n    static setIfNull(from, mid) {\r\n        const properties = 'x,y,width,height,rotation,opacity';\r\n        const result = {};\r\n        properties.split(',').forEach(property => {\r\n            result[property] = from[property];\r\n            const value = mid[property];\r\n            if (value)\r\n                result[property] = value;\r\n        });\r\n        return result;\r\n    }\r\n\r\n    static getRelativeTo0(val1, val2) {\r\n        return { x: val2.x - val1.x, y: val2.y - val1.y };\r\n    }\r\n    static pxStringToInt(value) { return parseInt(value.replace(\"px\", \"\")); }\r\n\r\n    static animate(id, from, to, isIncrement, duration) {\r\n        return this.animateMultiple([{ id, from, to, isIncrement }], duration);\r\n    }\r\n\r\n    static animateMultipleByCss(animations, duration) {\r\n        animations.forEach(anim => {\r\n            if (!anim.to) return;\r\n    \r\n            anim.element = document.getElementById(anim.id);\r\n            if (!anim.element) {\r\n                console.log(\"element can't be found : \" + anim.id);\r\n                return;\r\n            }\r\n    \r\n            let delay = \"0.\" + duration + \"s\";\r\n            anim.element.style.transition = `top ${delay} ease, left ${delay} ease, height ${delay} ease, width ${delay} ease, opacity ${delay} ease, transform ${delay} ease`;\r\n        });\r\n    \r\n        //  FORCER LE REPAINT / REFLOW\r\n        animations.forEach(anim => anim.element?.offsetHeight);\r\n    \r\n        // Maintenant appliquer les nouveaux styles\r\n        animations.filter(x => x.element).forEach(anim => {\r\n            anim.element.style.left = anim.to.x + \"px\";\r\n            anim.element.style.top = anim.to.y + \"px\";\r\n            anim.element.style.height = anim.to.height + \"px\";\r\n            anim.element.style.width = anim.to.width + \"px\";\r\n            anim.element.style.opacity = anim.to.opacity;\r\n            anim.element.style.transform = `rotate(${anim.to.rotation}deg)`;\r\n        });\r\n    }\r\n\r\n    static animateMultiple(animations, duration = -1) {\r\n        animations.forEach(anim => {\r\n            if (!anim.to) {\r\n                // console.log(\"to is missing for animation : \" + anim.id);\r\n                return;\r\n            }\r\n            anim.element = document.getElementById(anim.id);\r\n            if (!anim.element) {\r\n                console.log(\"element can't be found : \" + anim.id);\r\n                return;\r\n            }\r\n            anim.from = anim.from ?? {\r\n                x: this.pxStringToInt(anim.element.style.left),\r\n                y: this.pxStringToInt(anim.element.style.top),\r\n                rotation: anim.element.style.rotation,\r\n                height: anim.element.style.height,\r\n                width: anim.element.style.width,\r\n                delay: false\r\n            };\r\n            anim.from.rotation = anim.from.rotation ?? 0;\r\n            anim.from.opacity = anim.from.opacity ?? 1;\r\n            anim.from.height = anim.from.height ?? anim.element.clientHeight;\r\n            anim.to = anim.isIncrement ? this.add(anim.from, anim.to) : anim.to;\r\n            anim.mid = !anim.mid ? null : anim.isIncrement ? this.add(anim.from, anim.mid) : anim.mid;\r\n        });\r\n        this.animateElements(animations, duration);\r\n    }\r\n\r\n    /*const newSize = initialSize + (targetSize - initialSize) * easedProgress;\r\n      div.style.width = `${newSize}px`;\r\n      div.style.height = `${newSize}px`;*/\r\n\r\n}\r\n\r\nmodule.exports = helperAnimation;\r\n","var map = {\n\t\"./CardsGundam.png\": 4859,\n\t\"./EncyclopedieGundam.png\": 15831,\n\t\"./GundamEncyclopedie.png\": 94627,\n\t\"./GundamLogo.jpg\": 30262,\n\t\"./GundamLogo2.png\": 68499,\n\t\"./cards/C001.webp\": 97118,\n\t\"./cards/C002.webp\": 17975,\n\t\"./cards/EXB-001.webp\": 43631,\n\t\"./cards/EXBP-001.webp\": 69411,\n\t\"./cards/GD01-004.webp\": 19862,\n\t\"./cards/GD01-004_p1.webp\": 91962,\n\t\"./cards/GD01-005.webp\": 80632,\n\t\"./cards/GD01-008.webp\": 13406,\n\t\"./cards/GD01-009.webp\": 39343,\n\t\"./cards/GD01-011.webp\": 57985,\n\t\"./cards/GD01-013.webp\": 25257,\n\t\"./cards/GD01-015.webp\": 29370,\n\t\"./cards/GD01-016.webp\": 24272,\n\t\"./cards/GD01-018.webp\": 62998,\n\t\"./cards/GD01-026.webp\": 83759,\n\t\"./cards/GD01-026_p1.webp\": 58145,\n\t\"./cards/GD01-028.webp\": 21495,\n\t\"./cards/GD01-030.webp\": 94485,\n\t\"./cards/GD01-031.webp\": 38537,\n\t\"./cards/GD01-034.webp\": 63515,\n\t\"./cards/GD01-040.webp\": 66732,\n\t\"./cards/GD01-041.webp\": 70958,\n\t\"./cards/GD01-068.webp\": 46040,\n\t\"./cards/GD01-070.webp\": 45504,\n\t\"./cards/GD01-070_p1.webp\": 85993,\n\t\"./cards/GD01-072.webp\": 8042,\n\t\"./cards/GD01-075.webp\": 52313,\n\t\"./cards/GD01-076.webp\": 85876,\n\t\"./cards/GD01-077.webp\": 97867,\n\t\"./cards/GD01-081.webp\": 18546,\n\t\"./cards/GD01-088.webp\": 14026,\n\t\"./cards/GD01-088_p1.webp\": 68437,\n\t\"./cards/GD01-089.webp\": 27418,\n\t\"./cards/GD01-091.webp\": 81708,\n\t\"./cards/GD01-097.webp\": 34893,\n\t\"./cards/GD01-099.webp\": 49483,\n\t\"./cards/GD01-100.webp\": 93330,\n\t\"./cards/GD01-100_p1.webp\": 92990,\n\t\"./cards/GD01-105.webp\": 67155,\n\t\"./cards/GD01-107.webp\": 66642,\n\t\"./cards/GD01-107_p1.webp\": 60768,\n\t\"./cards/GD01-117.webp\": 79955,\n\t\"./cards/GD01-118.webp\": 70779,\n\t\"./cards/GD01-118_p1.webp\": 57707,\n\t\"./cards/GD01-120.webp\": 90273,\n\t\"./cards/GD01-124.webp\": 8279,\n\t\"./cards/R-001.webp\": 96567,\n\t\"./cards/R-002.webp\": 38857,\n\t\"./cards/ST01-001.webp\": 16906,\n\t\"./cards/ST01-001_p1.webp\": 6864,\n\t\"./cards/ST01-002.webp\": 23582,\n\t\"./cards/ST01-005.webp\": 7162,\n\t\"./cards/ST01-007.webp\": 56694,\n\t\"./cards/ST01-008.webp\": 70791,\n\t\"./cards/ST01-010.webp\": 45022,\n\t\"./cards/ST01-011.webp\": 56581,\n\t\"./cards/ST01-011_p1.webp\": 1978,\n\t\"./cards/ST01-012.webp\": 13866,\n\t\"./cards/ST01-013.webp\": 79915,\n\t\"./cards/ST01-015.webp\": 51310,\n\t\"./cards/ST01-016.webp\": 86882,\n\t\"./cards/ST02-001.webp\": 58864,\n\t\"./cards/ST02-001_p1.webp\": 76074,\n\t\"./cards/ST02-002.webp\": 23941,\n\t\"./cards/ST02-005.webp\": 55045,\n\t\"./cards/ST02-010.webp\": 99834,\n\t\"./cards/ST02-012.webp\": 57160,\n\t\"./cards/ST02-013.webp\": 55214,\n\t\"./cards/ST02-015.webp\": 34078,\n\t\"./cards/ST03-007.webp\": 82235,\n\t\"./cards/ST03-008.webp\": 55340,\n\t\"./cards/ST03-011.webp\": 56486,\n\t\"./cards/ST03-011_p1.webp\": 92329,\n\t\"./cards/ST03-016.webp\": 77816,\n\t\"./cards/ST04-001.webp\": 22859,\n\t\"./cards/ST04-001_p1.webp\": 46858,\n\t\"./cards/ST04-002.webp\": 18971,\n\t\"./cards/ST04-005.webp\": 54511,\n\t\"./cards/ST04-010.webp\": 80363,\n\t\"./cards/ST04-013.webp\": 14005,\n\t\"./cards/ST04-015.webp\": 81633,\n\t\"./cards/T-001.webp\": 32442,\n\t\"./cards/T-002.webp\": 46514,\n\t\"./cards/T-003.webp\": 88739,\n\t\"./cards/T-006.webp\": 17071,\n\t\"./cards/empty.webp\": 8621,\n\t\"./cards/empty2.webp\": 66626,\n\t\"./cards/emptyOld.webp\": 40879,\n\t\"./centerZone.png\": 17852,\n\t\"./centerZone2.png\": 75025,\n\t\"./centerZone3.png\": 95130,\n\t\"./deck1.png\": 69877,\n\t\"./deck2.png\": 85350,\n\t\"./deck3.png\": 58251,\n\t\"./deck4.png\": 13665,\n\t\"./deck5.png\": 35931,\n\t\"./deck6.png\": 23094,\n\t\"./gundam.png\": 63111,\n\t\"./gundam2.png\": 98815,\n\t\"./head.png\": 83639,\n\t\"./wallpaper.webp\": 45648,\n\t\"./wallpaper2.webp\": 81121,\n\t\"./wingzero2.gif\": 70898\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 73890;","var map = {\n\t\"./Gundam/cards/empty.webp\": 8621\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 50655;","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}"],"names":["render","_vm","this","_c","_self","staticClass","_l","sources","point","index","key","class","absolute","pointCircle","colorYellow","show","style","top","y","left","x","width","height","attrs","on","$event","drag","$emit","display","source","targets","filter","target","colorGreen","_v","_s","text","staticStyle","id","color","staticRenderFns","name","props","component","components","arrowDiv","data","delay","animations","mouse","watch","resetSources","mounted","window","addEventListener","updateMouse","mouseUp","beforeUnmount","removeEventListener","methods","e","touch","touches","length","clientX","clientY","updateAnimation","forEach","element","document","getElementById","animate","freeze","helperAnimation","setTimeout","isInside","box","minX","minY","maxX","maxY","createAnimation","find","from","destination","animation","rotation","getAngleDeg","widthHalf","to","mid","opacity","isIncrement","angleRad","Math","atan2","PI","refreshG","getFieldStyleObj","game","transform","player1","resourcesAvailable","resourcesMax","player2","grid","resources","bg","w100p","h100p","texts","endTurn","domProps","logs","tutoMasks","tutoMask","card","showTextTuto","border","choice","popup","cards","position","effectsLuncher","static","trigger","isEffectExisting","card1","result","lunchEffectTriggerForOneCard","effects","getEffects","cancelMoveToTrash","getCancelMoveToTrash","addTaskFirst","applyEffectCard","card2","isExistingCard1Effect","isExistingCard2Effect","tasks","push","cardUnit","cardPilot","addTasksFirst","ignorePair","map","fx","pair","concat","effectsThatCancelMoveToTrash","sendToHand","deploy","effect","includes","task","getEffectText","join","tasksDelay","hide","showCardsEffect","applyEffect","addTasks","toString","value","effect2","ap","hp","replace","incruises","removeEndTurn","players","player","field","recalculateApHp","lost","log","opponent","targetResult","handleEffectTarget","stop","end","isEffectMatchConditions","cost","playCardCost","oneTurn","isConditionsAfterRespected","rest","setActive","_defineProperty","effectsTarget","cardChoice","popupTargetCards","pairedWith","isCardUnit","active","hadBlocker","hand","targetId","attribute","targetAttribute","hasEffect","Error","choices","optional","isPlayer1","mainEffects","trigger_main","refreshPlayersMainEffect","hasEffects","lunchMainEffectCard","positioner","screenWidth","screenHeight","border2","widthMargin","heightMargin","boxHeight","boxWidth","isVertical","card100","player2Hand","location","locationHand","player2Field","locationField","centerZone","centerZoneP2","player1Field","player1Hand","createVerticalGrid","createHorizontalGrid","cardSizeReduce","player1Deck","player1Trash","boxWidthVertical","buttonEffect","buttonEndTurn","halfPlayer1","halfPlayer2","heightQuarter","textZone","logZone","highlightCardCenter","highlightCardLeft","getCardSize","highlightCardRight","drop","play","attack","boxHeightVertical","player1Shield","locationShield","player1Base","locationBase","locationDeck","locationTrash","player2Shield","player2Base","player2Deck","player2Trash","clone","count","cardHeightPercent","desiredWidth","desiredHeight","cardSize","total","degree","wrapCut","centerEmptyZone","zoneHeight","totalCards","cardSizeModified","floor","indexModified","getCardPositionXY","indexLine","totalLine","cardSizeLine","positionLine","getXCenter","totalWidth","elementWidth","sizeWidth","ratio","margin","maxSize","i","size","getCardSizeWrap","marginHorizontal","lineIndex","lineRequired","ceil","ratioInverted","heightDesired","widthDesired","sens","widthEdit","heightEdit","isValid","alignPositionNextToUsingSens","isHorizontal","xOffset","yOffset","arrow","addArrow","selectable","max","isCostAvailable","level","isTurnPlayer","canAttack","cardAction","askForActionCardsForThisPlayer","property","noActionCard","trigger_action","taskAttack","move","actionCard","playerIndex","conditions","isConditionsRespected","conditionsAfter","condition","hasAttribute","trash","isCardCommand","cardMove","cardSpawn","moveCard","spawnIfNot","addIn","positions","deck","zindex","locationFrom","locationTo","removeByIndex","splice","onField","isTemporaryCard","fadeOut","hidestat","verso","handleMainEffectsCard","link","needToRefreshAllField","cardPlay","zone","playFromHand","prepareAttack","playThisCard","sendBack","sendCardBackToSquareOne","isSamePlayer","addTaskPos2","attacker","breach","wrongCost","regularPlay","positionDrag","refresh","playCost","isPilot","isCardPilot","isCommand","pilotOrCommand","askPilotOrCommand","isExisting","effectsAlreadyDone","trigger_onplay","isCardBase","base","addTasksPos2","trigger_command","resourcesEx","refreshPlayerArea","cardsToRemoveIndex","setSelectable","resource","baseIcon","shieldIcon","getIcon","shield","deckIcon","trashIcon","textEffect","useZoneSize","bgposition","getWrapPosition","adjustRotationSize","getPairPosition","percent","previous","reverPercentHalf","loseX","loseY","wait","showTitle","tuto","continueTuto","triggerRefreshAlreadyDone","lunchEffectTriggerMultiple","trigger_refresh","needTaskEndRefresh","refreshOnlyTextEffect","cardHighlight","refreshFieldAndHand","refreshDragAndDrop","drags","unitWithoutPilots","drops","unit","getPos","ennemyTarget","isValidTarget","spawnOrMove","costOrigin","reduceValue","JSON","stringify","createCard","values","undefined","min","playToken","destroyUnit","hpMax","hpOrigin","hpMaxOrigin","getAndRemoveFirst","bottomCard","shieldProtection","cardPlayer","getPlayer","alreadyDone","blocker","highManeuver","addTask","attackActiveEnnemy","immuneAp","step","attackStep","stepSelectBlocker","selectBlocker","stepSelectActionCards","askForActionCards","stepSelectCardOpponent","selectCardOpponent","stepEffectBattle","effectBattle","stepShowFight","showFight","stepFight","fight","nextStep","array","indexOf","blockers","burstEffect","trigger_burst","showCards","battleEffectsAlreadyDone","trigger_battle","damage","activeBreach","tasksAttackerDead","setup","quickstart","resourceStart","handStartLength","campaign","shieldStartLength","createPlayer","decklistPlayer1","decklistPlayer2","random","fields","playerOpponent","decklist","createDeck","empty","split","line","info","quantity","parseInt","cardList","createUniqueRare","sortRandom","rareKeyWord","rareCards","gundamCards","files","rareCard","firstCard","sort","mulligan","yes","no","removeIds","addShielsAndBase","nextTurn","addBase","deletePopup","handleAiPopup","actionPlayer","actionOpponent","tasksString","taskEndRefresh","indexTask","addTasksIndex","first","resetZIndex","message","alert","obj","Object","assign","cla","useTuto","ignore","c","getOwnPropertyNames","method","list","slice","valueOld","valueNew","title","taskTextShow","fxRed","hideFx","fxText","turn","getOpponent","global","trigger_end","getPlayerTurn","playerId","startTasks","idTask","taskMoveAndShowCenter","newTurn","removeOneTurnEffect","setSelectableFalse","baseText","turnIndex","trigger_turn","properties","prop","startsWith","tutoDone","tutoText","used","playerInfo","lang","tutoStep","next","tutoSteps","autoNextStep","isDone","action","context","en","welcome","playUnit","cantAttack","zoom","showLevelCost","showLink","showApHp","showResources","showResources2","showResources3","playLevel3","playIt","resourcesUsed","ennemyBase","rested","showApHp2","showApHp3","showEffect","p2LinkUnit","p2AttackBase","p2AttackUnit","unitTrash","linkUnit","linkPilot","attackLink","revenge","famous","baseDestroyed","command","attackRested","burst","playBase","oneBase","useEffect","whiteBase","pairPilot","showPairUnit","playAlone","fr","addTutoMask","tutoSmall","getTextTuto","alignPositionNextTo","conditionNexTurn","hideNext","freezeButtons","cardCenter","isGood","fxTextCancelFadeout","cardFocus","isLink","isExistingPairEffects","effectsAlreadyDonePair","lunchEffectTriggerForTwoCard","trigger_onpair","isExistingLinkEffects","effectsAlreadyDoneLink","trigger_onlink","locationPair","apOrigin","ai","haveBeenRefresh","AiUsed","refreshAiTurn","taskAdded","cardsAvailable","combos","getAiCombos","handleAiHand","handleAiField","selectChoiceNull","aiCombos","units","pilots","pilotLinkUnits","getAiCombosPilotLinkUnit","pilotLinkUnitsOnFieldWithEffects","getAiCombosPilotLinkUnitFieldWithEffects","costRemaining","pilot","a","b","unitHasEffect","hasLinkEffect","aiPlay","bases","playCombo","combo","handleStrategy","getPlayCardTasks","unitsThatCanAttack","notEnoughShield","getNotEnoughShield","getTarget","declareAiAttack","attackMinimimForWin","iPlay","with","iAttack","against","aiStrategy","handleStrategyCard","strategy","hasActiveUnitThatNeedRepair","hasInactiveBlocker","scripts","utils","cardLife","addFunction","createGrid","continue","isStart","endAnimation","handleTasks","newTurnForAI","isVictory","bgYellow","circle15px","cursor","shine","bgRed","circle","fadeInOut","getRedFxStyle","_e","require","folder","preventDefault","fontSize150em","dead","getBananaStyle","p1max","p1yellow","p1blue","p2max","p2yellow","p2blue","getTextStyle","angle","anglePercent","anglePercentMinusMargin","background","percentIncruise","leftValue","getParabolicY","topValue","y0","y50","y100","t","icon","gameCard","bananaBars","dragDropArrow","resizeTimeout","popupShow","ignoreEvent","clearTimeout","resizeGame","setDecks","gameGundam","resize","$vuetify","breakpoint","deck1","deck2","start","playerinfo","refreshGame","animTextEffect","dropPoint","event","playCard","selectChoice","selectChoiceCard","showLocationCards","showOrHidePopup","tutoNext","showTextEffect","beginAnimation","animationTime","cardsToAnimate","divId","clickDrop","showCard","center","getCard","getFieldStyle","w","h","lengthOfArrayLike","toIntegerOrInfinity","$RangeError","RangeError","module","exports","O","C","len","relativeIndex","actualIndex","A","k","$","arrayWith","toIndexedObject","$Array","Array","proto","duration","anim","animateElements","startTime","performance","now","update","currentTime","getAnimValue","time","progress","pow","elapsedTime","currentX","currentY","currentWidth","currentHeight","currentRotation","currentOpacity","requestAnimationFrame","val1","val2","animateMultiple","console","transition","offsetHeight","pxStringToInt","clientHeight","add","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","keys","resolve","_typeof","Symbol","iterator","constructor","prototype","_toPrimitive","input","hint","prim","toPrimitive","res","call","TypeError","String","Number","_toPropertyKey","arg","toPropertyKey","defineProperty","enumerable","configurable","writable"],"sourceRoot":""}